"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7215],{66297:function(e,n,t){var r,o,a,i=t(26068),c=t.n(i),u=t(53649),l=t.n(u),s=t(65361),d=t(25466),p=t(58281),f=t(82187),m=t.n(f),v=t(75271),h=t(67585),b=t(3453),g=t(52676),k=(0,p.kc)((function(e){var n=e.token;return{alertBlockInfo:(0,e.css)(r||(r=l()(["\n      padding-block: 6px;\n      padding-inline: 10px 16px;\n      position: relative;\n      padding-left: 32px;\n      text-align: left;\n      border-radius: ","px;\n      margin: 0;\n      border: 1px solid transparent;\n      .ant-typography {\n        margin-bottom: 0;\n      }\n\n      &.danger {\n        border-color: ",";\n        background-color: ",";\n      }\n\n      &.warning {\n        border-color: ",";\n        background-color: ",";\n      }\n\n      &.transition {\n        color: ",";\n        background: ",";\n        border-color: ",";\n      }\n\n      &.success {\n        border: 1px solid ",";\n        color: ",";\n        background: ",";\n\n        .content.success {\n          font-weight: var(--font-weight-normal);\n        }\n      }\n      .title {\n        position: absolute;\n        left: 0;\n        top: 0;\n        display: flex;\n        height: 32px;\n        padding: 5px 10px;\n        border-radius: ","px ","px 0 0;\n\n        .info-icon {\n          &.danger {\n            color: ",";\n          }\n\n          &.warning {\n            color: ",";\n          }\n\n          &.transition {\n            color: ",";\n          }\n\n          &.success {\n            color: ",";\n          }\n        }\n\n        .text {\n          font-weight: var(--font-weight-bold);\n        }\n      }\n    "])),n.borderRadius,n.colorErrorBorder,n.colorErrorBg,n.colorWarningBorder,n.colorWarningBg,n.geekblue7,n.geekblue1,n.geekblue3,n.colorSuccess,n.colorSuccessText,n.colorSuccessBg,n.borderRadius,n.borderRadius,n.colorErrorText,n.colorWarningText,n.geekblue7,n.colorSuccessText)}})),y=h.ZP.div(o||(o=l()(["\n  font-weight: 700;\n  color: var(--ant-color-text);\n"]))),E=h.ZP.div(a||(a=l()(["\n  word-break: break-word;\n  color: ",";\n  font-weight: var(--font-weight-500);\n  white-space: pre-line;\n"])),(function(e){return e.$hasTitle?"var(--ant-color-text-secondary)":"var(--ant-color-text)"})),x=function(e){var n=e.message,t=e.type,r=e.rows,o=void 0===r?1:r,a=e.ellipsis,i=e.style,u=e.title,l=e.contentStyle,p=e.icon,f=e.maxHeight,v=void 0===f?86:f,h=e.overlayScrollerProps,x=void 0===h?{}:h,w=k().styles;return(0,g.jsx)(g.Fragment,{children:n?(0,g.jsx)("div",{className:m()(w.alertBlockInfo,t),style:c()({},i),children:(0,g.jsxs)(d.Z.Paragraph,{ellipsis:null!=a?a:{rows:o,tooltip:n},children:[(0,g.jsx)("div",{className:m()("title",t),children:(0,g.jsx)("span",{className:m()("info-icon",t),children:null!=p?p:(0,g.jsx)(s.Z,{})})}),u&&(0,g.jsx)(y,{className:"title-text",children:u}),(0,g.jsx)(b.ZP,c()(c()({maxHeight:v,style:c()({},l)},x),{},{children:(0,g.jsx)(E,{$hasTitle:!!u,className:m()("content",t),children:n})}))]})}):null})};n.Z=v.memo(x)},85882:function(e,n,t){var r,o=t(26068),a=t.n(o),i=t(48305),c=t.n(i),u=t(67825),l=t.n(u),s=t(53649),d=t.n(s),p=t(15409),f=t(68652),m=t(32699),v=t(75271),h=t(67585),b=t(3453),g=t(52676),k=["children","maxWidth","minWidth","ghost","title","showTitle","tooltipProps","radius","filled"],y=(0,h.ZP)(f.Z)(r||(r=d()(["\n  margin: 0;\n  &.tag-filled {\n    border: none;\n    background-color: var(--ant-color-fill-secondary);\n  }\n"]))),E=function(e){var n=e.children,t=e.maxWidth,r=void 0===t?"100%":t,o=e.minWidth,i=e.ghost,u=void 0!==i&&i,s=e.title,d=e.showTitle,f=void 0!==d&&d,h=e.tooltipProps,E=e.radius,x=void 0===E?12:E,w=e.filled,A=void 0!==w&&w,D=l()(e,k),T=(0,v.useRef)(null),Z=(0,v.useState)(!1),C=c()(Z,2),O=C[0],I=C[1],N=(0,v.useRef)(null),P=(0,v.useCallback)((function(){if(T.current){var e=T.current,n=e.scrollWidth,t=e.clientWidth;I(n>t)}}),[T.current]);(0,v.useEffect)((function(){var e,n,t=T.current;if(t)return null===(e=N.current)||void 0===e||e.disconnect(),N.current=new ResizeObserver((function(){P()})),null===(n=N.current)||void 0===n||n.observe(t),P(),function(){var e;null===(e=N.current)||void 0===e||e.disconnect(),N.current=null}}),[P]),(0,v.useEffect)((function(){var e=(0,m.throttle)(P,200);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e),e.cancel()}}),[P]),(0,v.useEffect)((function(){P()}),[n,P]);var R=(0,v.useMemo)((function(){return a()({maxWidth:r,minWidth:o,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},D.style)}),[r,D.style]);return(0,g.jsx)(b.$R,{toolTipProps:a()(a()({},h),{},{destroyOnHidden:!1}),title:!(!O&&!f)&&(s||n),children:u?(0,g.jsx)("div",{ref:T,style:R,"data-overflow":O,children:n}):(0,g.jsx)(y,a()(a()({},D),{},{className:"".concat(D.className||""," ").concat(A?"tag-filled":""),ref:T,style:a()({paddingInline:D.closable?"8px 22px":8,borderRadius:x},R),closeIcon:!!D.closable&&(0,g.jsx)(p.Z,{style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)"}}),children:n}))})};n.Z=v.memo(E)},10939:function(e,n,t){var r=t(92829),o=t(13554),a=t(25324),i=t(38913),c=t(96331),u=t(83992),l=t(86422),s=t(62826),d=t(95059),p=t(41680),f=t(50903),m=t(51800),v=t(75271),h={EditOutlined:v.createElement(o.Z),ExperimentOutlined:v.createElement(a.Z),DeleteOutlined:v.createElement(i.Z),ThunderboltOutlined:v.createElement(c.Z),RetweetOutlined:v.createElement(u.Z),DownloadOutlined:v.createElement(l.Z),FileTextOutlined:v.createElement(s.Z),ApiOutlined:v.createElement(d.Z),KubernetesOutlined:v.createElement(p.Z),ProfileOutlined:v.createElement(f.Z),DockerOutlined:v.createElement(m.Z),Stop:v.createElement(r.Z,{type:"icon-stop1"}),Play:v.createElement(r.Z,{type:"icon-outline-play"}),Catalog:v.createElement(r.Z,{type:"icon-catalog"}),HF:v.createElement(r.Z,{type:"icon-huggingface"}),Ollama:v.createElement(r.Z,{type:"icon-ollama"}),ModelScope:v.createElement(r.Z,{type:"icon-tu2"}),LocalPath:v.createElement(r.Z,{type:"icon-hard-disk"}),Launch:v.createElement(r.Z,{type:"icon-rocket-launch"}),Deployment:v.createElement(r.Z,{type:"icon-rocket-launch1"}),Docker:v.createElement(r.Z,{type:"icon-docker"}),DigitalOcean:v.createElement(r.Z,{type:"icon-digitalocean"}),DetailInfo:v.createElement(r.Z,{type:"icon-detail-info"}),HuaweiCloud:v.createElement(r.Z,{type:"icon-huaweicloud"}),AliCloud:v.createElement(r.Z,{type:"icon-alicloud"}),TencentCloud:v.createElement(r.Z,{type:"icon-tencentcloud"}),Nvidia:v.createElement(r.Z,{type:"icon-nvidia"}),Ascend:v.createElement(r.Z,{type:"icon-ascend"}),Catalog1:v.createElement(r.Z,{type:"icon-catalog1"}),AMD:v.createElement(r.Z,{type:"icon-amd"}),KubernetesFilled:v.createElement(r.Z,{type:"icon-k8s-filled"}),EditContent:v.createElement(r.Z,{type:"icon-edit-content"}),Yaml:v.createElement(r.Z,{type:"icon-code_block"}),Version:v.createElement(r.Z,{type:"icon-version"}),Parameter:v.createElement(r.Z,{type:"icon-parameters"}),Private:v.createElement(r.Z,{type:"icon-private"}),AWS:v.createElement(r.Z,{type:"icon-aws"}),LockOpenRight:v.createElement(r.Z,{type:"icon-lock_open_right"}),LockPerson:v.createElement(r.Z,{type:"icon-lock_person"}),LockOpen:v.createElement(r.Z,{type:"icon-lock_open"}),Permission:v.createElement(r.Z,{type:"icon-permission"}),CaptivePortal:v.createElement(r.Z,{type:"icon-captive_portal"})};n.Z=h},4746:function(e,n,t){t.d(n,{D:function(){return o},k:function(){return a}});var r=t(75271),o=r.createContext({}),a=function(){var e=r.useContext(o);if(!e)throw new Error("useLabelSelectorContext must be used within a LabelSelectorProvider");return e}},81305:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(15558),o=t.n(r),a=t(48305),i=t.n(a),c=t(53231),u=t(32699),l=t.n(u),s=t(75271),d=t(53722),p=t(55446),f=t(25408),m=t(79635),v=t(4746),h=t(52676),b=function(e){var n=e.labels,t=e.label,r=e.labelList,o=e.seperator,a=e.keyAddon,u=e.valueAddon,b=e.disabled,g=e.onChange,k=e.onDelete,y=e.onBlur,E=(0,c.useIntl)(),x=(0,s.useState)(!1),w=i()(x,2),A=w[0],D=w[1],T=(0,v.k)().options,Z=(0,s.useMemo)((function(){return null==T?void 0:T.filter((function(e){return!l().has(n,e.value)||e.value===t.key}))}),[n,T]),C=(0,s.useMemo)((function(){var e;return(null==T||null===(e=T.find((function(e){return e.value===t.key})))||void 0===e?void 0:e.children)||[]}),[t.key,T]);return(0,h.jsxs)("div",{className:"label-item",children:[(0,h.jsx)("div",{className:"label-key",children:null!=a?a:(0,h.jsx)(f.Z,{open:A,title:E.formatMessage({id:"resources.table.key.tips"}),children:(0,h.jsx)(d.Z,{options:Z,disabled:b,checkStatus:"success",label:E.formatMessage({id:"common.input.key"}),value:t.key,onChange:function(e){null==g||g({key:e,value:t.value})},onBlur:function(e){return function(e,n){var o=e.target.value;l().filter(r,(function(e){return o&&o===e.key})).length>1?(D(!0),null==g||g({key:"",value:t.value}),setTimeout((function(){D(!1)}),1e3)):D(!1),null==y||y(e,n)}(e,"key")}})})}),o&&(0,h.jsx)("span",{className:"seprator",children:o}),(0,h.jsx)("div",{className:"label-value",children:null!=u?u:(0,h.jsx)(d.Z,{options:C,disabled:b,checkStatus:t.value?"success":"",label:E.formatMessage({id:"common.input.value"}),value:t.value,onChange:function(e){null==g||g({key:t.key,value:e})},onBlur:function(e){return null==y?void 0:y(e,"value")}})}),!b&&(0,h.jsx)(m.ZP,{size:"small",className:"btn",type:"default",shape:"circle",onClick:k,children:(0,h.jsx)(p.Z,{})})]})},g=t(51143),k=function(e){var n=e.label,t=e.labelList,r=e.seperator,o=e.keyAddon,a=e.valueAddon,u=e.disabled,d=e.onChange,v=e.onDelete,b=e.onPaste,k=e.onBlur,y=(0,c.useIntl)(),E=(0,s.useState)(!1),x=i()(E,2),w=x[0],A=x[1];return(0,h.jsxs)("div",{className:"label-item",children:[(0,h.jsx)("div",{className:"label-key",children:null!=o?o:(0,h.jsx)(f.Z,{open:w,title:y.formatMessage({id:"resources.table.key.tips"}),children:(0,h.jsx)(g.Z.Input,{disabled:u,checkStatus:"success",label:y.formatMessage({id:"common.input.key"}),value:n.key,onChange:function(e){var t=e.target.value;null==d||d({key:t,value:n.value})},onBlur:function(e){return function(e,r){var o=e.target.value;l().filter(t,(function(e){return o&&o===e.key})).length>1?(A(!0),null==d||d({key:"",value:n.value}),setTimeout((function(){A(!1)}),1e3)):A(!1),null==k||k(e,r)}(e,"key")},onPaste:b})})}),r&&(0,h.jsx)("span",{className:"seprator",children:r}),(0,h.jsx)("div",{className:"label-value",children:null!=a?a:(0,h.jsx)(g.Z.Input,{trim:!1,disabled:u,checkStatus:n.value?"success":"",label:y.formatMessage({id:"common.input.value"}),value:n.value,onChange:function(e){var t=e.target.value;null==d||d({key:n.key,value:t})},onBlur:function(e){return null==k?void 0:k(e,"value")}})}),!u&&(0,h.jsx)(m.ZP,{size:"small",className:"btn",type:"default",shape:"circle",onClick:v,children:(0,h.jsx)(p.Z,{})})]})},y=t(63551),E=function(e){var n=e.labels,t=e.labelList,r=e.onChange,a=e.onLabelListChange,i=e.onPaste,u=e.onBlur,d=e.onDelete,p=e.disabled,f=e.label,m=e.btnText,v=e.description,g=e.isAutoComplete;(0,c.useIntl)();(0,s.useEffect)((function(){}),[n]);var E=function(e){var n=l().reduce(e,(function(e,n){return n.key&&(e[n.key]=n.value),e}),{});null==r||r(n)},x=function(e,n){var r=l().cloneDeep(t);r[e]=n,a(r),E(r)},w=function(e){var n=l().cloneDeep(t);n.splice(e,1),a(n),E(n),null==d||d(e)};return(0,h.jsx)(y.Z,{label:f,description:v,onAdd:function(){var e=[].concat(o()(t),[{key:"",value:""}]);a(e),E(e)},disabled:p,btnText:m,children:(0,h.jsx)(h.Fragment,{children:g?null==t?void 0:t.map((function(e,r){return(0,h.jsx)(b,{disabled:p,label:e,seperator:":",labels:n,labelList:t,onDelete:function(){return w(r)},onChange:function(e){return x(r,e)},onPaste:function(e){return null==i?void 0:i(e,r)},onBlur:function(e,n){return null==u?void 0:u(e,n,r)}},r)})):null==t?void 0:t.map((function(e,n){return(0,h.jsx)(k,{disabled:p,label:e,seperator:":",labelList:t,onDelete:function(){return w(n)},onChange:function(e){return x(n,e)},onPaste:function(e){return null==i?void 0:i(e,n)},onBlur:function(e,t){return null==u?void 0:u(e,t,n)}},n)}))})})},x=function(e){var n=e.labels,t=e.onChange,r=e.onBlur,a=e.onDelete,u=e.disabled,d=e.label,p=e.btnText,f=e.description,m=e.isAutoComplete,v=(0,c.useIntl)(),b=(0,s.useState)({}),g=i()(b,2),k=g[0],y=g[1],x=(0,s.useState)([]),w=i()(x,2),A=w[0],D=w[1];(0,s.useEffect)((function(){if(!l().isEqual(n,k)){y(n||{});var e=l().map(l().keys(n),(function(e){return{key:e,value:n[e]}}));D(e)}}),[n]);return(0,h.jsx)(E,{disabled:u,label:d,btnText:p,description:null!=f?f:v.formatMessage({id:"models.form.keyvalue.paste"}),isAutoComplete:m,labels:k,labelList:A,onChange:function(e){y(e),null==t||t(e)},onLabelListChange:function(e){D(e)},onPaste:function(e,n){var r=e.clipboardData.getData("text");if(r&&-1!==r.indexOf("=")){e.preventDefault();var a,c,u=r.split(/\r?\n/).map((function(e){return e.trim()})).filter((function(e){return e&&e.includes("=")})).map((function(e){var n=e.split("=").map((function(e){return e.trim()})),t=i()(n,2);return{key:t[0],value:t[1]}})),s=o()(A);s.splice.apply(s,[n,1].concat(o()(u))),a=s,c=l().reduce(a,(function(e,n){return n.key&&(e[n.key]=n.value),e}),{}),null==t||t(c),D(s)}},onBlur:r,onDelete:a})}},63551:function(e,n,t){var r,o,a=t(53649),i=t.n(a),c=t(10031),u=t(17114),l=t(53231),s=t(79635),d=(t(75271),t(67585)),p=t(52676),f=d.ZP.div(r||(r=i()(["\n  position: relative;\n  padding: 14px;\n  padding-top: 34px;\n  border: 1px solid var(--ant-color-border);\n  border-radius: var(--border-radius-base);\n  display: flex;\n  width: 100%;\n  flex-direction: column;\n  .label {\n    position: absolute;\n    left: 16px;\n    line-height: 1;\n    top: 12px;\n    color: var(--ant-color-text-tertiary);\n  }\n"]))),m=d.ZP.div(o||(o=i()(["\n  margin-top: 16px;\n"])));n.Z=function(e){var n=e.children,t=e.label,r=e.description,o=e.labelExtra,a=e.onAdd,i=e.btnText,d=e.disabled,v=e.button,h=(0,l.useIntl)();return(0,p.jsxs)(f,{children:[t&&(0,p.jsx)("span",{className:"label",children:(0,p.jsx)(c.Z,{label:t,description:r,labelExtra:o})}),n,!d&&(0,p.jsx)(m,{children:v||(0,p.jsxs)(s.ZP,{variant:"filled",color:"default",block:!0,onClick:a,children:[(0,p.jsx)(u.Z,{className:"font-size-14"}),i||h.formatMessage({id:"common.button.addSelector"})]})})]})}},92047:function(e,n,t){t.d(n,{A0:function(){return S},BT:function(){return k},E:function(){return z},E_:function(){return B},Fm:function(){return W},Io:function(){return Z},X8:function(){return Y},ax:function(){return N},bF:function(){return L},c0:function(){return R},c9:function(){return b},gX:function(){return w},go:function(){return X},iL:function(){return E},jl:function(){return D},kT:function(){return O},oh:function(){return s},qT:function(){return d},zc:function(){return V}});var r=t(90228),o=t.n(r),a=t(87999),i=t.n(a),c=t(52064),u=t(53231),l="/cloud-credentials",s="/clusters",d="/worker-pools",p="registration-token",f="/provider-proxy",m="/v2/regions",v="/v2/sizes",h="/v2/images";function b(e){return g.apply(this,arguments)}function g(){return(g=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(l,"/").concat(n.id).concat(f).concat(m),{method:"GET",params:{per_page:200}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return y.apply(this,arguments)}function y(){return(y=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(l,"/").concat(n.id).concat(f).concat(v),{method:"GET",params:{per_page:200}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return x.apply(this,arguments)}function x(){return(x=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(l,"/").concat(n.id).concat(f).concat(h),{method:"GET",params:{per_page:200,type:"distribution"}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return A.apply(this,arguments)}function A(){return(A=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(l),{method:"GET",params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return T.apply(this,arguments)}function T(){return(T=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(l),{method:"POST",data:n.data}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return C.apply(this,arguments)}function C(){return(C=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(l,"/").concat(n.id),{method:"PUT",data:n.data}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return I.apply(this,arguments)}function I(){return(I=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(l,"/").concat(n),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return P.apply(this,arguments)}function P(){return(P=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(s),{method:"GET",params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return M.apply(this,arguments)}function M(){return(M=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(s),{method:"POST",data:n.data}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return j.apply(this,arguments)}function j(){return(j=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(s,"/").concat(n.id),{method:"PUT",data:n.data}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return _.apply(this,arguments)}function _(){return(_=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(s,"/").concat(n),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return H.apply(this,arguments)}function H(){return(H=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(c.Ns),{method:"GET",params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return q.apply(this,arguments)}function q(){return(q=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(s,"/").concat(n.id,"/").concat(p),{method:"GET"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,n){return G.apply(this,arguments)}function G(){return(G=i()(o()().mark((function e(n,t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(d,"?"),{method:"GET",params:n,cancelToken:null==t?void 0:t.token}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return U.apply(this,arguments)}function U(){return(U=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(s,"/").concat(n.clusterId).concat(d),{method:"POST",data:n.data}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return K.apply(this,arguments)}function K(){return(K=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(d,"/").concat(n.id),{method:"PUT",data:n.data}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return F.apply(this,arguments)}function F(){return(F=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("".concat(d,"/").concat(n),{method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73940:function(e,n,t){t.d(n,{Rc:function(){return s},TE:function(){return m},Ur:function(){return u},Z3:function(){return f},_T:function(){return v},_m:function(){return l},dC:function(){return d},i7:function(){return p},oW:function(){return b},s:function(){return h}});var r=t(82092),o=t.n(r),a=t(10939),i=t(91315),c=t(93203),u={Provisioning:"provisioning",Ready:"ready",Provisioned:"provisioned"},l=o()(o()(o()({},u.Provisioning,"Provisioning"),u.Ready,"Ready"),u.Provisioned,"Provisioned"),s=o()(o()(o()({},u.Provisioning,i.iE.transitioning),u.Ready,i.iE.success),u.Provisioned,i.iE.transitioning),d={Kubernetes:"Kubernetes",DigitalOcean:"DigitalOcean",Docker:"Docker",HuaweiCloud:"HuaweiCloud",AliCloud:"AlibabaCloud",TencentCloud:"TencentCloud",AWS:"AWS"},p=o()(o()(o()({},d.Kubernetes,"Kubernetes"),d.DigitalOcean,"DigitalOcean"),d.Docker,"Docker"),f=function(e){return"curl -k -L '".concat(e.server,"/").concat(c.qk,"/clusters/").concat(e.clusterId,"/manifests' \\\n--header 'Authorization: Bearer ").concat(e.registrationToken,"' | kubectl apply -f -")},m={vram:"VRAM",vcpus:"vCPUs",ram:"RAM",bootDisk:"Boot Disk",scratchDisk:"Scratch Disk",minDiskSize:"Min Disk Size",size:"Size"},v={amd:"icon-amd",nvidia:"icon-nvidia1",rockyLinux:"icon-rocky-linux",almaLinux:"icon-alma-linux",ubuntu:"icon-ubuntu",centOs:"icon-centos",debian:"icon-debian",fedora:"icon-fedora"},h=[{key:"edit",label:"common.button.edit",icon:a.Z.EditOutlined},{key:"delete",props:{danger:!0},label:"common.button.delete",icon:a.Z.DeleteOutlined}],b=[{key:"edit",label:"common.button.edit",icon:a.Z.EditOutlined},{key:"add_worker",label:"resources.button.create",provider:d.Docker,locale:!0,icon:a.Z.DockerOutlined},{key:"register_cluster",label:"clusters.button.register",provider:d.Kubernetes,locale:!0,icon:a.Z.KubernetesOutlined},{key:"addPool",label:"clusters.button.addNodePool",provider:d.DigitalOcean,locale:!0,icon:a.Z.Catalog1},{key:"delete",label:"common.button.delete",icon:a.Z.DeleteOutlined,props:{danger:!0}}]},52064:function(e,n,t){t.d(n,{HY:function(){return s},Ns:function(){return l},Xv:function(){return m},_b:function(){return d},mt:function(){return p}});var r=t(90228),o=t.n(r),a=t(87999),i=t.n(a),c=t(53231),u=t(83861),l="/dashboard",s="".concat(l,"/usage"),d="".concat(l,"/usage/stats");function p(e){return f.apply(this,arguments)}function f(){return(f=i()(o()().mark((function e(n){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)(l,{params:n}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,n){return v.apply(this,arguments)}function v(){return(v=i()(o()().mark((function e(n,t){return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("".concat(t.url,"?").concat(u.Z.stringify(n)),{method:"GET",cancelToken:null==t?void 0:t.token}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},76634:function(e,n,t){t.d(n,{F:function(){return h},Ho:function(){return i},Pb:function(){return a},Sg:function(){return d},Tk:function(){return s},xV:function(){return v}});var r=t(82092),o=t.n(r),a={NVIDIA:"cuda",AMD:"rocm",ASCEND:"cann",HYGON:"dtk",MOORE_THREADS:"musa",ILUVATAR:"corex",CAMBRICON:"neuware",METAX:"maca"},i=o()(o()(o()(o()(o()(o()(o()(o()({},a.NVIDIA,"NVIDIA"),a.AMD,"AMD"),a.ASCEND,"vendor.ascend"),a.HYGON,"vendor.hygon"),a.MOORE_THREADS,"vendor.moorthreads"),a.ILUVATAR,"vendor.iluvatar"),a.CAMBRICON,"vendor.cambricon"),a.METAX,"vendor.metax"),c=o()(o()(o()(o()(o()(o()(o()(o()({},a.NVIDIA,{label:i[a.NVIDIA],value:a.NVIDIA,runtime:"nvidia",driver:"nvidia-smi"}),a.AMD,{label:i[a.AMD],value:a.AMD,runtime:"amd",driver:"amd-smi static"}),a.ASCEND,{label:i[a.ASCEND],value:a.ASCEND,runtime:"ascend",driver:"npu-smi info"}),a.HYGON,{label:i[a.HYGON],value:a.HYGON,runtime:"",driver:"hy-smi"}),a.MOORE_THREADS,{label:i[a.MOORE_THREADS],value:a.MOORE_THREADS,runtime:"mthreads",driver:"mthreads-gmi"}),a.ILUVATAR,{label:i[a.ILUVATAR],value:a.ILUVATAR,runtime:"iluvatar",driver:"ixsmi"}),a.CAMBRICON,{label:i[a.CAMBRICON],value:a.CAMBRICON,runtime:"cambricon",driver:"cnmon info"}),a.METAX,{label:i[a.METAX],value:a.METAX,runtime:"metax",driver:"mx-smi"}),u=function(e){return"".concat(e.driver,' >/dev/null 2>&1 && echo "').concat(e.label,' driver OK" || (echo "').concat(e.label,' driver issue"; exit 1) && sudo docker info 2>/dev/null | grep -q "').concat(e.runtime,'" && echo "').concat(e.label,' Container Toolkit OK" || (echo "').concat(e.label,' Container Toolkit not configured"; exit 1)')},l=function(e){return"".concat(e.driver,' >/dev/null 2>&1 && echo "').concat(e.label,' driver OK" || (echo "').concat(e.label,' driver issue"; exit 1)')},s=function(e){var n=c[e]||{};return"kubectl get runtimeclass ".concat(n.runtime,' > /dev/null 2>&1  && echo "').concat(n.label,' runtimeclass registered" || (echo "').concat(n.label,' runtimeclass issue"; exit 1)')},d=o()(o()(o()(o()(o()(o()(o()(o()({},a.NVIDIA,u(c[a.NVIDIA])),a.AMD,u(c[a.AMD])),a.ASCEND,u(c[a.ASCEND])),a.MOORE_THREADS,u(c[a.MOORE_THREADS])),a.HYGON,l(c[a.HYGON])),a.ILUVATAR,l(c[a.ILUVATAR])),a.CAMBRICON,l(c[a.CAMBRICON])),a.METAX,l(c[a.METAX])),p=function(e){return"sudo docker run -d --name gpustack-worker \\\n      --restart=unless-stopped \\\n      --privileged \\\n      --network=host \\\n      --volume /var/run/docker.sock:/var/run/docker.sock \\\n      --volume gpustack-data:/var/lib/gpustack \\\n      ".concat(e.modelDir?"--volume ".concat(e.modelDir,":").concat(e.modelDir," \\"):"")},f=function(e){return"".concat(e.image," \\\n      --server-url ").concat(e.server," \\\n      --token ").concat(e.token," \\")},m=function(e){var n=c[e.gpu],t=p(e),r=f(e);return"".concat(t,"\n      --runtime ").concat(n.runtime," \\\n      ").concat(r,"\n      ").concat(e.workerIP?"--advertise-address ".concat(e.workerIP," \\"):"")},v=o()(o()(o()(o()(o()(o()(o()(o()({},a.NVIDIA,m),a.AMD,(function(e){var n=c[e.gpu],t=p(e),r=f(e);return"".concat(t,"\n      --volume /opt/rocm:/opt/rocm:ro \\\n      --runtime ").concat(n.runtime," \\\n      ").concat(r,"\n      ").concat(e.workerIP?"--advertise-address ".concat(e.workerIP," \\"):"")})),a.ASCEND,(function(e){var n=c[e.gpu],t=p(e),r=f(e);return"".concat(t,'\n      --env "ASCEND_VISIBLE_DEVICES=$(sudo ls /dev/davinci* | head -1 | grep -o \'[0-9]\\+\' || echo "0")" \\\n      --runtime ').concat(n.runtime," \\\n      ").concat(r,"\n      ").concat(e.workerIP?"--advertise-address ".concat(e.workerIP," \\"):"")})),a.HYGON,(function(e){c[e.gpu];var n=p(e),t=f(e);return"".concat(n,"\n      --volume /opt/hyhal:/opt/hyhal:ro \\\n      --volume /opt/dtk:/opt/dtk:ro \\\n      --env ROCM_PATH=/opt/dtk \\\n      --env ROCM_SMI_LIB_PATH=/opt/hyhal/lib \\\n      ").concat(t,"\n      ").concat(e.workerIP?"--advertise-address ".concat(e.workerIP," \\"):"")})),a.ILUVATAR,(function(e){var n=c[e.gpu],t=p(e),r=f(e);return"".concat(t,"\n      --volume /lib/modules:/lib/modules:ro \\\n      --volume /usr/local/corex:/usr/local/corex:ro \\\n      --volume /usr/bin/ixsmi:/usr/bin/ixsmi \\\n      --runtime ").concat(n.runtime," \\\n      ").concat(r,"\n      ").concat(e.workerIP?"--advertise-address ".concat(e.workerIP," \\"):"")})),a.CAMBRICON,(function(e){c[e.gpu];var n=p(e),t=f(e);return"".concat(n,"\n      --volume /usr/local/neuware:/usr/local/neuware:ro \\\n      --volume /usr/bin/cnmon:/usr/bin/cnmon \\\n      ").concat(t,"\n      ").concat(e.workerIP?"--advertise-address ".concat(e.workerIP," \\"):"")})),a.METAX,(function(e){c[e.gpu];var n=p(e),t=f(e);return"".concat(n,"\n      --volume /opt/mxdriver:/opt/mxdriver:ro \\\n      --volume /opt/maca:/opt/maca:ro \\\n      ").concat(t,"\n      ").concat(e.workerIP?"--advertise-address ".concat(e.workerIP," \\"):"")})),a.MOORE_THREADS,m),h=o()(o()(o()(o()(o()(o()(o()(o()({},a.NVIDIA,[]),a.AMD,["clusters.addworker.amdNotes-01"]),a.MOORE_THREADS,[]),a.ASCEND,[]),a.HYGON,["clusters.addworker.hygonNotes","clusters.addworker.hygonNotes-02"]),a.ILUVATAR,["clusters.addworker.corexNotes"]),a.CAMBRICON,["clusters.addworker.cambriconNotes"]),a.METAX,["clusters.addworker.metaxNotes"])},41550:function(e,n,t){t.d(n,{$F:function(){return p},Jq:function(){return d},S7:function(){return l},i7:function(){return s},jX:function(){return u},no:function(){return m},w:function(){return f}});var r=t(82092),o=t.n(r),a=t(91315),i=t(73940),c=t(76634),u={ready:"ready",not_ready:"not_ready",unreachable:"unreachable",provisioning:"provisioning",deleting:"deleting",error:"error",pending:"pending",initializing:"initializing",maintenance:"maintenance"},l=o()(o()(o()(o()(o()(o()(o()(o()(o()({},u.ready,"Ready"),u.not_ready,"Not Ready"),u.unreachable,"Unreachable"),u.provisioning,"Provisioning"),u.deleting,"Deleting"),u.error,"Error"),u.initializing,"Initializing"),u.pending,"Pending"),u.maintenance,"Maintenance"),s=o()(o()(o()(o()(o()(o()(o()(o()(o()({},u.ready,a.iE.success),u.not_ready,a.iE.error),u.unreachable,a.iE.error),u.provisioning,a.iE.transitioning),u.deleting,a.iE.transitioning),u.error,a.iE.error),u.pending,a.iE.transitioning),u.initializing,a.iE.transitioning),u.maintenance,a.iE.warning),d={all:{registerWorker:function(e){var n;return null===(n=c.xV[e.gpu])||void 0===n?void 0:n.call(c.xV,e)},checkEnvCommand:function(e){return o()(o()({},i.dC.Docker,c.Sg[e]||""),i.dC.Kubernetes,(0,c.Tk)(e)||"")}}},p={Error:"error",Downloading:"downloading",Ready:"ready"},f=o()(o()(o()({},p.Error,"Error"),p.Downloading,"Downloading"),p.Ready,"Ready"),m=o()(o()(o()({},p.Ready,a.iE.success),p.Error,a.iE.error),p.Downloading,a.iE.transitioning)}}]);