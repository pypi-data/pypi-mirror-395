[package]
name = "aerofs"
version = "0.3.5"
edition = "2021"
authors = ["ohmyarthur <cp@hylcyn.xyz>"]
description = "High-Performance Asynchronous File I/O for Python, powered by Rust"
repository = "https://github.com/ohmyarthur/aerofs"
license = "Apache-2.0"
keywords = ["async", "file", "io", "python", "tokio"]
categories = ["asynchronous", "filesystem"]
readme = "README.md"

[lib]
name = "aerofs"
crate-type = ["cdylib"]

[dependencies]
pyo3 = { version = "0.22", features = ["extension-module", "abi3-py39"] }
pyo3-async-runtimes = { version = "0.22", features = ["tokio-runtime", "attributes"] }
tokio = { version = "1.40", features = ["fs", "io-util", "io-std", "rt-multi-thread", "macros", "time", "sync"] }
bytes = "1.7"
libc = "0.2"
uuid = { version = "1.10", features = ["v4"] }

[target.'cfg(unix)'.dependencies]
nix = { version = "0.29", features = ["fs"] }

[profile.release]
opt-level = 3
lto = true
codegen-units = 1
strip = true
