[project]
name = "pyassi"
version = "0.0.1"
authors = [
  { name="Igor Lobanov", email="lobanov.igor@gmail.com" },
]
description = "Acoustic source separation and investigation"
readme = "README.md"
requires-python = ">=3.11"
classifiers = [
    "Operating System :: OS Independent",
]
dependencies = [
    "fastapi[standard]>=0.122.0",
    "jinja2>=3.1.6",
    "jsonargparse[signatures]>=4.43.0",
    "matplotlib>=3.7.5",
    "networkx>=3.4.2",
    "numpy>=1.24.4",
    "omegaconf>=2.3.0",
    "pandas>=2.3.3",
    "pydantic>=2.12.4",
    "rich>=13.9.4",
    "scikit-learn>=1.7.2",
    "scipy>=1.10.1",
    "soundfile>=0.13.1",
    "ssspy>=0.2.0",
]

[project.urls]
Homepage = "https://gitlab.com/acousticlab/assi"
Issues = "https://gitlab.com/acousticlab/assi/-/issues"

[project.scripts]
assi-record = "assi.bin.record:main"
assi-scope = "assi.bin.scope:main"

[project.optional-dependencies]
clearml = [
    "clearml>=2.0.2",
]
lightning = [
  "lightning[extra]>=2.5.6",
]
nflows = [
  "nflows>=0.14",
]

[tool.uv]
package = true

[dependency-groups]
dev = [
    "ipykernel>=6.29.5",
    "nbconvert>=7.16.6",
    "pre-commit>=4.1.0",
    "pyrefly>=0.42.1",
    "pytest>=8.3.5",
    "pytest-cov>=5.0.0",
    "ruff>=0.14.5",
    "types-networkx>=3.5.0.20251106",
]
docs = [
    "mkdocs>=1.6.1",
    "mkdocs-material>=9.7.0",
    "mkdocstrings[python]>=0.30.1",
]

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.hatch.build.targets.sdist]
include = [
  "assi/",
  "assi/postprocessing/results_apps/web/dist",
]
exclude = [
  "assi/postprocessing/results_apps/web/*",
  "!assi/postprocessing/results_apps/web/dist",
  "!assi/postprocessing/results_apps/web/templates",
]

[tool.hatch.build.targets.wheel]
packages = ["assi"]


[tool.pyrefly]
project-excludes = [
  "assi/bin",
  "assi/io",
  "assi/ngui",
  "assi/scope",
  "assi/graphics.py",
  "egs/"
]
