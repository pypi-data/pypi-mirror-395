[build-system]
requires = [
    "setuptools>=42",
    "wheel",
    "requests",
]
build-backend = "setuptools.build_meta"

[project]
name = "havenplayer-sdk"
version = "0.1.3"
description = "Forked LiveKit RTC SDK for Haven Player"
readme = "README.md"
requires-python = ">=3.8"
license = { text = "MIT" }
dependencies = ["requests"]

[tool.setuptools.packages.find]
include = ["livekit", "livekit.*"]

[tool.cibuildwheel]
build = "cp39-*"
skip = "*-musllinux_*" # not supported (libwebrtc is using glibc)

before-build = "pip install requests && python rust-sdks/download_ffi.py --output livekit/rtc/resources"

manylinux-x86_64-image = "manylinux_2_28"
manylinux-i686-image = "manylinux_2_28"
manylinux-aarch64-image = "manylinux_2_28"
manylinux-ppc64le-image = "manylinux_2_28"
manylinux-s390x-image = "manylinux_2_28"
manylinux-pypy_x86_64-image = "manylinux_2_28"
manylinux-pypy_i686-image = "manylinux_2_28"
manylinux-pypy_aarch64-image = "manylinux_2_28"
