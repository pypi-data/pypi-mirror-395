[build-system]
requires = ["setuptools>=68.0", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "edhelper"
version = "0.3.0"
description = "EDH deck builder & analyzer with CLI, shell, and web editor"
readme = "README.md"
requires-python = ">=3.12,<3.13"
license = { text = "MIT" }

authors = [
    { name = "Your Name", email = "your.email@example.com" }
]

keywords = ["mtg", "magic", "commander", "edh", "deck", "builder"]

classifiers = [
    "Development Status :: 3 - Alpha",
    "Intended Audience :: Developers",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.12"
]

dependencies = [
    "click>=8.1.7,<9.0.0",
    "httpx>=0.27.0,<1.0.0",
    "requests>=2.31.0,<3.0.0",
    "python-dotenv>=1.0.1,<2.0.0",
    "keyring>=24.3.0,<26.0.0",
    "tabulate>=0.9.0,<1.0.0"
]

# ============================
# OPTIONAL DEPENDENCIES (EXTRAS)
# ============================

[project.optional-dependencies]

shell = [
    "lark>=1.1.9,<2.0.0",
    "prompt-toolkit>=3.0.43,<4.0.0",
    "pygments>=2.17.0,<3.0.0"
]

editor = [
    "fastapi>=0.110.0,<0.111.0",
    "uvicorn>=0.29.0,<1.0.0",
    "python-multipart>=0.0.9,<1.0.0"
]

all = [
    "lark>=1.1.9,<2.0.0",
    "prompt-toolkit>=3.0.43,<4.0.0",
    "pygments>=2.17.0,<3.0.0",
    "fastapi>=0.110.0,<0.111.0",
    "uvicorn>=0.29.0,<1.0.0",
    "python-multipart>=0.0.9,<1.0.0"
]

# ============================
# CLI ENTRYPOINT
# ============================

[project.scripts]
edhelper = "edhelper.main:cli"

# ============================
# SETUPTOOLS CONFIG
# ============================

[tool.setuptools]
packages = { find = { where = ["."] } }
include-package-data = true

[tool.setuptools.package-data]
infra = ["schema.sql"]
shell = ["lang/grammar.lark"]

"editor" = [
    "frontend/dist/**/*"
]

