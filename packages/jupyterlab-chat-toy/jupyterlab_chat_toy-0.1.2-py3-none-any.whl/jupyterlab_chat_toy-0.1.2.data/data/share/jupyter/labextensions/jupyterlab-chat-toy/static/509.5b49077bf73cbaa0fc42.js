"use strict";(self.webpackChunkjupyterlab_chat_toy=self.webpackChunkjupyterlab_chat_toy||[]).push([[509],{509:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(932),a=r(878),n=r(602),l=r(51),i=r(481),d=r(751),c=r(885);var s;!function(e){e.open="jupyterlab-chat:open"}(s||(s={}));const u={id:"jupyterlab-chat:plugin",autoStart:!0,requires:[a.ICommandPalette,i.INotebookTracker],optional:[n.ILauncher,o.ILayoutRestorer,l.ISettingRegistry],activate:(e,t,r,o,n,l)=>{const{commands:i,shell:p}=e,f=new a.WidgetTracker({namespace:"jupyterlab-chat-sidebar"});let m=null;i.addCommand(s.open,{label:"AI Chat",caption:"Open AI Chat Interface in Sidebar",icon:d.chatIcon,execute:()=>{m&&!m.isDisposed||(m=new c.ChatWidget(r),m.id="jupyterlab-chat-sidebar",m.title.label="AI Chat",m.title.closable=!0,m.title.icon=d.chatIcon,f.add(m),p.add(m,"left",{rank:800})),p.activateById(m.id)}}),t.addItem({command:s.open,category:"AI"}),o&&o.add({command:s.open,category:"AI"}),n&&n.restore(f,{command:s.open,name:()=>"jupyterlab-chat-sidebar"}),l&&Promise.all([l.load(u.id),e.restored]).then(([e])=>{console.log("jupyterlab-chat settings loaded:",e.composite)}).catch(e=>{console.warn("Failed to load settings for jupyterlab-chat, using defaults.",e)})}};t.default=u},751:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.chatIcon=void 0;const o=r(901);t.chatIcon=new o.LabIcon({name:"jupyterlab-chat:chat",svgstr:'\n<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>\n</svg>\n'})},773:function(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageContent=void 0;const a=o(r(893));t.MessageContent=({content:e,onInsertCode:t})=>a.default.createElement("div",{style:{lineHeight:"1.5",fontSize:"13px",fontFamily:"var(--jp-ui-font-family)"}},(()=>{if(!e)return null;try{return e.split(/(```[\s\S]*?```)/g).map((e,r)=>{if(e.startsWith("```")&&e.endsWith("```")){const o=e.match(/```(\w+)?\n?([\s\S]*?)```/);if(o){const e=o[1]||"text",n=o[2].trim();return a.default.createElement("div",{key:r},((e,r="text")=>a.default.createElement("div",{style:{position:"relative",margin:"8px 0"}},t&&a.default.createElement("button",{onClick:()=>((e,r)=>{t&&t(e,r)})(e,r),style:{position:"absolute",top:"4px",right:"4px",background:"var(--jp-brand-color1)",color:"white",border:"none",borderRadius:"3px",padding:"2px 6px",fontSize:"10px",cursor:"pointer",zIndex:10},title:"æ’å…¥åˆ°Jupyterå•å…ƒæ ¼"},"æ’å…¥ä»£ç "),a.default.createElement("pre",{style:{background:"var(--jp-code-cell-background)",border:"1px solid var(--jp-border-color1)",borderRadius:"4px",padding:"8px",overflowX:"auto",fontFamily:"var(--jp-code-font-family)",fontSize:"var(--jp-code-font-size)",lineHeight:"var(--jp-code-line-height)",margin:0}},a.default.createElement("code",{style:{color:"var(--jp-content-font-color1)",display:"block"}},e))))(n,e))}}const o=e.match(/(\|[^\n]+\|\r?\n\|[-:\s|]+\|\r?\n(?:\|[^\n]+\|\r?\n)*)/);return o?a.default.createElement("div",{key:r},(e=>{const t=e.split("\n").filter(e=>e.trim());if(t.length<2)return null;try{const e=t[0].split("|").filter(e=>""!==e.trim()).map(e=>e.trim()),r=t.slice(2).map(e=>e.split("|").filter(e=>""!==e.trim()).map(e=>e.trim())).filter(e=>e.length>0);return a.default.createElement("div",{style:{overflowX:"auto",margin:"12px 0"}},a.default.createElement("table",{style:{borderCollapse:"collapse",width:"100%",minWidth:"400px",border:"1px solid var(--jp-border-color1)",fontSize:"12px"}},a.default.createElement("thead",null,a.default.createElement("tr",{style:{backgroundColor:"var(--jp-layout-color2)"}},e.map((e,t)=>a.default.createElement("th",{key:t,style:{border:"1px solid var(--jp-border-color1)",padding:"8px 12px",textAlign:"left",fontWeight:"bold"}},e)))),a.default.createElement("tbody",null,r.map((e,t)=>a.default.createElement("tr",{key:t,style:{borderBottom:"1px solid var(--jp-border-color2)"}},e.map((e,t)=>a.default.createElement("td",{key:t,style:{border:"1px solid var(--jp-border-color1)",padding:"8px 12px",textAlign:"left"}},e)))))))}catch(t){return console.error("è¡¨æ ¼æ¸²æŸ“é”™è¯¯:",t),a.default.createElement("div",{style:{whiteSpace:"pre-wrap"}},e)}})(o[0])):a.default.createElement("div",{key:r,style:{lineHeight:"1.5",margin:"4px 0",whiteSpace:"pre-wrap"}},e)})}catch(t){return console.error("å†…å®¹æ¸²æŸ“é”™è¯¯:",t),a.default.createElement("div",{style:{whiteSpace:"pre-wrap"}},e)}})())},885:function(e,t,r){var o=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatWidget=void 0;const l=n(r(893)),i=r(878),d=r(773),c=r(481);class s extends i.ReactWidget{constructor(e){super(),this.notebookTracker=e,this.id="ai-chat-widget",this.title.label="AI Chat",this.title.closable=!0,this.addClass("jp-ChatWidget")}render(){return l.default.createElement(u,{notebookTracker:this.notebookTracker})}}t.ChatWidget=s;const u=({notebookTracker:e})=>{const[t,r]=l.useState([{id:1,content:"ä½ å¥½ï¼æˆ‘æ˜¯ AI åŠ©æ‰‹ã€‚ç°åœ¨æ”¯æŒæµå¼è¾“å‡ºå’Œæ¨¡å‹åˆ‡æ¢ï¼Œä½“éªŒæ›´ä½³ã€‚",sender:"ai",timestamp:new Date,type:"text"}]),[o,a]=l.useState(""),[n,i]=l.useState(!1),[s,u]=l.useState("http://localhost:8888/v1/chat/completions"),[p,f]=l.useState("/mnt/e/qwen3-1.7b"),[m,g]=l.useState(""),[x,b]=l.useState(.7),[v,y]=l.useState(2e3),[h,j]=l.useState(null),[E,k]=l.useState(!0),w=l.useRef(null),S=l.useRef(null),C=l.useRef(null),I=l.useRef(!0);l.useEffect(()=>()=>{I.current=!1},[]);const z=()=>"custom"===p?m:p,R=(t,r)=>{if(!e)return console.error("Notebook tracker not available"),void alert("é”™è¯¯ï¼šæœªæ‰¾åˆ°æ´»åŠ¨çš„Notebook");const o=e.currentWidget;if(!o)return void alert("é”™è¯¯ï¼šè¯·å…ˆæ‰“å¼€ä¸€ä¸ªNotebook");const{content:a}=o,{activeCellIndex:n}=a;console.log("å½“å‰æ´»åŠ¨å•å…ƒæ ¼ç´¢å¼•:",n),console.log("è¦æ’å…¥çš„ä»£ç :",t);try{c.NotebookActions.insertBelow(a);const e=n+1,r=a.widgets[e];if(console.log("æ–°å•å…ƒæ ¼ç´¢å¼•:",e),console.log("æ–°å•å…ƒæ ¼:",r),r&&"code"===r.model.type){if(console.log("å•å…ƒæ ¼æ¨¡å‹:",r.model),console.log("å¯ç”¨å±æ€§:",Object.keys(r.model)),r.model.value&&void 0!==r.model.value.text)r.model.value.text=t,console.log("ä½¿ç”¨ value.text è®¾ç½®ä»£ç ");else{if(!r.model.sharedModel||!r.model.sharedModel.setSource)return console.error("æ— æ³•æ‰¾åˆ°è®¾ç½®ä»£ç çš„æ–¹æ³•"),void alert("æ— æ³•è®¾ç½®ä»£ç å†…å®¹");r.model.sharedModel.setSource(t),console.log("ä½¿ç”¨ sharedModel.setSource è®¾ç½®ä»£ç ")}a.activeCellIndex=e,console.log("ä»£ç å·²æ’å…¥åˆ°Notebook")}else console.error("æ–°å•å…ƒæ ¼ä¸æ˜¯ä»£ç å•å…ƒæ ¼æˆ–æœªæ‰¾åˆ°")}catch(e){console.error("æ’å…¥ä»£ç å¤±è´¥:",e),alert("æ’å…¥ä»£ç å¤±è´¥ï¼Œè¯·é‡è¯•")}},T=(e="smooth")=>{I.current&&E&&requestAnimationFrame(()=>{w.current&&I.current&&w.current.scrollIntoView({behavior:e,block:"nearest"})})},_=()=>{if(!S.current)return;const e=(()=>{if(!S.current)return!0;const e=S.current;return e.scrollHeight-e.scrollTop-e.clientHeight<=100})();e&&!E?k(!0):!e&&E&&k(!1)};l.useEffect(()=>{const e=S.current;if(e)return e.addEventListener("scroll",_),()=>{e.removeEventListener("scroll",_)}},[E]),l.useEffect(()=>{t.length>0&&E&&T("smooth")},[t,E]);const B=()=>{C.current&&(C.current.abort(),I.current&&(i(!1),j(null)))},D=async()=>{if(!o.trim()||n)return;const e={id:Date.now(),content:o,sender:"user",timestamp:new Date,type:"text"};if(I.current){r(t=>[...t,e]),a(""),i(!0),k(!0),T("smooth");try{await(async e=>{C.current=new AbortController;try{if(!I.current)return;const o=Date.now()+1,a={id:o,content:"",sender:"ai",timestamp:new Date,type:"text"};I.current&&(r(e=>[...e,a]),j(o));const n=z(),l={model:n,messages:[...t.slice(-10).map(e=>({role:"user"===e.sender?"user":"assistant",content:e.content})),{role:"user",content:e}],stream:!0,temperature:x,max_tokens:v};console.log("Sending streaming request to:",s),console.log("Using model:",n),console.log("Request parameters:",{temperature:x,maxTokens:v});const i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l),mode:"cors",signal:C.current.signal});if(console.log("Response status:",i.status),!i.ok){const e=await i.text();throw console.error("Error response:",e),new Error(`HTTP ${i.status}: ${i.statusText}. ${e}`)}await(async(e,t)=>{var o;const a=null===(o=e.body)||void 0===o?void 0:o.getReader(),n=new TextDecoder;if(!a)throw new Error("No reader available for stream");let l="",i="",d=0;try{for(;;){const{done:e,value:o}=await a.read();if(!I.current)return void a.releaseLock();if(e)break;i+=n.decode(o,{stream:!0});const c=i.split("\n");i=c.pop()||"";for(const e of c){const o=e.trim();if(""!==o){if("data: [DONE]"===o)return;if(o.startsWith("data: "))try{const e=o.slice(6),a=JSON.parse(e);if(a.choices&&a.choices[0].delta){const e=a.choices[0].delta;if(e.content&&(l+=e.content,I.current)){r(e=>e.map(e=>e.id===t?{...e,content:l,timestamp:new Date}:e));const e=Date.now();E&&e-d>300&&(T("smooth"),d=e)}}}catch(e){console.warn("Failed to parse stream data:",e,"Data:",o)}}}}}finally{a.releaseLock(),I.current&&E&&T("smooth")}})(i,o)}catch(e){if(!I.current)return;if("AbortError"===e.name)return void console.log("Request was aborted");throw console.error("Error in streaming AI call:",e),h&&I.current&&r(t=>t.map(t=>t.id===h?{...t,content:`è¯·æ±‚å¤±è´¥: ${e.message}`}:t)),e}finally{I.current&&(C.current=null,j(null))}})(o)}catch(e){if(I.current){console.error("Streaming failed:",e);const t={id:Date.now()+1,content:`è¯·æ±‚å¤±è´¥: ${e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"}`,sender:"ai",timestamp:new Date,type:"text"};r(e=>[...e,t])}}finally{I.current&&i(!1)}}},A=e=>h===e,O=z();return l.default.createElement("div",{style:{height:"100%",display:"flex",flexDirection:"column",fontFamily:"var(--jp-ui-font-family)",fontSize:"var(--jp-ui-font-size1)",background:"var(--jp-layout-color0)"}},l.default.createElement("div",{style:{background:"var(--jp-brand-color1)",color:"white",padding:"8px 12px",display:"flex",alignItems:"center",borderBottom:"1px solid var(--jp-border-color1)",justifyContent:"space-between"}},l.default.createElement("div",{style:{display:"flex",alignItems:"center"}},l.default.createElement("span",{style:{fontWeight:"bold",fontSize:"14px",marginRight:"8px"}},"ğŸ¤– AI èŠå¤© (æµå¼è¾“å‡º)"),l.default.createElement("div",{style:{background:"rgba(255,255,255,0.2)",padding:"2px 6px",borderRadius:"8px",fontSize:"11px"}},O)),l.default.createElement("div",{style:{display:"flex",gap:"8px"}},n&&l.default.createElement("button",{onClick:B,style:{background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",color:"white",borderRadius:"4px",padding:"2px 6px",fontSize:"11px",cursor:"pointer"},title:"åœæ­¢ç”Ÿæˆ"},"åœæ­¢"),l.default.createElement("button",{onClick:()=>{B(),I.current&&(r([{id:1,content:"å¯¹è¯å·²æ¸…ç©ºã€‚ç°åœ¨æ”¯æŒæµå¼è¾“å‡ºå’Œæ¨¡å‹åˆ‡æ¢ï¼Œä½“éªŒæ›´ä½³ã€‚",sender:"ai",timestamp:new Date,type:"text"}]),j(null))},style:{background:"transparent",border:"1px solid rgba(255,255,255,0.3)",color:"white",borderRadius:"4px",padding:"2px 6px",fontSize:"11px",cursor:"pointer"},title:"æ¸…ç©ºå¯¹è¯"},"æ¸…ç©º"))),l.default.createElement("div",{style:{padding:"8px 12px",borderBottom:"1px solid var(--jp-border-color1)",background:"var(--jp-layout-color1)"}},l.default.createElement("div",{style:{marginBottom:"8px"}},l.default.createElement("div",{style:{fontSize:"12px",marginBottom:"4px",color:"var(--jp-ui-font-color2)"}},"åç«¯æœåŠ¡åœ°å€:"),l.default.createElement("input",{type:"text",value:s,onChange:e=>{u(e.target.value)},style:{width:"100%",padding:"4px 8px",border:"1px solid var(--jp-border-color1)",borderRadius:"4px",fontSize:"12px",background:"var(--jp-input-background)",color:"var(--jp-ui-font-color1)"},placeholder:"è¾“å…¥åç«¯æœåŠ¡ URL"})),l.default.createElement("div",{style:{marginBottom:"8px"}},l.default.createElement("div",{style:{fontSize:"12px",marginBottom:"4px",color:"var(--jp-ui-font-color2)"}},"æ¨¡å‹é€‰æ‹©:"),l.default.createElement("select",{value:p,onChange:e=>{f(e.target.value)},style:{width:"100%",padding:"4px 8px",border:"1px solid var(--jp-border-color1)",borderRadius:"4px",fontSize:"12px",background:"var(--jp-input-background)",color:"var(--jp-ui-font-color1)"}},[{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo"},{value:"gpt-4",label:"GPT-4"},{value:"gpt-4-turbo",label:"GPT-4 Turbo"},{value:"claude-3-sonnet",label:"Claude 3 Sonnet"},{value:"claude-3-opus",label:"Claude 3 Opus"},{value:"llama-2-7b",label:"Llama 2 7B"},{value:"llama-2-13b",label:"Llama 2 13B"},{value:"llama-2-70b",label:"Llama 2 70B"},{value:"custom",label:"è‡ªå®šä¹‰æ¨¡å‹"}].map(e=>l.default.createElement("option",{key:e.value,value:e.value},e.label)))),"custom"===p&&l.default.createElement("div",{style:{marginBottom:"8px"}},l.default.createElement("div",{style:{fontSize:"12px",marginBottom:"4px",color:"var(--jp-ui-font-color2)"}},"è‡ªå®šä¹‰æ¨¡å‹åç§°:"),l.default.createElement("input",{type:"text",value:m,onChange:e=>{g(e.target.value)},style:{width:"100%",padding:"4px 8px",border:"1px solid var(--jp-border-color1)",borderRadius:"4px",fontSize:"12px",background:"var(--jp-input-background)",color:"var(--jp-ui-font-color1)"},placeholder:"è¾“å…¥è‡ªå®šä¹‰æ¨¡å‹åç§°"})),l.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"}},l.default.createElement("div",null,l.default.createElement("div",{style:{fontSize:"12px",marginBottom:"4px",color:"var(--jp-ui-font-color2)"}},"æ¸©åº¦: ",x),l.default.createElement("input",{type:"range",min:"0",max:"2",step:"0.1",value:x,onChange:e=>{b(parseFloat(e.target.value))},style:{width:"100%"}}),l.default.createElement("div",{style:{fontSize:"10px",color:"var(--jp-ui-font-color2)",display:"flex",justifyContent:"space-between"}},l.default.createElement("span",null,"ç²¾ç¡®"),l.default.createElement("span",null,"å¹³è¡¡"),l.default.createElement("span",null,"åˆ›æ„"))),l.default.createElement("div",null,l.default.createElement("div",{style:{fontSize:"12px",marginBottom:"4px",color:"var(--jp-ui-font-color2)"}},"æœ€å¤§é•¿åº¦: ",v),l.default.createElement("input",{type:"range",min:"100",max:"4000",step:"100",value:v,onChange:e=>{y(parseInt(e.target.value,10))},style:{width:"100%"}}),l.default.createElement("div",{style:{fontSize:"10px",color:"var(--jp-ui-font-color2)",display:"flex",justifyContent:"space-between"}},l.default.createElement("span",null,"ç®€æ´"),l.default.createElement("span",null,"é€‚ä¸­"),l.default.createElement("span",null,"è¯¦ç»†")))),l.default.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px"}},l.default.createElement("button",{onClick:()=>{f("gpt-3.5-turbo"),g(""),b(.7),y(2e3)},style:{background:"transparent",border:"1px solid var(--jp-border-color1)",color:"var(--jp-ui-font-color2)",borderRadius:"4px",padding:"2px 8px",fontSize:"10px",cursor:"pointer"}},"é‡ç½®è®¾ç½®"),l.default.createElement("div",{style:{fontSize:"10px",color:"var(--jp-ui-font-color2)"}},"å½“å‰æ¨¡å‹: ",O))),l.default.createElement("div",{ref:S,style:{flex:1,overflow:"auto",padding:"8px",background:"var(--jp-layout-color0)",position:"relative"}},t.map(e=>l.default.createElement("div",{key:e.id,style:{display:"flex",flexDirection:"user"===e.sender?"row-reverse":"row",alignItems:"flex-start",marginBottom:"12px"}},l.default.createElement("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"user"===e.sender?"var(--jp-brand-color1)":"var(--jp-accent-color1)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",margin:"user"===e.sender?"0 0 0 6px":"0 6px 0 0",flexShrink:0}},"user"===e.sender?"ğŸ‘¤":"ğŸ¤–"),l.default.createElement("div",{style:{maxWidth:"85%",textAlign:"user"===e.sender?"right":"left"}},l.default.createElement("div",{style:{background:"user"===e.sender?"var(--jp-brand-color1)":"var(--jp-layout-color2)",color:"user"===e.sender?"white":"var(--jp-ui-font-color1)",padding:"6px 10px",borderRadius:"12px",border:"1px solid var(--jp-border-color1)",wordBreak:"break-word",position:"relative"}},l.default.createElement(d.MessageContent,{content:e.content,onInsertCode:R}),A(e.id)&&l.default.createElement("span",{style:{display:"inline-block",width:"2px",height:"1em",background:"var(--jp-ui-font-color1)",marginLeft:"2px",animation:"blink 1s infinite"}})),l.default.createElement("div",{style:{fontSize:"10px",color:"var(--jp-ui-font-color2)",marginTop:"2px"}},e.timestamp.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),A(e.id)&&" Â· ç”Ÿæˆä¸­...")))),n&&!h&&l.default.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"}},l.default.createElement("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"var(--jp-accent-color1)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",marginRight:"6px",flexShrink:0}},"ğŸ¤–"),l.default.createElement("div",{style:{background:"var(--jp-layout-color2)",padding:"6px 10px",borderRadius:"12px",border:"1px solid var(--jp-border-color1)",color:"var(--jp-ui-font-color2)",fontSize:"12px",display:"flex",alignItems:"center"}},l.default.createElement("div",{style:{width:"12px",height:"12px",border:"2px solid var(--jp-ui-font-color3)",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"6px"}}),"AIæ­£åœ¨æ€è€ƒ...")),!E&&l.default.createElement("button",{onClick:()=>{k(!0),T("smooth")},style:{position:"sticky",bottom:"16px",left:"50%",transform:"translateX(-50%)",background:"var(--jp-brand-color1)",color:"white",border:"none",borderRadius:"20px",padding:"8px 16px",fontSize:"12px",cursor:"pointer",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",zIndex:100,display:"flex",alignItems:"center",gap:"6px"}},l.default.createElement("span",null,"â†“"),"æœ‰æ–°æ¶ˆæ¯"),l.default.createElement("div",{ref:w})),l.default.createElement("div",{style:{borderTop:"1px solid var(--jp-border-color1)",padding:"10px",background:"var(--jp-layout-color1)"}},l.default.createElement("div",{style:{display:"flex",alignItems:"flex-end",gap:"6px"}},l.default.createElement("textarea",{style:{flex:1,minHeight:"36px",maxHeight:"100px",padding:"6px 10px",border:"1px solid var(--jp-border-color1)",borderRadius:"4px",background:"var(--jp-input-background)",color:"var(--jp-ui-font-color1)",fontFamily:"inherit",fontSize:"13px",resize:"vertical",outline:"none"},placeholder:"è¾“å…¥ä½ çš„é—®é¢˜...",value:o,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),D())},disabled:n,rows:1}),l.default.createElement("button",{style:{background:o.trim()&&!n?"var(--jp-brand-color1)":"var(--jp-layout-color3)",color:"white",border:"none",borderRadius:"4px",padding:"6px 12px",cursor:o.trim()&&!n?"pointer":"not-allowed",height:"36px",fontSize:"12px",fontWeight:"bold"},onClick:D,disabled:!o.trim()||n},n?"ç”Ÿæˆä¸­...":"å‘é€")),l.default.createElement("div",{style:{fontSize:"10px",color:"var(--jp-ui-font-color2)",marginTop:"4px",textAlign:"center"}},"æµå¼è¾“å‡º | æ¨¡å‹: ",O," | æ¸©åº¦: ",x," | æœ€å¤§é•¿åº¦: ",v)),l.default.createElement("style",null,"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n        \n        @keyframes blink {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0; }\n        }\n\n        /* æ·»åŠ å¹³æ»‘æ»šåŠ¨æ ·å¼ */\n        .jp-ChatWidget * {\n          scroll-behavior: smooth;\n        }\n      "))}}}]);