from collections.abc import Hashable
from typing import Generic, Iterable, TypeVar

T = TypeVar('T', bound=Hashable)

class DisjointSet(Generic[T]):
    parent: dict[T, T]
    rank: dict[T, int]
    def __init__(self) -> None: ...
    def make_set(self, x: T) -> None: ...
    def find(self, x: T) -> T: ...
    def union(self, x: T, y: T) -> None: ...
    def same_set(self, x: T, y: T) -> bool: ...
    def make_set_many(self, elements: Iterable[T]) -> None: ...
    def find_many(self, elements: Iterable[T]) -> tuple[T, ...]: ...
    def union_many(self, elements: Iterable[T]) -> None: ...
    def same_set_many(self, elements: Iterable[T]) -> bool: ...
