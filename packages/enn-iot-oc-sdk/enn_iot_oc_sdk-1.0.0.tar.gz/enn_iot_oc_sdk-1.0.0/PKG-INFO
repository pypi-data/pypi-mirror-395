Metadata-Version: 2.1
Name: enn-iot-oc-sdk
Version: 1.0.0
Summary: IoCæ•°æ®SDK - æä¾›å·¥ä¸šç‰©è”ç½‘æ•°æ®æŸ¥è¯¢æ¥å£
Home-page: https://github.com/enn-energy/enn-iot-oc-sdk
Author: ENN Energy
Author-email: developer@enn.com
Project-URL: Bug Reports, https://github.com/enn-energy/enn-iot-oc-sdk/issues
Project-URL: Source, https://github.com/enn-energy/enn-iot-oc-sdk
Project-URL: Documentation, https://github.com/enn-energy/enn-iot-oc-sdk/wiki
Keywords: iot,industrial,data,sdk,repository,query
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Operating System :: OS Independent
Requires-Python: >=3.7
Description-Content-Type: text/markdown
Requires-Dist: pyyaml>=6.0
Requires-Dist: dataclasses-json>=0.6.1
Requires-Dist: typing-inspect>=0.9.0
Provides-Extra: dev
Requires-Dist: pytest>=6.0; extra == "dev"
Requires-Dist: pytest-cov>=2.0; extra == "dev"
Requires-Dist: black>=21.0; extra == "dev"
Requires-Dist: flake8>=3.8; extra == "dev"

# ENN IoC æ•°æ®SDK

æä¾›å·¥ä¸šç‰©è”ç½‘æ•°æ®æŸ¥è¯¢å’Œç®¡ç†åŠŸèƒ½çš„Python SDKã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½**: å†…ç½®æ•°æ®ç¼“å­˜æœºåˆ¶ï¼Œæä¾›å¿«é€Ÿæ•°æ®è®¿é—®
- ğŸ”’ **ç±»å‹å®‰å…¨**: å®Œå…¨ç±»å‹åŒ–çš„å®ä½“å’ŒRepositoryæ¥å£
- ğŸ“¦ **å¼€ç®±å³ç”¨**: é¢„å®šä¹‰çš„å®ä½“å’ŒRepositoryç±»ï¼Œæ— éœ€é¢å¤–é…ç½®
- ğŸ”„ **å®æ—¶åŒæ­¥**: æ”¯æŒæ•°æ®æºçš„å®æ—¶æ›´æ–°å’Œç¼“å­˜åŒæ­¥
- ğŸ› ï¸ **æ˜“äºæ‰©å±•**: æ”¯æŒè‡ªå®šä¹‰å®ä½“å’ŒRepositoryæ‰©å±•

## å®‰è£…

### ä»æºç å®‰è£…

```bash
git clone https://github.com/enn-energy/enn-iot-oc-sdk.git
cd enn-iot-oc-sdk
pip install -e .
```

## å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ä½¿ç”¨

```python
from ioc_data_sdk import (
    BiogasProjectInformationRepoImpl,
    MechanismCloudAlgorithmRepoImpl,
    MechanismTaskPlanningRepoImpl,
    initialize
)

# åˆå§‹åŒ–SDKï¼ˆå¯é€‰ï¼‰
initialize(
    auth_token="your_auth_token",
    csrf_token="your_csrf_token",
    eo_id="your_enterprise_id",
    instance_id="your_instance_id"
)

# åˆ›å»ºRepositoryå®ä¾‹
project_repo = BiogasProjectInformationRepoImpl()
algo_repo = MechanismCloudAlgorithmRepoImpl()
task_repo = MechanismTaskPlanningRepoImpl()

# æŸ¥è¯¢æ•°æ®
project = project_repo.find()
algorithms = algo_repo.list()
tasks = task_repo.list()

# ä½¿ç”¨æ•°æ®
if project:
    print(f"å®¢æˆ·åç§°: {project.customerName}")
    print(f"æ€»æŠ•èµ„: {project.totalInvestment}")

print(f"å…±æ‰¾åˆ° {len(algorithms)} ä¸ªç®—æ³•")
for algo in algorithms:
    print(f"- {algo.algorithmId}: {algo.schemeId}")
```

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- âœ… **è‡ªåŠ¨å®ä½“ç”Ÿæˆ**: æ ¹æ®JSONæ•°æ®è‡ªåŠ¨ç”Ÿæˆ`@dataclass`å®ä½“ç±»
- âœ… **æ™ºèƒ½ç±»å‹æ¨æ–­**: è‡ªåŠ¨æ¨æ–­å­—æ®µç±»å‹ï¼ˆstr, int, float, bool, list, dictï¼‰
- âœ… **ä»“åº“æ¥å£ç”Ÿæˆ**: è‡ªåŠ¨ç”Ÿæˆå•è¡Œ/å¤šè¡Œå®ä½“çš„Repositoryæ¥å£
- âœ… **å…³ç³»æ˜ å°„æ”¯æŒ**: æ”¯æŒå¤–é”®å’ŒåµŒå¥—å¯¹è±¡å…³ç³»
- âœ… **é…ç½®é©±åŠ¨**: åŸºäºYAMLé…ç½®æ–‡ä»¶å®šä¹‰å®ä½“å…³ç³»
- âœ… **æ ‡å‡†å…¼å®¹**: å®Œå…¨å…¼å®¹`ioc-data-python-sdk_3.0.1_README.md`è§„èŒƒ

## ğŸ“ é¡¹ç›®ç»“æ„

```
ioc-sdk-generator/
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ requirements.txt            # ä¾èµ–åŒ…
â”œâ”€â”€ config/
â”‚   â””â”€â”€ relations.yaml          # å®ä½“å…³ç³»é…ç½®
â”œâ”€â”€ data/
â”‚   â””â”€â”€ demo/
â”‚       â”œâ”€â”€ source/            # JSONæ•°æ®æº
â”‚       â”‚   â”œâ”€â”€ biogas_project_information.json
â”‚       â”‚   â”œâ”€â”€ mechanism_cloud_algorithm.json
â”‚       â”‚   â””â”€â”€ mechanism_task_planning.json
â”‚       â””â”€â”€ relations.yaml     # å®ä½“å…³ç³»å®šä¹‰
â”œâ”€â”€ generator/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ entity_generator.py    # å®ä½“ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ repository_generator.py # ä»“åº“ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ type_inferencer.py     # ç±»å‹æ¨æ–­å™¨
â”‚   â””â”€â”€ config_parser.py       # é…ç½®è§£æå™¨
â”œâ”€â”€ output/
â”‚   â”œâ”€â”€ infrastructure/
â”‚   â”‚   â”œâ”€â”€ model/             # ç”Ÿæˆçš„å®ä½“ç±»
â”‚   â”‚   â””â”€â”€ repository/        # ç”Ÿæˆçš„ä»“åº“ç±»
â”‚   â””â”€â”€ __init__.py
â””â”€â”€ main.py                    # ä¸»å…¥å£
```

## ğŸ› ï¸ ä½¿ç”¨æ–¹æ³•

### 1. å‡†å¤‡æ•°æ®
å°†ä½ çš„JSONæ•°æ®æ–‡ä»¶æ”¾å…¥`data/demo/source/`ç›®å½•ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªå®ä½“ã€‚

### 2. é…ç½®å…³ç³»
åœ¨`data/demo/relations.yaml`ä¸­å®šä¹‰å®ä½“å…³ç³»ï¼š

```yaml
entities:
  EntityName:
    table: table_name
    row_type: single|multiple
    fields:
      fieldName: {type: string, role: pk|fk|embed, to: RelatedEntity}
```

### 3. è¿è¡Œç”Ÿæˆå™¨
```bash
python main.py --data-dir data/demo --output-dir output
```

### 4. ä½¿ç”¨ç”Ÿæˆçš„æ¥å£
```python
from output.infrastructure.model import BiogasProjectInformation, BiogasProjectInformationRepoImpl

# åˆ›å»ºä»“åº“å®ä¾‹
repo = BiogasProjectInformationRepoImpl()

# æŸ¥è¯¢æ•°æ®
project = repo.find()
```

## ğŸ“‹ è¾“å‡ºè¯´æ˜

ç”Ÿæˆå™¨å°†è¾“å‡ºï¼š

1. **å®ä½“ç±»**: ç¬¦åˆè§„èŒƒçš„`@dataclass`å®ä½“å®šä¹‰
2. **ä»“åº“æ¥å£**: åŒ…å«`find()`ã€`list()`ã€`find_by_id()`ç­‰æ–¹æ³•çš„Repository
3. **ç±»å‹æ˜ å°„**: å®Œæ•´çš„ç±»å‹æç¤ºå’Œå­—æ®µæ˜ å°„
4. **å…³ç³»æ”¯æŒ**: å¤–é”®å’ŒåµŒå¥—å¯¹è±¡çš„è‡ªåŠ¨å¤„ç†

## ğŸ¯ æ”¯æŒçš„å­—æ®µç±»å‹

- `str` - å­—ç¬¦ä¸²ç±»å‹
- `int` - æ•´æ•°ç±»å‹
- `float` - æµ®ç‚¹æ•°ç±»å‹
- `bool` - å¸ƒå°”ç±»å‹
- `list` - åˆ—è¡¨ç±»å‹
- `dict` - å­—å…¸ç±»å‹
- `Optional[List[T]]` - å¯é€‰åˆ—è¡¨ç±»å‹ï¼ˆç”¨äºåµŒå¥—å¯¹è±¡ï¼‰

## âš¡ é«˜çº§ç‰¹æ€§

- **æ™ºèƒ½é»˜è®¤å€¼**: æ ¹æ®ç±»å‹è‡ªåŠ¨è®¾ç½®åˆç†çš„é»˜è®¤å€¼
- **å­—æ®µéªŒè¯**: æ”¯æŒå­—æ®µç±»å‹å’Œæ ¼å¼éªŒè¯
- **ç¼“å­˜æœºåˆ¶**: å†…ç½®æŸ¥è¯¢ç¼“å­˜ä¼˜åŒ–
- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

å¯ä»¥é€šè¿‡ä¿®æ”¹é…ç½®æ–‡ä»¶æ¥è‡ªå®šä¹‰ï¼š
- å®ä½“åç§°æ˜ å°„
- å­—æ®µç±»å‹æ¨æ–­è§„åˆ™
- å…³ç³»å®šä¹‰ç­–ç•¥
- è¾“å‡ºæ ¼å¼é€‰é¡¹

è¿™ä¸ªç”Ÿæˆå™¨è®©åˆ›å»ºIoCæ•°æ®SDKå˜å¾—ç®€å•é«˜æ•ˆï¼
