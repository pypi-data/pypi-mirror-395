"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .aaveposition import AavePosition, AavePositionTypedDict
from .compass_api_backend_v2_models_earn_read_response_positions_vaultposition import (
    CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPosition,
    CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPositionTypedDict,
)
from compass_api_sdk.types import BaseModel
from compass_api_sdk.utils import get_discriminator
from pydantic import Discriminator, Tag
from typing import Union
from typing_extensions import Annotated, TypeAliasType, TypedDict


PositionUnionTypedDict = TypeAliasType(
    "PositionUnionTypedDict",
    Union[
        CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPositionTypedDict,
        AavePositionTypedDict,
    ],
)
r"""The user's earn position."""


PositionUnion = Annotated[
    Union[
        Annotated[AavePosition, Tag("AAVE")],
        Annotated[
            CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPosition,
            Tag("VAULT"),
        ],
    ],
    Discriminator(lambda m: get_discriminator(m, "type", "type")),
]
r"""The user's earn position."""


class EarnPositionResponseTypedDict(TypedDict):
    r"""Response model for a single earn position."""

    position: PositionUnionTypedDict
    r"""The user's earn position."""


class EarnPositionResponse(BaseModel):
    r"""Response model for a single earn position."""

    position: PositionUnion
    r"""The user's earn position."""
