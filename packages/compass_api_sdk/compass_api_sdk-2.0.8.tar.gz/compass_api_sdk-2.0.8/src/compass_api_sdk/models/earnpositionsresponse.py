"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .aaveposition import AavePosition, AavePositionTypedDict
from .compass_api_backend_v2_models_earn_read_response_positions_vaultposition import (
    CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPosition,
    CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPositionTypedDict,
)
from compass_api_sdk.types import BaseModel
from compass_api_sdk.utils import get_discriminator
from pydantic import Discriminator, Tag
from typing import List, Union
from typing_extensions import Annotated, TypeAliasType, TypedDict


UserPositionTypedDict = TypeAliasType(
    "UserPositionTypedDict",
    Union[
        CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPositionTypedDict,
        AavePositionTypedDict,
    ],
)


UserPosition = Annotated[
    Union[
        Annotated[AavePosition, Tag("AAVE")],
        Annotated[
            CompassAPIBackendV2ModelsEarnReadResponsePositionsVaultPosition,
            Tag("VAULT"),
        ],
    ],
    Discriminator(lambda m: get_discriminator(m, "type", "type")),
]


class EarnPositionsResponseTypedDict(TypedDict):
    user_positions: List[UserPositionTypedDict]
    r"""A list of the user's earn positions."""


class EarnPositionsResponse(BaseModel):
    user_positions: List[UserPosition]
    r"""A list of the user's earn positions."""
