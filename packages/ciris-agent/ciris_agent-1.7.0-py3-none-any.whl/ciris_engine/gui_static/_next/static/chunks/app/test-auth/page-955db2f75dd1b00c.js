(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2580],{2942:(e,s,t)=>{"use strict";var a=t(2418);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},8366:(e,s,t)=>{Promise.resolve().then(t.bind(t,9585))},9585:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(4568),r=t(7620),c=t(704),n=t(9484);function i(){let{user:e}=(0,n.A)(),[s,t]=(0,r.useState)([]),i=(e,s)=>{t(t=>[...t,{test:e,result:s,timestamp:new Date().toISOString()}])},u=async()=>{t([]),i("Auth Status",{isAuthenticated:c.AQ.isAuthenticated(),user:e,tokenInLocalStorage:!!localStorage.getItem("ciris_auth_token"),tokenInCookie:document.cookie.includes("auth_token")});try{let e=await c.AQ.memory.query("test",{limit:1});i("Memory Query",{success:!0,data:e})}catch(e){i("Memory Query",{success:!1,error:e.message})}try{let e=await c.AQ.config.getAll();i("Config Fetch",{success:!0,data:e})}catch(e){i("Config Fetch",{success:!1,error:e.message})}try{let e=await c.AQ.system.getHealth();i("System Health",{success:!0,data:e})}catch(e){i("System Health",{success:!1,error:e.message})}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Auth Debug Page"}),(0,a.jsx)("button",{onClick:u,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700",children:"Run Tests"})]})}),s.length>0&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Test Results"}),(0,a.jsx)("div",{className:"space-y-4",children:s.map((e,s)=>(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.test}),(0,a.jsx)("pre",{className:"mt-2 text-xs bg-gray-50 p-2 rounded overflow-auto",children:JSON.stringify(e.result,null,2)})]},s))})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4534,704,9484,587,8315,7358],()=>s(8366)),_N_E=e.O()}]);
