"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["73419"],{65380:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{LW:function(){return _},Xs:function(){return y},fU:function(){return u},ie:function(){return g}});var i=n(77489),a=n(65940),o=n(43286),s=n(52285),c=e([i,o]);[i,o]=c.then?(await c)():c;const u=(e,t,n)=>l(t,n.time_zone).format(e),l=(0,a.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:"numeric",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,o.w)(e.time_zone,t)})),g=(e,t,n)=>d(t,n.time_zone).format(e),d=(0,a.A)((e,t)=>new Intl.DateTimeFormat(e.language,{hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",second:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,o.w)(e.time_zone,t)})),y=(e,t,n)=>m(t,n.time_zone).format(e),m=(0,a.A)((e,t)=>new Intl.DateTimeFormat(e.language,{weekday:"long",hour:(0,s.J)(e)?"numeric":"2-digit",minute:"2-digit",hourCycle:(0,s.J)(e)?"h12":"h23",timeZone:(0,o.w)(e.time_zone,t)})),_=(e,t,n)=>p(t,n.time_zone).format(e),p=(0,a.A)((e,t)=>new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"2-digit",hour12:!1,timeZone:(0,o.w)(e.time_zone,t)}));r()}catch(u){r(u)}})},43286:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{n:function(){return g},w:function(){return d}});var i,a,o,s=n(77489),c=n(92149),u=e([s]);s=(u.then?(await u)():u)[0];const l=null===(i=Intl.DateTimeFormat)||void 0===i||null===(a=(o=i.call(Intl)).resolvedOptions)||void 0===a?void 0:a.call(o).timeZone,g=null!=l?l:"UTC",d=(e,t)=>e===c.Wj.local&&l?g:t;r()}catch(l){r(l)}})},52285:function(e,t,n){n.d(t,{J:function(){return a}});n(79827);var r=n(65940),i=n(92149);const a=(0,r.A)(e=>{if(e.time_format===i.Hg.language||e.time_format===i.Hg.system){const t=e.time_format===i.Hg.language?e.language:void 0;return new Date("January 1, 2023 22:00:00").toLocaleString(t).includes("10")}return e.time_format===i.Hg.am_pm})},8868:function(e,t,n){n.a(e,async function(e,r){try{n.d(t,{ZQ:function(){return d},ZV:function(){return g},ty:function(){return u},x:function(){return c}});var i=n(77489),a=(n(79827),n(92149)),o=n(92801),s=e([i]);i=(s.then?(await s)():s)[0];const c=e=>u(e.attributes),u=(e,t)=>!!e.unit_of_measurement||!!e.state_class||(t||[]).includes(e.device_class||""),l=e=>{switch(e.number_format){case a.jG.comma_decimal:return["en-US","en"];case a.jG.decimal_comma:return["de","es","it"];case a.jG.space_comma:return["fr","sv","cs"];case a.jG.quote_decimal:return["de-CH"];case a.jG.system:return;default:return e.language}},g=(e,t,n)=>{const r=t?l(t):void 0;return Number.isNaN=Number.isNaN||function e(t){return"number"==typeof t&&e(t)},(null==t?void 0:t.number_format)===a.jG.none||Number.isNaN(Number(e))?Number.isNaN(Number(e))||""===e||(null==t?void 0:t.number_format)!==a.jG.none?"string"==typeof e?e:`${(0,o.L)(e,null==n?void 0:n.maximumFractionDigits).toString()}${"currency"===(null==n?void 0:n.style)?` ${n.currency}`:""}`:new Intl.NumberFormat("en-US",y(e,Object.assign(Object.assign({},n),{},{useGrouping:!1}))).format(Number(e)):new Intl.NumberFormat(r,y(e,n)).format(Number(e))},d=(e,t)=>{var n;const r=null==t?void 0:t.display_precision;return null!=r?{maximumFractionDigits:r,minimumFractionDigits:r}:Number.isInteger(Number(null==e||null===(n=e.attributes)||void 0===n?void 0:n.step))&&Number.isInteger(Number(null==e?void 0:e.state))?{maximumFractionDigits:0}:void 0},y=(e,t)=>{const n=Object.assign({maximumFractionDigits:2},t);if("string"!=typeof e)return n;if(!t||void 0===t.minimumFractionDigits&&void 0===t.maximumFractionDigits){const t=e.indexOf(".")>-1?e.split(".")[1].length:0;n.minimumFractionDigits=t,n.maximumFractionDigits=t}return n};r()}catch(c){r(c)}})},92801:function(e,t,n){n.d(t,{L:function(){return r}});const r=(e,t=2)=>Math.round(e*10**t)/10**t},63980:function(e,t,n){n.a(e,async function(e,r){try{n.r(t),n.d(t,{EnergyViewStrategy:function(){return l}});n(35748),n(99342),n(65315),n(84136),n(59023),n(5934),n(95013);var i=n(69868),a=n(84922),o=n(11991),s=n(43716),c=e([s]);s=(c.then?(await c)():c)[0];const u=async()=>(await Promise.all([n.e("20296"),n.e("44928")]).then(n.bind(n,79101)),{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]});class l extends a.mN{static async generate(e,t){const n={cards:[]};let r;try{r=await(0,s.bs)(t)}catch(d){return"not_found"===d.code?u():(n.cards.push({type:"markdown",content:`An error occurred while fetching your energy preferences: ${d.message}.`}),n)}if(0===r.device_consumption.length&&0===r.energy_sources.length)return u();n.type="sidebar";const i=r.energy_sources.find(e=>{var t,n;return"grid"===e.type&&((null===(t=e.flow_from)||void 0===t?void 0:t.length)||(null===(n=e.flow_to)||void 0===n?void 0:n.length))}),a=i&&i.flow_to.length,o=r.energy_sources.some(e=>"solar"===e.type),c=r.energy_sources.some(e=>"gas"===e.type),l=r.energy_sources.some(e=>"battery"===e.type),g=r.energy_sources.some(e=>"water"===e.type);if(n.cards.push({type:"energy-compare",collection_key:"energy_dashboard"}),(i||l)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_usage_graph_title"),type:"energy-usage-graph",collection_key:"energy_dashboard"}),o&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_solar_graph_title"),type:"energy-solar-graph",collection_key:"energy_dashboard"}),c&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_gas_graph_title"),type:"energy-gas-graph",collection_key:"energy_dashboard"}),g&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_water_graph_title"),type:"energy-water-graph",collection_key:"energy_dashboard"}),(i||l)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_distribution_title"),type:"energy-distribution",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),(i||o||c||g||l)&&n.cards.push({title:t.localize("ui.panel.energy.cards.energy_sources_table_title"),type:"energy-sources-table",collection_key:"energy_dashboard"}),a&&n.cards.push({type:"energy-grid-neutrality-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),o&&(a&&n.cards.push({type:"energy-solar-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),i&&n.cards.push({type:"energy-self-sufficiency-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"})),i&&n.cards.push({type:"energy-carbon-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),r.device_consumption.length){n.cards.push({title:t.localize("ui.panel.energy.cards.energy_devices_detail_graph_title"),type:"energy-devices-detail-graph",collection_key:"energy_dashboard"}),n.cards.push({title:t.localize("ui.panel.energy.cards.energy_devices_graph_title"),type:"energy-devices-graph",collection_key:"energy_dashboard"});const e=!r.device_consumption.some(e=>e.included_in_stat);n.cards.push({title:t.localize("ui.panel.energy.cards.energy_sankey_title"),type:"energy-sankey",collection_key:"energy_dashboard",group_by_floor:e,group_by_area:e})}return n}}l=(0,i.__decorate)([(0,o.EM)("energy-view-strategy")],l),r()}catch(u){r(u)}})}}]);
//# sourceMappingURL=73419.18649d531538ff74.js.map