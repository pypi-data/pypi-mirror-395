{"version":3,"file":"35590.28b3b9b796efbdf5.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20241024.63/src/panels/lovelace/cards/energy/common/color.ts","https://raw.githubusercontent.com/home-assistant/frontend/20241024.63/src/panels/lovelace/cards/energy/hui-energy-usage-graph-card.ts","/unknown/node_modules/date-fns/constructNow.js","/unknown/node_modules/date-fns/isSameDay.js","/unknown/node_modules/date-fns/isToday.js"],"names":["getEnergyColor","computedStyles","darkMode","background","compare","propertyName","idx","themeIdxColor","getPropertyValue","trim","themeColor","length","hexColor","theme2hex","rgb2hex","lab2rgb","labBrighten","rgb2lab","hex2rgb","labDarken","colorPropertyMap","to_grid","to_battery","from_grid","used_grid","used_solar","used_battery","HuiEnergyUsageGraphCard","SubscribeMixin","LitElement","hassSubscribe","_this$_config","getEnergyDataCollection","this","hass","key","_config","collection_key","subscribe","data","_getStatistics","getCardSize","setConfig","config","shouldUpdate","changedProps","hasConfigChanged","size","has","render","html","_t","_","title","_t2","classMap","_chartData","_createOptions","_start","_end","locale","_compareStart","_compareEnd","some","dataset","_t3","isToday","localize","nothing","energyData","datasets","statIds","source","prefs","energy_sources","type","flowFrom","flow_from","push","stat_energy_from","flowTo","flow_to","stat_energy_to","from_battery","solar","getComputedStyle","colorIndices","Object","keys","forEach","values","id","labels","start","end","endOfToday","startCompare","endCompare","summedData","compareSummedData","getSummedData","consumption","compareConsumption","computeConsumptionData","statsCompare","_processDataSet","statsMetadata","stack","order","stats","sort","a","b","fillDataGapsAndRoundCaps","statistics","statisticsMetaData","consumptionData","statIdsByCat","combinedData","entries","includes","sets","set","stat","change","undefined","val","grid_to_battery","noOfSources","uniqueKeys","timestamps","compareTransform","getCompareTransform","sources","statId","_colorIndices$type","_colorIndices$type2","points","value","dataPoint","Date","cursor","name","getStatisticLabel","barMaxWidth","itemStyle","borderColor","themes","color","args","startOfToday","hassSubscribeRequiredHostProps","_formatTotal","total","num","formatNumber","memoizeOne","compareStart","compareEnd","commonOptions","getCommonOptions","assign","tooltip","formatter","params","_commonOptions$toolti","_commonOptions$toolti2","Array","isArray","_a$value","_b$value","aValue","bValue","componentIndex","call","styles","css","_t4","attribute","constructNow","date","constructFrom","now","isSameDay","laterDate","earlierDate","options","dateLeft_","dateRight_","normalizeDates","in","startOfDay"],"mappings":"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"}