{"version":3,"file":"65243.88d036a85bc672c1.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20241024.63/src/common/dom/deep-active-element.ts","https://raw.githubusercontent.com/home-assistant/frontend/20241024.63/src/common/util/render-status.ts","https://raw.githubusercontent.com/home-assistant/frontend/20241024.63/src/components/ha-dialog.ts","https://raw.githubusercontent.com/home-assistant/frontend/20241024.63/src/dialogs/image-cropper-dialog/image-cropper-dialog.ts","https://raw.githubusercontent.com/home-assistant/frontend/20241024.63/src/common/dom/ancestors-with-property.ts","https://raw.githubusercontent.com/home-assistant/frontend/20241024.63/src/dialogs/make-dialog-manager.ts"],"names":["deepActiveElement","root","document","_root$activeElement","activeElement","shadowRoot","afterNextRender","cb","requestAnimationFrame","setTimeout","nextRender","Promise","resolve","SUPPRESS_DEFAULT_PRESS_SELECTOR","createCloseHeading","hass","title","_hass$localize","html","_t","_","localize","HaDialog","DialogBase","scrollToPos","x","y","_this$contentElement","this","contentElement","scrollTo","renderHeading","_t2","super","firstUpdated","_this$contentElement2","suppressDefaultPressSelector","join","_updateScrolledAttribute","addEventListener","_onScroll","passive","disconnectedCallback","removeEventListener","toggleAttribute","scrollTop","args","styles","css","_t3","HaImagecropperDialog","LitElement","showDialog","params","_params","_open","closeDialog","_this$_cropper","undefined","_cropper","destroy","_isTargetAspectRatio","updated","changedProperties","has","replace","URL","createObjectURL","file","_image","src","Cropper","aspectRatio","options","viewMode","dragMode","minCropBoxWidth","ready","_checkMatchAspectRatio","revokeObjectURL","_this$_params","targetRatio","imageData","getImageData","naturalWidth","naturalHeight","targetHeight","Math","abs","targetWidth","render","_this$_params2","classMap","round","Boolean","_useOriginal","nothing","_cropImage","getCroppedCanvas","toBlob","blob","File","name","type","croppedCallback","quality","haStyleDialog","unsafeCSS","cropperCss","attribute","closestWithProperty","element","property","own","DEFAULT_OWN","_element$assignedSlot","body","assignedSlot","parentElement","getRootNode","ShadowRoot","host","Object","prototype","hasOwnProperty","call","LOADED","OPEN_DIALOG_STACK","FOCUS_TARGET","Symbol","for","async","dialogTag","dialogParams","dialogImport","addHistory","then","dialogEl","createElement","provideHass","_handleClosed","_handleClosedFocus","_history$state","_history$state2","history","mainWindow","state","dialog","length","dialogIndex","findIndex","splice","push","newState","replaceState","assign","opensDialog","pushState","closedFocusTargets","ancestorsWithProperty","ancestors","Set","add","dialogElement","appendChild","closeLastDialog","_mainWindow$history$s","lastDialog","pop","closed","closeAllDialogs","i","ev","_mainWindow$history$s2","detail","makeDialogManager","e","focusedElement","HTMLElement","blur","focusTarget","focus"],"mappings":"4KAAO,MAAMA,EAAoBA,CAC/BC,EAA6BC,YAAQ,IAAAC,EAErC,OAAsB,QAAtBA,EAAIF,EAAKG,qBAAa,IAAAD,GAAE,QAAFA,EAAlBA,EAAoBE,kBAAA,IAAAF,GAApBA,EAAgCC,cAC3BJ,EAAkBC,EAAKG,cAAcC,YAEvCJ,EAAKG,c,uFCNP,MAAME,EAAmBC,IAC9BC,sBAAsB,IAAMC,WAAWF,EAAI,KAGhCG,EAAaA,IACxB,IAAIC,QAASC,IACXN,EAAgBM,I,gLCLyC,MASvDC,EAAkC,CAAC,SAAU,gBAEtCC,EAAqBA,CAChCC,EACAC,KAAA,IAAAC,EAAA,OACGC,EAAAA,EAAAA,IAAIC,IAAAA,EAAAC,CAAA,iKAGqB,QAHrBH,EAGMF,aAAA,EAAAA,EAAMM,SAAS,8BAAAJ,EAAAA,EAAsB,QAjBS,gHAsBjDD,IAKL,MAAMM,UAAiBC,EAAAA,EAGrBC,WAAAA,CAAYC,EAAWC,GAAW,IAAAC,EACpB,QAAnBA,EAAAC,KAAKC,sBAAc,IAAAF,GAAnBA,EAAqBG,SAASL,EAAGC,EACnC,CAEUK,aAAAA,GACR,OAAOb,EAAAA,EAAAA,IAAIc,IAAAA,EAAAZ,CAAA,yBAAyB,aAAAa,MAAMF,gBAC5C,CAEUG,YAAAA,GAAqB,IAAAC,EAC7BF,MAAMC,eACNN,KAAKQ,6BAA+B,CAClCR,KAAKQ,6BACLvB,GACAwB,KAAK,MACPT,KAAKU,2BACc,QAAnBH,EAAAP,KAAKC,sBAAc,IAAAM,GAAnBA,EAAqBI,iBAAiB,SAAUX,KAAKY,UAAW,CAC9DC,SAAS,GAEb,CAEAC,oBAAAA,GACET,MAAMS,uBACNd,KAAKC,eAAec,oBAAoB,SAAUf,KAAKY,UACzD,CAMQF,wBAAAA,GACDV,KAAKC,gBACVD,KAAKgB,gBAAgB,WAA8C,IAAlChB,KAAKC,eAAegB,UACvD,C,kBAnCK,SAAAC,GAAA,KA4BGN,UAAY,KAClBZ,KAAKU,2B,EA7BIhB,EAqCKyB,OAAS,CACvBA,EAAAA,GACAC,EAAAA,EAAAA,IAAGC,IAAAA,EAAA7B,CAAA;;;ynFCrDA,MAAM8B,UAA6BC,EAAAA,GAajCC,UAAAA,CAAWC,GAChBzB,KAAK0B,QAAUD,EACfzB,KAAK2B,OAAQ,CACf,CAEOC,WAAAA,GAAc,IAAAC,EACnB7B,KAAK2B,OAAQ,EACb3B,KAAK0B,aAAUI,EACF,QAAbD,EAAA7B,KAAK+B,gBAAQ,IAAAF,GAAbA,EAAeG,UACfhC,KAAK+B,cAAWD,EAChB9B,KAAKiC,sBAAuB,CAC9B,CAEUC,OAAAA,CAAQC,GACXA,EAAkBC,IAAI,YAAepC,KAAK0B,UAG1C1B,KAAK+B,SAaR/B,KAAK+B,SAASM,QAAQC,IAAIC,gBAAgBvC,KAAK0B,QAAQc,QAZvDxC,KAAKyC,OAAOC,IAAMJ,IAAIC,gBAAgBvC,KAAK0B,QAAQc,MACnDxC,KAAK+B,SAAW,IAAIY,IAAJ,CAAY3C,KAAKyC,OAAQ,CACvCG,YAAa5C,KAAK0B,QAAQmB,QAAQD,YAClCE,SAAU,EACVC,SAAU,OACVC,gBAAiB,GACjBC,MAAOA,KACLjD,KAAKiC,qBAAuBjC,KAAKkD,yBACjCZ,IAAIa,gBAAgBnD,KAAKyC,OAAQC,SAMzC,CAEQQ,sBAAAA,GAAkC,IAAAE,EACxC,MAAMC,EAA0B,QAA1BD,EAAcpD,KAAK0B,eAAO,IAAA0B,OAAA,EAAZA,EAAcP,QAAQD,YAC1C,IAAKS,EACH,OAAO,EAET,MAAMC,EAAYtD,KAAK+B,SAAUwB,eACjC,GAAID,EAAUV,cAAgBS,EAC5B,OAAO,EAIT,GAAIC,EAAUE,aAAeF,EAAUG,cAAe,CACpD,MAAMC,EAAeJ,EAAUE,aAAeH,EAC9C,OAAOM,KAAKC,IAAIF,EAAeJ,EAAUG,gBAAkB,CAC7D,CACA,MAAMI,EAAcP,EAAUG,cAAgBJ,EAC9C,OAAOM,KAAKC,IAAIC,EAAcP,EAAUE,eAAiB,CAC3D,CAEUM,MAAAA,GAAyB,IAAAC,EACjC,OAAOzE,EAAAA,EAAAA,IAAIC,IAAAA,EAAAC,CAAA,wSACCQ,KAAK4B,YAGP5B,KAAK2B,OAGQqC,EAAAA,EAAAA,GAAS,CAC1BC,MAAOC,QAAoB,QAApBH,EAAQ/D,KAAK0B,eAAO,IAAAqC,OAAA,EAAZA,EAAclB,QAAQoB,SAG5BjE,KAAKb,KAAKM,SAAS,uCAKrBO,KAAK4B,YAEZ5B,KAAKb,KAAKM,SAAS,oBAErBO,KAAKiC,sBACH3C,EAAAA,EAAAA,IAAIc,IAAAA,EAAAZ,CAAA,uFAGOQ,KAAKmE,aAEZnE,KAAKb,KAAKM,SAAS,0CAEvB2E,EAAAA,GAEqCpE,KAAKqE,WAC1CrE,KAAKb,KAAKM,SAAS,iCAG3B,CAEQ4E,UAAAA,GACNrE,KAAK+B,SAAUuC,mBAAmBC,OAC/BC,IACC,IAAKA,EACH,OAEF,MAAMhC,EAAO,IAAIiC,KAAK,CAACD,GAAOxE,KAAK0B,QAASc,KAAKkC,KAAM,CACrDC,KAAM3E,KAAK0B,QAASmB,QAAQ8B,MAAQ3E,KAAK0B,QAASc,KAAKmC,OAEzD3E,KAAK0B,QAASkD,gBAAgBpC,GAC9BxC,KAAK4B,eAEP5B,KAAK0B,QAASmB,QAAQ8B,MAAQ3E,KAAK0B,QAASc,KAAKmC,KACjD3E,KAAK0B,QAASmB,QAAQgC,QAE1B,CAEQV,YAAAA,GACNnE,KAAK0B,QAASkD,gBAAgB5E,KAAK0B,QAASc,MAC5CxC,KAAK4B,aACP,CAEA,iBAAWT,GACT,MAAO,CACL2D,EAAAA,IACA1D,EAAAA,EAAAA,IAAGC,IAAAA,EAAA7B,CAAA,0QACCuF,EAAAA,EAAAA,IAAUC,IAkBlB,C,kBAnJK,SAAA9D,GAAA,KAKYS,OAAQ,C,8BAJbsD,WAAW,K,2lBCfzB,MAIaC,EAAsBA,CACjCC,EACAC,EACAC,EAAMC,QAAW,IAAAC,EAEjB,IAAKJ,GAAWA,IAAY7G,SAASkH,KAAM,OAAO,KAGlD,IADAL,EAA8B,QAA9BI,EAAUJ,EAAQM,oBAAY,IAAAF,EAAAA,EAAIJ,GACtBO,cACVP,EAAUA,EAAQO,kBACb,CACL,MAAMrH,EAAO8G,EAAQQ,cACrBR,EAAU9G,aAAgBuH,WAAavH,EAAKwH,KAAO,IACrD,CAEA,OACER,EACIS,OAAOC,UAAUC,eAAeC,KAAKd,EAASC,GAC9CD,GAAWC,KAAYD,GAEpBA,EACFD,EAAoBC,EAASC,EAAUC,I,4CC6BhD,MAAMa,EAA4B,CAAC,EAC7BC,EAAmC,GAC5BC,EAAeC,OAAOC,IAAI,mBAE1B9E,EAAa+E,MACxBpB,EACA9G,EACAmI,EACAC,EACAC,EACAC,GAAa,KAEb,KAAMH,KAAaN,GAAS,CAC1B,IAAKQ,EAOH,OAAO,EAETR,EAAOM,GAAa,CAClBrB,QAASuB,IAAeE,KAAK,KAC3B,MAAMC,EAAWvI,SAASwI,cAAcN,GAIxC,OAHArB,EAAQ4B,YAAYF,GACpBA,EAASlG,iBAAiB,gBAAiBqG,GAC3CH,EAASlG,iBAAiB,gBAAiBsG,GACpCJ,IAGb,CAEA,GAAIF,EAAY,KAAAO,EAAAC,EACd,MAAM,QAAEC,GAAYC,EAAAA,EACpB,GAAiB,QAAbH,EAAAE,EAAQE,aAAK,IAAAJ,GAAbA,EAAeK,SAAWpB,EAAkBqB,OAM9C,aAHM,IAAIzI,QAASC,IACjBH,WAAWG,KAENwC,EACL2D,EACA9G,EACAmI,EACAC,EACAC,EACAC,GAGJ,MAAMc,EAActB,EAAkBuB,UACnCJ,GAAUA,EAAMd,YAAcA,IAEZ,IAAjBiB,GACFtB,EAAkBwB,OAAOF,EAAa,GAExCtB,EAAkByB,KAAK,CACrBzC,UACA9G,OACAmI,YACAC,eACAC,eACAC,eAEF,MAAMkB,EAAW,CAAEN,OAAQf,GACV,QAAjBW,EAAIC,EAAQE,aAAK,IAAAH,GAAbA,EAAeI,OAEjBH,EAAQU,aAAaD,EAAU,KAG/BT,EAAQU,aAAYhC,OAAAiC,OAAAjC,OAAAiC,OAAC,CAAC,EAAIX,EAAQE,OAAK,IAAEU,aAAa,IAAQ,IAC9DZ,EAAQa,UAAUJ,EAAU,IAEhC,CAGA3B,EAAOM,GAAW0B,mBDrGiBC,EACnChD,EACAC,EACAC,GAAMC,KAEN,MAAM8C,EAAY,IAAIC,IACtB,KAAOlD,GACLiD,EAAUE,IAAInD,GACdA,EAAUD,EAAoBC,EAASC,EAAUC,GAEnD,OAAO+C,GC2FgCD,EACrC/J,EAAAA,EAAAA,KACAgI,GAGF,MAAMmC,QAAsBrC,EAAOM,GAAWrB,QAO9C,OAHA9G,EAAKmK,YAAYD,GACjBA,EAAc/G,WAAWiF,IAElB,GAGI7E,EAAc2E,UACzB,KAAMC,KAAaN,GACjB,OAAO,EAET,MAAMqC,QAAsBrC,EAAOM,GAAWrB,QAC9C,OAAIoD,EAAc3G,cACuB,IAAhC2G,EAAc3G,eAMZ6G,EAAkBlC,UAC7B,GAAIJ,EAAkBqB,OAAQ,KAAAkB,EAC5B,MAAMC,EAAaxC,EAAkByC,MAC/BC,QAAejH,EAAY+G,EAAYnC,WAY7C,OAXKqC,GAEH1C,EAAkByB,KAAKe,GAErBxC,EAAkBqB,QAAkC,QAA5BkB,EAAIrB,EAAAA,EAAAA,QAAAA,aAAwB,IAAAqB,GAAxBA,EAA0BV,aAExDX,EAAAA,EAAAA,QAAAA,UACE,CAAEE,OAAQpB,EAAkBA,EAAkBqB,OAAS,GAAGhB,WAC1D,IAGGqC,CACT,CACA,OAAO,GAGIC,EAAkBvC,UAC7B,IAAK,IAAIwC,EAAI5C,EAAkBqB,OAAS,EAAGuB,GAAK,EAAGA,IAAK,CAKtD,MAHG5C,EAAkB4C,UAEZnH,EAAYuE,EAAkB4C,GAAGvC,YAExC,OAAO,CAEX,CACA,OAAO,GAGHQ,EAAiBgC,IAAA,IAAAC,EAErB,MAAMxB,EAActB,EAAkBuB,UACnCJ,GAAUA,EAAMd,YAAcwC,EAAGE,OAAO3B,SAEtB,IAAjBE,GACFtB,EAAkBwB,OAAOF,EAAa,IAEZ,QAAxBwB,EAAA5B,EAAAA,EAAAA,QAAAA,aAAwB,IAAA4B,OAAA,EAAxBA,EAA0B1B,UAAWyB,EAAGE,OAAO3B,SAC7CpB,EAAkBqB,OAEpBH,EAAAA,EAAAA,QAAAA,aACE,CAAEE,OAAQpB,EAAkBA,EAAkBqB,OAAS,GAAGhB,WAC1D,KAEwB,IAAjBiB,GAETJ,EAAAA,EAAAA,QAAAA,SAKO8B,EAAoBA,CAC/BhE,EACA9G,KAEA8G,EAAQxE,iBACN,cACCyI,IACC,MAAM,UAAE5C,EAAS,aAAEE,EAAY,aAAED,EAAY,WAAEE,GAAeyC,EAAEF,OAChE1H,EACE2D,EACA9G,EACAmI,EACAC,EACAC,EACAC,MAMFM,EAAqBV,UACzB,IAAKL,EAAO8C,EAAGE,OAAO3B,QAAS,OAC/B,MAAMW,EAAqBhC,EAAO8C,EAAGE,OAAO3B,QAAQW,mBAEpD,UADOhC,EAAO8C,EAAGE,OAAO3B,QAAQW,oBAC3BA,EAAoB,OAGzB,IAAImB,GAAiBjL,EAAAA,EAAAA,KACjBiL,aAA0BC,aAAaD,EAAeE,aAGpDzK,EAAAA,EAAAA,KAGN,IAAK,MAAM0K,KAAetB,EACxB,GAAIsB,aAAuBF,cACzBE,EAAYC,QACZJ,GAAiBjL,EAAAA,EAAAA,KACbiL,GAAkBA,IAAmB/K,SAASkH,MAAM,O"}