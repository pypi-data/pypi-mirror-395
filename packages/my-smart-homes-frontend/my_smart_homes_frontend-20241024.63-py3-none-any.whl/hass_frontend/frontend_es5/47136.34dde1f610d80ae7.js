"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["47136"],{94327:function(e,t,a){a.d(t,{Vy:function(){return n},fI:function(){return d},ux:function(){return o}});var r=a(65940),i=a(83510);const s=["#4269d0","#f4bd4a","#ff725c","#6cc5b0","#a463f2","#ff8ab7","#9c6b4e","#97bbf5","#01ab63","#094bad","#c99000","#d84f3e","#49a28f","#048732","#d96895","#8043ce","#7599d1","#7a4c31","#6989f4","#ffd444","#ff957c","#8fe9d3","#62cc71","#ffadda","#c884ff","#badeff","#bf8b6d","#927acc","#97ee3f","#bf3947","#9f5b00","#f48758","#8caed6","#f2b94f","#eff26e","#e43872","#d9b100","#9d7a00","#698cff","#00d27e","#d06800","#009f82","#c49200","#cbe8ff","#fecddf","#c27eb6","#8cd2ce","#c4b8d9","#f883b0","#a49100","#f48800","#27d0df","#a04a9b"];function n(e){return s[e%s.length]}function d(e,t){const a=t.getPropertyValue(`--graph-color-${e+1}`)||n(e);return(0,i.RQ)(a)}const o=(0,r.A)(e=>s.map((t,a)=>d(a,e)),(e,t)=>e[0].getPropertyValue("--graph-color-1")===t[0].getPropertyValue("--graph-color-1"))},10547:function(e,t,a){var r=a(69868),i=a(54500),s=a(2909),n=a(11991),d=a(84922),o=a(91541);let c,h,l,f=e=>e;class u extends i.n{firstUpdated(e){super.firstUpdated(e),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}u.styles=[s.R,(0,d.AH)(c||(c=f`:host{--mdc-typography-button-text-transform:none;--mdc-typography-button-font-size:var(--ha-font-size-l);--mdc-typography-button-font-family:var(--ha-font-family-body);--mdc-typography-button-font-weight:var(--ha-font-weight-medium)}:host .mdc-fab--extended{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab.mdc-fab--extended .ripple{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}`)),"rtl"===o.G.document.dir?(0,d.AH)(h||(h=f`:host .mdc-fab--extended .mdc-fab__icon{direction:rtl}`)):(0,d.AH)(l||(l=f``))],u=(0,r.__decorate)([(0,n.EM)("ha-fab")],u)},15705:function(e,t,a){a.a(e,async function(e,r){try{a.r(t),a.d(t,{HuiCalendarCard:function(){return y}});var i=a(10629),s=(a(46852),a(35748),a(65315),a(37089),a(5934),a(95013),a(69868)),n=a(84922),d=a(75907),o=a(11991),c=a(94327),h=a(91634),l=a(51849),f=(a(70490),a(90974)),u=a(78982),_=a(44630),p=(a(78709),e([i,u]));[i,u]=p.then?(await p)():p;let b,v,g=e=>e;class y extends n.WF{static async getConfigElement(){return await Promise.all([a.e("42153"),a.e("30199"),a.e("70184"),a.e("53904"),a.e("61717"),a.e("56030"),a.e("26559")]).then(a.bind(a,1068)),document.createElement("hui-calendar-card-editor")}static getStubConfig(e,t,a){return{entities:(0,_.B)(e,2,t,a,["calendar"])}}setConfig(e){var t,a;if(null===(t=e.entities)||void 0===t||!t.length)throw new Error("Entities must be specified");if(!Array.isArray(e.entities))throw new Error("Entities need to be an array");this._calendars=e.entities.map((e,t)=>({entity_id:e,backgroundColor:(0,c.Vy)(t)})),(null===(a=this._config)||void 0===a?void 0:a.entities)!==e.entities&&this._fetchCalendarEvents(),this._config=Object.assign({initial_view:"dayGridMonth"},e)}getCardSize(){return 12}getGridOptions(){return{rows:6,columns:12,min_columns:4,min_rows:4}}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>this._attachObserver())}disconnectedCallback(){super.disconnectedCallback(),this._resizeObserver&&this._resizeObserver.disconnect()}render(){if(!this._config||!this.hass||!this._calendars.length)return n.s6;return(0,n.qy)(b||(b=g` <ha-card> <div class="header">${0}</div> <ha-full-calendar class="${0}" .narrow="${0}" .events="${0}" .hass="${0}" .views="${0}" .initialView="${0}" .error="${0}" @view-changed="${0}"></ha-full-calendar> </ha-card> `),this._config.title,(0,d.H)({"is-grid":"grid"===this.layout,"is-panel":"panel"===this.layout,"has-title":!!this._config.title}),this._narrow,this._events,this.hass,["dayGridMonth","dayGridDay","listWeek"],this._config.initial_view,this._error,this._handleViewChanged)}updated(e){if(super.updated(e),!this._config||!this.hass)return;const t=e.get("hass"),a=e.get("_config");(!t||!a||e.has("hass")&&t.themes!==this.hass.themes||e.has("_config")&&a.theme!==this._config.theme)&&(0,h.Q)(this,this.hass.themes,this._config.theme)}_handleViewChanged(e){this._startDate=e.detail.start,this._endDate=e.detail.end,this._fetchCalendarEvents()}async _fetchCalendarEvents(){if(!this._startDate||!this._endDate)return;this._error=void 0;const e=await(0,f.ms)(this.hass,this._startDate,this._endDate,this._calendars);this._events=e.events,e.errors.length>0&&(this._error=`${this.hass.localize("ui.components.calendar.event_retrieval_error")}`)}_measureCard(){const e=this.shadowRoot.querySelector("ha-card");e&&(this._narrow=e.offsetWidth<870)}async _attachObserver(){this._resizeObserver||(this._resizeObserver=new ResizeObserver((0,l.s)(()=>this._measureCard(),250,!1)));const e=this.shadowRoot.querySelector("ha-card");e&&this._resizeObserver.observe(e)}constructor(...e){super(...e),this._events=[],this._calendars=[],this._narrow=!1,this._error=void 0}}y.styles=(0,n.AH)(v||(v=g`ha-card{position:relative;padding:0 8px 8px;box-sizing:border-box;height:100%;overflow:hidden}.header{color:var(--ha-card-header-color,var(--primary-text-color));font-size:var(--ha-card-header-font-size, var(--ha-font-size-2xl));line-height:var(--ha-line-height-condensed);padding-top:16px;padding-left:8px;padding-inline-start:8px;direction:var(--direction);white-space:nowrap;text-overflow:ellipsis}ha-full-calendar{--calendar-height:400px;height:var(--calendar-height)}ha-full-calendar.is-grid,ha-full-calendar.is-panel{--calendar-height:calc(100% - 16px)}ha-full-calendar.is-grid.has-title,ha-full-calendar.is-panel.has-title{--calendar-height:calc(
        100% - var(--ha-card-header-font-size, var(--ha-font-size-2xl)) - 22px
      )}`)),(0,s.__decorate)([(0,o.MZ)({attribute:!1})],y.prototype,"hass",void 0),(0,s.__decorate)([(0,o.MZ)({attribute:!1})],y.prototype,"layout",void 0),(0,s.__decorate)([(0,o.wk)()],y.prototype,"_events",void 0),(0,s.__decorate)([(0,o.wk)()],y.prototype,"_config",void 0),(0,s.__decorate)([(0,o.wk)()],y.prototype,"_calendars",void 0),(0,s.__decorate)([(0,o.wk)()],y.prototype,"_narrow",void 0),(0,s.__decorate)([(0,o.wk)()],y.prototype,"_error",void 0),y=(0,s.__decorate)([(0,o.EM)("hui-calendar-card")],y),r()}catch(b){r(b)}})}}]);
//# sourceMappingURL=47136.34dde1f610d80ae7.js.map