CHANGES
=======

3.6.0
-----

* Skip Storage Capacity test until it's fixed
* Add tests for extended compute datamodel
* Remove server\_state check from data\_model test
* Fail if action plan cannot be execute
* Remove resource\_setup skip checks
* Refactor execute\_strategy method into smaller helpers
* Organize strategy tests and remove duplicated tests
* Add basic datamodel list tests
* Add a scenario test with continuous audit

3.5.0
-----

* Add stable/2025.2 job
* Add test for volume retype with zone migration
* Check for single instance migration to backup node
* Add Aetos jobs in check and experimental pipelines
* Add custom flavor and dynamic threshold to workload\_balance tests
* Add api test for skip action
* Add support for microversion testing for api and scenario tests
* Skip execute\_workload\_balance\_strategy\_cpu|ram due to known bug
* Create a function for deleting old injected metrics on prometheus
* Inject metrics for host total ram on prometheus
* Add workload\_stabilization RAM tests and adapt the current one for CPU
* Add tests for workload\_balance with injected data
* Add tests for workload balance with real data
* Fix injected host\_ram\_usage metrics
* Refact on creating instances and inject metrics
* Update tests on zone migration strategy
* Update tests for host maintenance strategy
* Move function for creating instances from 1 to variable number
* Add reusable method for getting enabled compute nodes
* Enforce compute host in create\_one\_instance\_per\_host
* Change destination node calculation on actuator tests
* Change timeframe of fake metrics uploaded to gnocchi
* Use get\_host\_for\_server and get\_host\_other\_than to get src/dst node
* Remove stable/2023.2 job
* Add metrics for RAM to gnocchi and prometheus injected data
* Add experimental pipeline to allow run jobs with real data
* Refactor of wait\_for\_instances\_in\_model function to wait until all instances are in the correct compute node on the model
* add pyproject.toml to support pip 23.1
* Add tests for host\_maintenance strategy with backup node
* Add check-uuid to pep8 tox tests
* Bug: 2107531. Adding unique uuid decorator to all watcher tests
* Ensure test\_execute\_workload\_stabilization\_strategy creates non-emtpy action nplan
* skip metric injection when not needed
* Replace UPPER\_CONSTRAINTS\_FILE
* Fix typo on bugs link
* Add stable/2025.1 job
* Add real-data scenario tests
* Add deprecation about client\_functional tests
* Check expected actions included in plans when executing strategies
* Drop watcherclient-tempest-functional job

3.4.0
-----

* Move make\_host\_statistic to the correct strategy
* Small improvements to prometheus\_client and zone migration test
* Add a check for instances in the compute model
* Add support to run promtool in a podified deployment
* Add support for prometheus datasource in scenario tests
* tox: Drop envdir
* Add new config option optimize.datasource
* Drop bandit B320 profile to fix pep8 job
* Update documentation and add a job to publish it
* Remove stable/2023.1 job from master gate
* Drop translation sections
* Support py3.12 and drop py3.8
* Remove scenario manager
* Remove create\_volume & create\_volume\_type
* Remove create\_server method
* Remove \_create\_port and create\_keypair methods
* Bump tempest minimal version to 27.0.0 or higher

3.3.0
-----

* Add stable/2024.2 jobs on master gate
* Drop unnecessary 'x' bit from doc config file

3.2.0
-----

* Add stable/2023.2|2024.1 jobs on master gate

3.1.0
-----

* fix hacking error
* Remove Glance v1 APIs tests code
* Add stable/2023.1 jobs on master gate

2.6.0
-----

* Add stable/zed jobs on master gate

2.5.0
-----

* Add WebTest as dependency for testing
* Update stable branches jobs on master gate

2.4.0
-----

* Changed minversion in tox to 3.18.0
* Add temptest tests for victoria and wallaby
* Manage constraints with testenv install\_command
* setup.cfg: Replace dashes with underscores
* Use py3 as the default runtime for tox
* Fix zuul builds with dependencies and pep8 rules

2.2.0
-----

* Remove usage of six
* Bump py37 to py38 in tox.ini

2.1.0
-----

* [goal] Migrate watcher-tempest-plugin jobs to focal
* Stop to use the \_\_future\_\_ module
* Switch to newer openstackdocstheme and reno versions
* Add stable branch jobs on the plugins master gate
* check microversion before create EVENT audit

2.0.0
-----

* Remove duplicate tempest items
* Add audit test for microversion 1.2
* Add watcherclient tempest
* Cleanup py27 support
* Add create EVENT audit functional test
* Drop python 2.7 support and testing
* Fix skipping of tests
* Remove use of deprecated config options for volume API selection
* Set volume default value to 1

1.2.0
-----

* Build pdf docs
* Add Node Resource Consolidation tempest
* Check node trait before creating server
* replace disable/enable\_service with update\_service
* ignore editor temporary files
* Add Python 3 Train unit tests
* remove redundant code
* rollback node status
* Switch to the new canonical constraints URL on master
* Refactor strategy tempest
* Sync Sphinx requirement
* Add execute\_strategy method in base class
* Add watcherclient tempest readme
* Add cold migrate test
* remove repeated tests
* Fix tempest failure
* check status when live migration
* Add tempest voting
* Replace git.openstack.org URLs with opendev.org URLs
* OpenDev Migration Patch
* Remove the use of os-hosts API that will be deprecated
* Move client function test to watcher-tempest-plugin

1.1.0
-----

* Fix create\_audit
* Modify method name
* Update vm\_workload\_consolidation job
* Remove unused parameter "aggregation\_method" for vm\_workload\_consolidation strategy
* Add sotrage balance tempest
* Add create\_volume\_type
* Add the storage capacity balance strategy tempest
* Add create\_volume for volume test
* update host maintenance tempest
* add the scenario test for vm\_workload\_consolidation strategy
* add host maintenance job
* Wrap output of 'filter' function to a list
* Add host maintenance tempest
* Change openstack-dev to openstack-discuss
* Add Python 3.6 classifier to setup.cfg
* Wait for auditplans to finish and before creating audits
* delete failed audit
* do not expect to match the scheme://host:port/ part
* Clean up .gitignore references to personal tools
* Add python 3.6 unit test job
* Fix create\_audit failed
* Removed older version of python added 3.5
* Fix zone migration strategy scenario test
* Remove set up document for Keystone V2
* Fix test\_show\_audit
* Add start actionplan test
* improve scenario test
* improve audit tempest test
* Make functional job voting in both check and gate
* Add applier tests in test\_service.py
* Fix wrong show\_service help info
* check audit state
* import zuul job settings from project-config
* Restore watcher-tempest-zone\_migration job

1.0.0
-----

* exclude hostname in assert\_expected
* remove LOG definitions that have not been used
* Audit and actionplan have different status
* Fix functional tests taking into account HA changes
* Fix Audit issues with hostname[2]
* Fix Audit issues with hostname
* Add release notes link to README
* fix tox python3 overrides
* fix tox python3 overrides
* Remove volume v1 API service client usage
* Fix actuator and basic optim scenario
* Add zone migration strategy scenario job
* Restore functional job
* Restore execution of actions in basic\_consolidation strategy
* Fix workload balancing scenario
* Update readme.rst
* Temporary remove functional job
* Make BaseInfraOptimClient as base client for both watcher and gnocchi
* Add zuulv3 jobs to check and gate pipelines
* Remove prefix of AuditTemplate object
* Updated from global requirements
* Tempest Fix
* Fix the old and invalid doc links
* Add watcher-tempest-multinode job
* Updated from global requirements
* Updated from global requirements
* Cleanup requirements.txt
* Add README content
* Remove usage of watcher modules
* Fix package name
* Apply cookiecutter
* Added Actuator Strategy
* Update the documention for doc migration
* New cron type for audit interval
* Fix test\_list\_with\_limit failed
* Replace the usage of 'manager' with 'os\_primary'
* fix multinode tempest test failure
* Trivial fix typos
* Remove the deprecated tempest.test.attr
* Added suspended audit state
* correct syntax error
* Added tempest test for workload\_stabilization
* Local copy of scenario test base class
* Switch to use test\_utils.call\_until\_true
* Fix multinode tempest test failure
* Remove obsolete Resource element
* New default planner
* Add action plan SUPERSEDED state
* Removed unnecessary utf-8 encoding
* Use uuidutils instead of uuid.uuid4()
* Replaces uuid.uuid4 with uuidutils.generate\_uuid()
* Added Tempest API tests for /scoring\_engines
* Remove unused SUBMITTED audit state
* Removed deadline, version, extra & host\_aggregate
* Add Audit Scope Handler
* Add service supervisor
* Stop adding ServiceAvailable group option
* Fixed Tempest test due to notification issues
* Fixed flaky tempest test
* Implement goal\_id, strategy\_id and host\_aggregate into Audit api
* Fixed Basic optim tempest test
* Add hacking checks to watcher
* Fix field type to audit\_type
* Fix failing Tempest tests
* Decoupled Goal from Strategy
* Updated tempest test creds retrieval mechanism
* Add goal\_name & strategy\_name in /audit\_templates
* Fixed flaky tempest test
* Removed telemetry tag from tempest tests
* Add strategy\_id & goal\_id fields in audit template
* Refactored Strategy selector to select from DB
* Added /strategies endpoint in Watcher API
* Add Goal in BaseStrategy + Goal API reads from DB
* Add parameters verification when Audit is being created
* Upgrade Watcher Tempest tests for multinode
* Refactored check for invalid goal
* Fixed wrongly used assertEqual method
* Updated Watcher doc to mention Tempest tests
* Rename 'TRIGGERED' state as 'PENDING'
* Re-enable related Tempest test
* Better cleanup for Tempest tests
* Added Tempest scenario for BASIC\_CONSOLIDATION
* Tempest API tests on /actions
* Fixed tempest test bug
* API Tempest tests on goals
* Action Plan state - Changed STARTING to TRIGGERED
* Tempest scenario - execute a dummy strategy
* API Tempest tests on Action plans
* API Tempest tests on Audits
* Refactored existing tempest API tests
