Metadata-Version: 2.4
Name: wedge-lib
Version: 3.1.29
Summary: Wedge library for django application
License: MIT
License-File: LICENSE.txt
Author: François Schneider
Author-email: francois.schneider@wedge-digital.com
Requires-Python: >=3.12,<4.0
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Programming Language :: Python :: 3.14
Requires-Dist: argon2-cffi
Requires-Dist: arrow
Requires-Dist: cryptography
Requires-Dist: django
Requires-Dist: django-sms (>=0.7.0,<0.8.0)
Requires-Dist: djangorestframework
Requires-Dist: djangorestframework-api-key
Requires-Dist: mergedeep
Requires-Dist: openpyxl
Requires-Dist: pandas
Requires-Dist: python-dateutil
Requires-Dist: python-keycloak
Requires-Dist: python-ulid (>=3.0.0,<4.0.0)
Requires-Dist: pyyaml (>=6.0.3)
Requires-Dist: pyzstd
Requires-Dist: requests
Requires-Dist: serpy
Requires-Dist: validators
Requires-Dist: var-dump
Description-Content-Type: text/markdown

# Wedge Library

## Démarrage rapide

```bash
$ pip install wedge-lib
```

### Mode maintenance

#### Middleware

```python
MIDDLEWARE=[
    "w.drf.middlewares.maintenance_mode_middleware.MaintenanceModeMiddleware",
],
```


#### Command

Ajouter la commande maintenance_mode :

```python
from w.django.commands.abstract_maintenance_mode_command import (
    AbstractMaintenanceModeCommand,
)


class Command(AbstractMaintenanceModeCommand):
    pass
```

Utilisation :

```bash
$ python manage.py maintenance_mode <on/off>
```

### Configuration pour certains services

#### MailService
TBD
#### GoogleMapService
TBD
#### YousignService
TBD

## Development

### Installation

```bash
poetry install --sync
poetry shell
```

### Run test

```bash
$ pytest
```

### Before commit

Pour éviter de faire échouer le CI, lancer la commande:

```bash
$ ./before_commit.zsh
```

### Publier manuellement sur PyPI

Pour cela, il faut créer une nouvelle release sur GitHub avec le tag correspondant à la version de la librairie c'est à dire la version renseignée dans `pyproject.toml`.

- Aller sur la page GitHub du repository : https://github.com/Wedge-Digital/w
- Cliquer sur `Tags`
- Cliquer sur `Releases`
- Cliquer sur `Draft a new release`
- Dans Choose a tag saisir la version de la raison = version renseignée dans `pyproject.toml`
- Cliquer sur `Generate release notes`
- Cliquer sur `Publish release`

Le CI s'occupera ensuite de publier la librairie sur PyPi si les tests ne sont pas KO.





