[build-system]
requires = ["setuptools>=74.1.0"]
build-backend = "setuptools.build_meta"

[project]
name = "edge-mender"
version = "0.1.0"
description = "A Topology Repair Algorithm for Voxel Boundary Meshes"
authors = [{ name = "Matthew Vine", email = "mattvine03@gmail.com" }]
keywords = ["mesh", "manifold", "topology", "voxel", "3d", "geometry"]
readme = "README.md"
license = "MIT"
license-files = ["LICENSE"]
requires-python = ">=3.11"
dependencies = ["numpy>=2.3.4", "scipy>=1.16.3", "trimesh>=4.9.0"]

[project.optional-dependencies]
utils = [
    "connected-components-3d>=3.26.1",
    "fill-voids>=2.1.1",
    "itk>=5.4.5",
    "itk-cuberille>=2.7.2",
    "manifold3d>=3.3.2",
    "panda3d>=1.10.15",
    "pandas>=2.3.3",
    "pyvista>=0.46.4",
]
dev = [
    "edge_mender[utils]",
    "fast-simplification>=0.1.12",
    "networkx>=3.6",
    "pre-commit>=4.5.0",
    "pytest>=9.0.1",
    "pytest-cov>=7.0.0",
    "pytest-mock>=3.15.1",
    "ruff>=0.14.7",
    "uv>=0.9.14",
]
examples = [
    "edge_mender[utils]",
    "ipykernel>=7.1.0",
    "ipywidgets>=8.1.8",
    "networkx>=3.6",
    "trame>=3.12.0",
    "trame-server>=3.8.1",
    "trame-vtk>=2.10.0",
    "trame-vuetify>=3.1.0",
]
eval = [
    "edge_mender[utils,examples]",
    "nibabel>=5.3.2",
    "openpyxl>=3.1.5",
    "tqdm>=4.67.1",
]

[tool.setuptools]
packages = ["edge_mender"]

[tool.ruff]
exclude = ["edge_mender/Dual_Contouring_Voxel"]

[tool.ruff.lint]
select = ["ALL"]
ignore = ["TD002", "FIX002", "C901", "PLR0912", "PLR0913", "PLR0915"]
fixable = ["ALL"]
unfixable = []

[tool.ruff.lint.pydocstyle]
convention = "numpy"

[tool.ruff.lint.per-file-ignores]
"pseudocode.py" = ["ALL"]
"tests/*" = ["S101", "SLF001", "PLR0913"]

[tool.coverage.run]
omit = [
    "conftest.py",
    "pseudocode.py",
    "tests/*",
    "edge_mender/Dual_Contouring_Voxel/*",
]
