import{a as d}from"./chunk-NZWYMOVY.js";import{b as r}from"./chunk-LNTKXTVM.js";import"./chunk-MFPRCIVI.js";import"./chunk-SVHROGNI.js";import"./chunk-DLJYFRIS.js";import"./chunk-MAT3H5WR.js";import{k as n}from"./chunk-KYPE3LET.js";var o=class f extends d{#h;#i;#s;#t;#e;rotate(t,i,s){let h=this.#e*Math.cos(t),e=this.#e*Math.sin(t),a="";return i!==void 0&&s!==void 0?a=`M${Math.round(i-h)},${Math.round(s-e)}`:(h=-h,e=-e),a+=`l${Math.round(h)},${Math.round(e)}`,i&&s===void 0&&(a+="z"),a}createPath(){let t=Math.atan2(this.y2-this.y1,this.x2-this.x1),i=this.#e*Math.cos(this.#t),s=i*Math.cos(t),h=i*Math.sin(t),e="";return this.#h&&(e+=this.rotate(t-Math.PI-this.#t,this.x1,this.y1)+this.rotate(t-Math.PI+this.#t,this.#h>10)),this.#i%10===2&&(e+=this.rotate(t-Math.PI-this.#t,(this.x1+this.x2-s)/2,(this.y1+this.y2-h)/2)+this.rotate(t-Math.PI+this.#t,this.#i>10)),this.#i%10===1&&(e+=this.rotate(t-this.#t,(this.x1+this.x2+s)/2,(this.y1+this.y2+h)/2)+this.rotate(t+this.#t,this.#i>10)),this.#s&&(e+=this.rotate(t-this.#t,this.x2,this.y2)+this.rotate(t+this.#t,this.#s>10)),`M${Math.round(this.x1+(this.#h>10?s:0))},${Math.round(this.y1+(this.#h>10?h:0))}L${Math.round(this.x2-(this.#s>10?s:0))},${Math.round(this.y2-(this.#s>10?h:0))}`+e}prepareDraw(){super.prepareDraw();let t=this.getObject(),i=t.fOption,s=this.getPadPainter().getPadRect();this.#e=Math.max(3,Math.round(Math.max(s.width,s.height)*t.fArrowSize*.8)),this.#t=t.fAngle/2/180*Math.PI,this.#h=this.#i=this.#s=0,i.indexOf("<")===0&&(this.#h=i.indexOf("<|")===0?12:2),i.indexOf("->-")>=0?this.#i=1:i.indexOf("-|>-")>=0?this.#i=11:i.indexOf("-<-")>=0?this.#i=2:i.indexOf("-<|-")>=0&&(this.#i=12);let h=i.lastIndexOf(">"),e=i.lastIndexOf("|>"),a=i.length;h>=0&&h===a-1&&(this.#s=e>=0&&e===a-2?11:1),this.createAttFill({attr:t,enable:this.#h>10||this.#s>10})}addExtras(t){t.call(this.fillatt.func)}static draw(t,i,s){return n(this,null,function*(){let h=new f(t,i,s);return r(h,!1).then(()=>h.redraw())})}};export{o as TArrowPainter};
