import{b as g}from"./chunk-LNTKXTVM.js";import"./chunk-MFPRCIVI.js";import{g as d,p}from"./chunk-SVHROGNI.js";import{O as m,ka as x}from"./chunk-DLJYFRIS.js";import{Ca as l,g as h,x as c}from"./chunk-MAT3H5WR.js";import{k as f}from"./chunk-KYPE3LET.js";var u=c(14),y=class v extends x{#t;#i;#e;moveDrag(i,t){this.#t+=i,this.#i+=t,m(this.getG().select("path"),this.#t,this.#i)}moveEnd(i){if(i)return;let t=this.getObject(),s=this.getAxisToSvgFunc(this.#e),n="";for(let e=0;e<=t.fLastPoint;++e){let r=this.svgToAxis("x",s.x(t.fX[e])+this.#t,this.#e),a=this.svgToAxis("y",s.y(t.fY[e])+this.#i,this.#e);t.fX[e]=r,t.fY[e]=a,n+=`SetPoint(${e},${r},${a});;`}this.submitCanvExec(n+"Notify();;"),this.redraw()}getUserRanges(){let i=this.getObject();if(i.TestBit(u)||!i.fLastPoint)return null;let s=i.fX[0],n=s,e=i.fY[0],r=e;for(let a=1;a<=i.fLastPoint;++a)s=Math.min(s,i.fX[a]),n=Math.max(n,i.fX[a]),e=Math.min(e,i.fY[a]),r=Math.max(r,i.fY[a]);return{minx:s,miny:e,maxx:n,maxy:r}}redraw(){let i=this.createG(),t=this.getObject(),s=t.TestBit(u),n=this.getDrawOpt()||t.fOption,e=t._typename===l&&h(n)&&n.toLowerCase().indexOf("f")>=0,r=this.getAxisToSvgFunc(s);this.createAttLine({attr:t}),this.createAttFill({attr:t,enable:e});let a="";for(let o=0;o<=t.fLastPoint;++o)a+=`${o>0?"L":"M"}${r.x(t.fX[o])},${r.y(t.fY[o])}`;return i.append("svg:path").attr("d",a+(e?"Z":"")).call(e?()=>{}:this.lineatt.func).call(this.fillatt.func),p(this),d(this),this.#t=this.#i=0,this.#e=s,this}static draw(i,t,s){return f(this,null,function*(){let n=new v(i,t,s);return g(n,!1).then(()=>n.redraw())})}};export{y as TPolyLinePainter};
