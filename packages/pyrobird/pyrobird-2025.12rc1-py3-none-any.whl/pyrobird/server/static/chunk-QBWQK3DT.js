import{c as d,d as l}from"./chunk-3MJ5AJB7.js";import{b as p}from"./chunk-JFO4ENDF.js";import{h}from"./chunk-HB357Z3Y.js";import{c as o,h as f}from"./chunk-MFPRCIVI.js";import{u as a}from"./chunk-MAT3H5WR.js";import{k as s}from"./chunk-KYPE3LET.js";var w=class m extends p{draw3D(i){return s(this,null,function*(){this.mode3d=!0;let e=this.getFramePainter(),t=this.isMainPainter(),r=this.getOptions();r.zmult=1+2*a.fHistTopMargin;let n=Promise.resolve(!0),u=!0;if(i==="resize"){let c=t?e.resize3D():!1;c!==1&&(u=!1,c&&e.render3D())}return u&&(this.createHistDrawAttributes(!0),this.scanContent(i==="zoom"),t&&(n=d(this,o,r.Render3D)),e.mode3d&&(n=n.then(()=>{l(this),e.render3D(),this.updateStatWebCanvas(),e.addKeysHandler()}))),t&&(n=n.then(()=>this.drawColorPalette(r.Zscale&&r.canHavePalette()))),n.then(()=>this.updateFunctions()).then(()=>this.updateHistTitle()).then(()=>this)})}static build3d(i,e){return s(this,null,function*(){let t=new m(null,i);t.decodeOptions(e),t.scanContent(),t.createHistDrawAttributes(!0),t.options.zmult=1+2*a.fHistTopMargin;let r=new f(null,null);return t.getFramePainter=()=>r,d(t,o).then(()=>l(t)).then(()=>r.create3DScene(-1,!0))})}static draw(i,e,t){return s(this,null,function*(){return h._drawHist(new m(i,e),t)})}};export{w as a};
