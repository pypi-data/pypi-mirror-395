.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.49.3.
.TH CVM-ENCRYPT-IMAGE "1" "November 2025" "cvm-encrypt-image 0.1.1" "User Commands"
.SH NAME
cvm-encrypt-image \- manual page for cvm-encrypt-image 0.1.1
.SH DESCRIPTION
usage: cvm\-encrypt\-image [\-h] [\-n NBDDEV] [\-v] [\-\-no\-cloud\-init] [\-g]
.TP
[\-s SRKPUB] [\-u SRKUNIQUE] [\-r RECOVERY_KEY]
[\-\-recovery\-key\-type {binary,text,both}] [\-\-noswtpm]
[\-\-pcr4 PCR4] [\-\-pcr7 PCR7] [\-\-nosecureboot]
[\-\-pcrs\-json PCRS_JSON]
[\-\-efivars\-profile EFIVARS_PROFILE |
\fB\-\-uefi\-profile\fR UEFI_PROFILE |
\fB\-\-az\-disk\-profile\fR AZ_DISK_PROFILE]
[\-\-efivars\-profile\-no\-attrs] [\-\-seal\-type SEAL_TYPE]
{encrypt,deploy} image
.PP
Encrypt/deploy CVM cloud image
.SS "positional arguments:"
.TP
{encrypt,deploy}
encrypt/deploy
.TP
image
image file (VHD, QCOW2) or a block device
.SS "options:"
.TP
\fB\-h\fR, \fB\-\-help\fR
show this help message and exit
.TP
\fB\-n\fR, \fB\-\-nbddev\fR NBDDEV
NBD device number, defaults to 0
.TP
\fB\-v\fR, \fB\-\-verbose\fR
Print additional info
.TP
\fB\-\-no\-cloud\-init\fR
Do not create \fI\,/cc_growpart_keydata\/\fP and LUKS keyslot
for root volume resize (encrypt only)
.TP
\fB\-g\fR, \fB\-\-growpart\fR
Grow root partition to the size of the volume (encrypt
only)
.TP
\fB\-s\fR, \fB\-\-srkpub\fR SRKPUB
SRK public part ('systemd\-analyze srk', deploy only)
.TP
\fB\-u\fR, \fB\-\-srkunique\fR SRKUNIQUE
DEPRECATED
.TP
\fB\-r\fR, \fB\-\-recovery\-key\fR RECOVERY_KEY
Recovery key file (deploy only, adds an additional
passphrase to root volume)
.TP
\fB\-\-recovery\-key\-type\fR {binary,text,both}
Recovery key type
.TP
\fB\-\-noswtpm\fR
Do not use swtpm, use hardware /dev/tpm{,rm}0 instead)
.TP
\fB\-\-pcr4\fR PCR4
Expected PCR4 sha256 value for root volume key sealing
(deploy only, sha256 or "auto")
.TP
\fB\-\-pcr7\fR PCR7
Expected PCR7 sha256 value for root volume key sealing
(deploy only, sha256 or "auto")
.TP
\fB\-\-nosecureboot\fR
Do PCR prediction with SecureBoot disabled (deploy
only)
.TP
\fB\-\-pcrs\-json\fR PCRS_JSON
Override specified or predicted PCR values from the
specified file on the ESP (deploy only)
.TP
\fB\-\-efivars\-profile\fR EFIVARS_PROFILE
UEFI profile (PK, KEK, db, dbx) efivars\-format dir
(e.g. \fI\,/sys/firmware/efi/efivars\/\fP)) for "\-\-pcr7 auto"
(deploy only)
.TP
\fB\-\-uefi\-profile\fR UEFI_PROFILE
UEFI profile (PK, KEK, db, dbx) JSON for "\-\-pcr7 auto"
(deploy only)
.TP
\fB\-\-az\-disk\-profile\fR AZ_DISK_PROFILE
Azure disk profile JSON for "\-\-pcr7 auto" (deploy
only)
.TP
\fB\-\-efivars\-profile\-no\-attrs\fR
The UEFI profile efivars\-format files do not include
the 4\-byte attribute header (\fB\-\-efivars\-profile\fR only)
.TP
\fB\-\-seal\-type\fR SEAL_TYPE
DEPRECATED
.SH AUTHOR

Vitaly Kuznetsov <vkuznets@redhat.com>
