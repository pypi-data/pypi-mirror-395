[English](README.md) | **ç¹é«”ä¸­æ–‡**

# Phonetic Substitution Engine (å¤šèªè¨€èªéŸ³ç›¸ä¼¼æ›¿æ›å¼•æ“)

åŸºæ–¼èªéŸ³ç›¸ä¼¼åº¦çš„å¤šèªè¨€å°ˆæœ‰åè©æ›¿æ›å·¥å…·ã€‚æ”¯æ´ ASR/LLM å¾Œè™•ç†ã€åœ°åŸŸæ…£ç”¨è©è½‰æ›ã€ç¸®å¯«æ“´å±•ç­‰å¤šç¨®æ‡‰ç”¨å ´æ™¯ã€‚
ç‰¹åˆ¥é‡å° **ä¸­è‹±æ··åˆ (Code-Switching)** å ´æ™¯é€²è¡Œäº†å„ªåŒ–ã€‚

## ğŸ’¡ æ ¸å¿ƒç†å¿µ

**æœ¬å¥—ä»¶ä¸ç¶­è­·ä»»ä½•å°ˆæœ‰åè©å­—å…¸ï¼Œè€Œæ˜¯æä¾›ä¸€å€‹åŸºæ–¼èªéŸ³å‘é‡ç©ºé–“çš„æ›¿æ›å¼•æ“ã€‚**

æ­¤å¥—ä»¶çš„æ ¸å¿ƒæ©Ÿåˆ¶æ˜¯å°‡ä¸åŒèªè¨€çš„æ–‡æœ¬çµ±ä¸€æ˜ å°„åˆ°**èªéŸ³å‘é‡ç©ºé–“**ï¼ˆç”±æ‹¼éŸ³ã€IPA éŸ³æ¨™çµ„æˆï¼‰ã€‚

ç„¡è«–æ˜¯ ASRï¼ˆèªéŸ³è­˜åˆ¥ï¼‰ã€LLMï¼ˆå¤§å‹èªè¨€æ¨¡å‹ï¼‰æˆ–å…¶ä»–å ´æ™¯å‡ºç¾çš„æ‹¼å¯«éŒ¯èª¤â€”â€”é€šå¸¸æ˜¯å› ç‚ºå°ˆæœ‰åè©ç½•è¦‹å°è‡´é¸å­—éŒ¯èª¤â€”â€”æœ¬å·¥å…·éƒ½æœƒå°‡å…¶è½‰æ›åˆ°**æ‹¼éŸ³/éŸ³æ¨™ç¶­åº¦**ã€‚

æ¥è‘—ï¼Œç³»çµ±æœƒå°‡é€™äº›è½‰æ›å¾Œçš„èªéŸ³ç‰¹å¾µï¼Œèˆ‡**ä½¿ç”¨è€…æä¾›çš„å°ˆæœ‰åè©**ï¼ˆåŠ ä¸Šç³»çµ±è‡ªå‹•ç”Ÿæˆçš„æ¨¡ç³ŠéŸ³è®Šé«”ï¼‰é€²è¡Œæ¯”å°ï¼Œè¨ˆç®—å¯èƒ½æ€§ï¼Œé€²è€Œç²¾æº–æ›¿æ›æ‹¼å¯«éŒ¯èª¤ã€‚

> âš ï¸ **æ³¨æ„**ï¼šé€™ä¸æ˜¯å…¨æ–‡ç³¾éŒ¯å·¥å…·ï¼Œè€Œæ˜¯å°ˆæ³¨æ–¼ã€Œå°ˆæœ‰åè©çš„èªéŸ³ç›¸ä¼¼æ›¿æ›ã€ã€‚

ä½¿ç”¨è€…éœ€è‡ªè¡Œæä¾›å°ˆæœ‰åè©å­—å…¸ï¼Œæœ¬å·¥å…·æœƒï¼š
1. **è‡ªå‹•ç”ŸæˆèªéŸ³è®Šé«”**ï¼š
   - **ä¸­æ–‡**ï¼šè‡ªå‹•ç”¢ç”Ÿå°å¼å£éŸ³/æ¨¡ç³ŠéŸ³è®Šé«”ï¼ˆå¦‚ã€ŒåŒ—è»Šã€â†’ã€Œå°åŒ—è»Šç«™ã€ï¼‰
   - **è‹±æ–‡**ï¼šåŸºæ–¼ IPA (åœ‹éš›éŸ³æ¨™) è¨ˆç®—èªéŸ³ç›¸ä¼¼åº¦ï¼ˆå¦‚ "Ten so floor" â†’ "TensorFlow"ï¼‰
2. **æ™ºèƒ½è©å½™æ›¿æ›**ï¼šè‡ªå‹•è­˜åˆ¥èªè¨€ç‰‡æ®µï¼Œå°‡èªéŸ³ç›¸ä¼¼çš„è©å½™æ›¿æ›ç‚ºæ‚¨æŒ‡å®šçš„æ¨™æº–å°ˆæœ‰åè©

**é©ç”¨å ´æ™¯**ï¼š
- **ASR èªéŸ³è­˜åˆ¥å¾Œè™•ç†**ï¼šä¿®æ­£èªéŸ³è½‰æ–‡å­—ç”¢ç”Ÿçš„å°ˆæœ‰åè©éŒ¯èª¤ï¼ˆå«ä¸­è‹±å¤¾é›œï¼‰
- **LLM è¼¸å‡ºå¾Œè™•ç†**ï¼šä¿®æ­£å¤§å‹èªè¨€æ¨¡å‹å› å°ˆæœ‰åè©ç½•è¦‹è€Œé¸éŒ¯çš„åŒéŸ³å­—/è¿‘éŸ³å­—
- **å°ˆæœ‰åè©æ¨™æº–åŒ–**ï¼šå°‡å£èª/èª¤å¯«çš„è¡“èªé‚„åŸç‚ºæ­£å¼åç¨±
- **åœ°åŸŸè©å½™è½‰æ›**ï¼šä¸­åœ‹æ…£ç”¨è© â†” å°ç£æ…£ç”¨è©

## ğŸ“š åŠŸèƒ½ç‰¹è‰²

### 1. å¤šèªè¨€æ”¯æ´
- **Unified Corrector**: çµ±ä¸€å…¥å£ï¼Œè‡ªå‹•è™•ç†ä¸­è‹±æ··åˆæ–‡æœ¬
- **è‹±æ–‡èªéŸ³æ›¿æ›**: 
    - ä½¿ç”¨ IPA (International Phonetic Alphabet) é€²è¡ŒèªéŸ³ç›¸ä¼¼åº¦æ¯”å°
    - æ”¯æ´ Acronyms (ç¸®å¯«) çš„èªéŸ³é‚„åŸ
- **ä¸­æ–‡èªéŸ³æ›¿æ›**:
    - ä½¿ç”¨æ‹¼éŸ³é€²è¡Œæ¨¡ç³ŠéŸ³æ¯”å°
    - æ”¯æ´å°ç£åœ‹èªç‰¹æœ‰çš„ç™¼éŸ³æ··æ·†æ¨¡å¼

### 2. è‡ªå‹•èªéŸ³è®Šé«”ç”Ÿæˆ
- **ä¸­æ–‡**ï¼šè‡ªå‹•ç”¢ç”Ÿå°å¼å£éŸ³/æ¨¡ç³ŠéŸ³è®Šé«”
  - æ²èˆŒéŸ³ (z/zh, c/ch, s/sh)
  - n/l ä¸åˆ† (å°ç£åœ‹èª)
  - r/l æ··æ·†ã€f/h æ··æ·†
  - éŸ»æ¯æ¨¡ç³Š (in/ing, en/eng, ue/ie ç­‰)
- **è‹±æ–‡**ï¼šè‡ªå‹•ç”¢ç”Ÿ ASR/LLM å¸¸è¦‹éŒ¯èª¤è®Šé«”
  - éŸ³ç¯€åˆ†å‰²è®Šé«” ("TensorFlow" â†’ "Ten so floor")
  - ç¸®å¯«å±•é–‹è®Šé«” ("AWS" â†’ "A W S")

### 3. æ™ºèƒ½æ›¿æ›å¼•æ“
- æ»‘å‹•è¦–çª—åŒ¹é…ç®—æ³•
- ä¸Šä¸‹æ–‡é—œéµå­—åŠ æ¬Šæ©Ÿåˆ¶
- å‹•æ…‹å®¹éŒ¯ç‡èª¿æ•´

### 4. ä¸²æµè™•ç†æ”¯æ´ (ASR/LLM Streaming)
- **ç´¯ç©æ¨¡å¼** (`StreamingCorrector`)ï¼šé©ç”¨æ–¼ Realtime ASR
  - æ”¯æ´ç´¯ç©æ–‡æœ¬æŒçºŒæ›´æ–°
  - è‡ªå‹•åµæ¸¬æ–°æ®µè½ä¸¦é‡ç½®å¿«å–
- **Chunk æ¨¡å¼** (`ChunkStreamingCorrector`)ï¼šé©ç”¨æ–¼ LLM Streaming
  - å¢é‡è¼¸å…¥ï¼Œå³æ™‚è¼¸å‡ºå·²ç¢ºèªçš„ä¿®æ­£
  - ä¿ç•™é‡ç–Šå€åŸŸé˜²æ­¢è©å½™è¢«åˆ‡æ–·

## ğŸ“¦ å®‰è£

### ä½¿ç”¨ uv (æ¨è–¦)

[uv](https://docs.astral.sh/uv/) æ˜¯æ–°ä¸€ä»£çš„ Python å¥—ä»¶ç®¡ç†å·¥å…·ï¼Œé€Ÿåº¦å¿«ä¸”åŠŸèƒ½å®Œæ•´ã€‚

```bash
# å®‰è£ uv (Windows PowerShell)
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"

# å®‰è£ uv (macOS/Linux)
curl -LsSf https://astral.sh/uv/install.sh | sh
```

```bash
# é è¨­å®‰è£ (åŒ…å«ä¸­è‹±æ–‡æ”¯æ´)
uv add phonofix

# åƒ…ä¸­æ–‡æ”¯æ´
uv add "phonofix[ch]"

# åƒ…è‹±æ–‡æ”¯æ´ (éœ€å…ˆå®‰è£ espeak-ngï¼Œè¦‹ä¸‹æ–¹èªªæ˜)
uv add "phonofix[en]"

# å®Œæ•´å®‰è£ (èˆ‡é è¨­ç›¸åŒ)
uv add "phonofix[all]"
```

### è‹±æ–‡æ”¯æ´èªªæ˜ (espeak-ng å®‰è£)

è‹±æ–‡èªéŸ³åŠŸèƒ½ä¾è³´ [espeak-ng](https://github.com/espeak-ng/espeak-ng) ç³»çµ±å¥—ä»¶ã€‚

**ä½¿ç”¨å…§å»ºå®‰è£è…³æœ¬ (æ¨è–¦)**ï¼š

æœ¬å°ˆæ¡ˆæä¾›è‡ªå‹•åŒ–å®‰è£è…³æœ¬ï¼Œæœƒè‡ªå‹•ä¸‹è¼‰ã€å®‰è£ä¸¦è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š

```bash
# Windows PowerShell (å»ºè­°ä»¥ç®¡ç†å“¡æ¬Šé™åŸ·è¡Œ)
.\scripts\setup_espeak.ps1

# Windows CMD (å»ºè­°ä»¥ç®¡ç†å“¡æ¬Šé™åŸ·è¡Œ)
scripts\setup_espeak_windows.bat

# macOS / Linux
chmod +x scripts/setup_espeak.sh
./scripts/setup_espeak.sh
```

è…³æœ¬æœƒè‡ªå‹•å®Œæˆï¼š
1. æª¢æŸ¥/å®‰è£ espeak-ng
2. è¨­å®š `PHONEMIZER_ESPEAK_LIBRARY` ç’°å¢ƒè®Šæ•¸
3. é©—è­‰ phonemizer æ˜¯å¦æ­£å¸¸é‹ä½œ

**æ‰‹å‹•å®‰è£**ï¼š

```bash
# Windows: å¾ GitHub ä¸‹è¼‰å®‰è£ç¨‹å¼
# https://github.com/espeak-ng/espeak-ng/releases

# macOS
brew install espeak-ng

# Debian/Ubuntu
sudo apt install espeak-ng

# Arch Linux
sudo pacman -S espeak-ng
```

### é–‹ç™¼ç’°å¢ƒè¨­å®š

```bash
# Clone å°ˆæ¡ˆå¾Œå®‰è£ä¾è³´
uv sync

# å®‰è£é–‹ç™¼ä¾è³´
uv sync --dev

# åŸ·è¡Œç¯„ä¾‹
uv run python examples/chinese_examples.py

# åŸ·è¡Œæ¸¬è©¦
uv run pytest
```

## ğŸ§ª é–‹ç™¼

```bash
# åŸ·è¡Œæ¸¬è©¦
uv run pytest

# åŸ·è¡Œæ¸¬è©¦ä¸¦é¡¯ç¤ºè¦†è“‹ç‡
uv run pytest --cov

# ç¨‹å¼ç¢¼æ ¼å¼åŒ–
uv run ruff format .

# ç¨‹å¼ç¢¼æª¢æŸ¥
uv run ruff check .

# å‹åˆ¥æª¢æŸ¥
uv run mypy src/phonofix
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. æ··åˆèªè¨€æ›¿æ› (Unified Corrector)

```python
from phonofix import UnifiedEngine

# å®šç¾©æ‚¨çš„å°ˆæœ‰åè©å­—å…¸
terms = [
    "å°åŒ—è»Šç«™",      # ä¸­æ–‡è©
    "TensorFlow",   # è‹±æ–‡å°ˆæœ‰åè©
    "Python"
]

# åˆå§‹åŒ–å¼•æ“ (å–®ä¾‹æ¨¡å¼ï¼Œå»ºè­°å…¨åŸŸåªåˆå§‹åŒ–ä¸€æ¬¡)
engine = UnifiedEngine()

# å»ºç«‹æ›¿æ›å™¨
corrector = engine.create_corrector(terms)

# ASR è¼¸å‡ºå¾Œè™•ç†
asr_text = "æˆ‘åœ¨åŒ—è»Šç”¨Pytonå¯«Ten so floorçš„code"
result = corrector.correct(asr_text)
print(result)
# è¼¸å‡º: "æˆ‘åœ¨å°åŒ—è»Šç«™ç”¨Pythonå¯«TensorFlowçš„code"

# LLM è¼¸å‡ºå¾Œè™•ç† (LLM å¯èƒ½å› ç½•è¦‹è©è€Œé¸éŒ¯åŒéŸ³å­—)
llm_text = "æˆ‘åœ¨åŒ—è»Šç”¨æ´¾æ£®å¯«code"  # LLM æŠŠ Python éŸ³è­¯æˆã€Œæ´¾æ£®ã€
result = corrector.correct(llm_text)
print(result)
# è¼¸å‡º: "æˆ‘åœ¨å°åŒ—è»Šç«™ç”¨Pythonå¯«code"
```

### 2. ä¸­æ–‡å°ˆç”¨ (Chinese Engine)

**é‡è¦æé†’**ï¼šæœ¬å·¥å…·ä¸æä¾›é è¨­å­—å…¸ï¼Œæ‚¨éœ€è¦æ ¹æ“šè‡ªå·±çš„æ¥­å‹™å ´æ™¯å»ºç«‹å°ˆæœ‰åè©æ¸…å–®ã€‚

#### æ¨è–¦ä½¿ç”¨æ–¹å¼ - è‡ªå‹•ç”Ÿæˆåˆ¥å

ä½¿ç”¨ `ChineseEngine`ï¼Œ**åªéœ€æä¾›æ‚¨çš„å°ˆæœ‰åè©æ¸…å–®**ï¼Œå·¥å…·æœƒè‡ªå‹•ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„æ¨¡ç³ŠéŸ³è®Šé«”ä¸¦é€²è¡Œæ‹¼éŸ³å»é‡ï¼š

#### æœ€ç°¡æ ¼å¼ - åƒ…æä¾›é—œéµå­—åˆ—è¡¨

```python
from phonofix import ChineseEngine

# æ­¥é©Ÿ 1: æä¾›æ‚¨çš„å°ˆæœ‰åè©æ¸…å–®ï¼ˆé€™æ˜¯æ‚¨éœ€è¦ç¶­è­·çš„å­—å…¸ï¼‰
my_terms = ["å°åŒ—è»Šç«™", "ç‰›å¥¶", "ç™¼æ®"]

# æ­¥é©Ÿ 2: åˆå§‹åŒ–å¼•æ“ä¸¦å»ºç«‹æ›¿æ›å™¨
# å·¥å…·æœƒè‡ªå‹•ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„æ¨¡ç³ŠéŸ³è®Šé«”
# ä¾‹å¦‚ï¼š"å°åŒ—è»Šç«™" â†’ è‡ªå‹•ç”Ÿæˆ "åŒ—è»Š"ã€"è‡ºåŒ—è»Šç«™" ç­‰è®Šé«”
engine = ChineseEngine()
corrector = engine.create_corrector(my_terms)

# æ­¥é©Ÿ 3: è‡ªå‹•å°‡æ¥è¿‘éŸ³çš„è©è½‰æ›ç‚ºæ­£ç¢ºçš„å°ˆæœ‰åè©
result = corrector.correct("æˆ‘åœ¨åŒ—è»Šè²·äº†æµå¥¶,ä»–èŠ±æ®äº†æ‰èƒ½")
# çµæœ: 'æˆ‘åœ¨å°åŒ—è»Šç«™è²·äº†ç‰›å¥¶,ä»–ç™¼æ®äº†æ‰èƒ½'
# èªªæ˜: "åŒ—è»Š" â†’ "å°åŒ—è»Šç«™", "æµå¥¶" â†’ "ç‰›å¥¶", "èŠ±æ®" â†’ "ç™¼æ®"
```

#### å®Œæ•´æ ¼å¼ - åˆ¥å + é—œéµå­— + æ¬Šé‡

ç•¶åŒä¸€å€‹åˆ¥åå¯èƒ½å°æ‡‰å¤šå€‹å°ˆæœ‰åè©æ™‚ï¼Œå¯ä½¿ç”¨ä¸Šä¸‹æ–‡é—œéµå­—å’Œæ¬Šé‡ä¾†æé«˜æº–ç¢ºåº¦ï¼š

```python
# æ‚¨çš„å°ˆæœ‰åè©å­—å…¸ï¼ˆæ ¹æ“šæ‚¨çš„æ¥­å‹™å ´æ™¯ç¶­è­·ï¼‰
my_business_terms = {
    "æ°¸å’Œè±†æ¼¿": {
        "aliases": ["æ°¸è±†", "å‹‡è±†"],  # æ‰‹å‹•æä¾›å¸¸è¦‹åˆ¥åæˆ–éŒ¯éŸ³
        "keywords": ["åƒ", "å–", "è²·", "å®µå¤œ"],  # ä¸Šä¸‹æ–‡é—œéµå­—å¹«åŠ©åˆ¤æ–·
        "weight": 0.3  # åŒ¹é…æ¬Šé‡
    },
    "å‹‡è€…é¬¥æƒ¡é¾": {
        "aliases": ["å‹‡é¬¥", "æ°¸é¬¥"],  # åŒéŸ³ä½†ä¸åŒæ„ç¾©
        "keywords": ["ç©", "éŠæˆ²", "æ”»ç•¥"],
        "weight": 0.2
    }
}

engine = ChineseEngine()
corrector = engine.create_corrector(my_business_terms)

result = corrector.correct("æˆ‘å»è²·å‹‡é¬¥ç•¶å®µå¤œ")
# çµæœ: 'æˆ‘å»è²·æ°¸å’Œè±†æ¼¿ç•¶å®µå¤œ'
# èªªæ˜: å› ç‚ºå‘½ä¸­ã€Œè²·ã€å’Œã€Œå®µå¤œã€é—œéµå­—ï¼Œåˆ¤æ–·ç‚ºã€Œæ°¸å’Œè±†æ¼¿ã€è€Œéã€Œå‹‡è€…é¬¥æƒ¡é¾ã€
```

**å„ªé»**:
- âœ… è‡ªå‹•ç”Ÿæˆæ¨¡ç³ŠéŸ³è®Šé«”ï¼Œç„¡éœ€æ‰‹å‹•ç¶­è­·
- âœ… è‡ªå‹•éæ¿¾æ‹¼éŸ³é‡è¤‡çš„åˆ¥åï¼ˆé¡ä¼¼ Set è¡Œç‚ºï¼‰
- âœ… æ”¯æ´å¤šç¨®è¼¸å…¥æ ¼å¼ï¼Œä½¿ç”¨éˆæ´»
- âœ… æ¸›å°‘é…ç½®å·¥ä½œé‡ï¼Œå°ˆæ³¨æ–¼æ ¸å¿ƒè©å½™

### é€²éšåŠŸèƒ½

#### ä¸Šä¸‹æ–‡é—œéµå­—

```python
from phonofix import ChineseEngine

# ä½¿ç”¨ä¸Šä¸‹æ–‡é—œéµå­—æé«˜æº–ç¢ºåº¦
engine = ChineseEngine()
corrector = engine.create_corrector({
    "æ°¸å’Œè±†æ¼¿": {
        "aliases": ["æ°¸è±†"],
        "keywords": ["åƒ", "å–", "è²·", "å®µå¤œ", "æ—©é¤"]
    },
    "å‹‡è€…é¬¥æƒ¡é¾": {
        "aliases": ["å‹‡é¬¥"],
        "keywords": ["ç©", "éŠæˆ²", "é›»å‹•", "æ”»ç•¥"]
    }
})

result = corrector.correct("æˆ‘å»è²·å‹‡é¬¥ç•¶å®µå¤œ")  # å‘½ä¸­ã€Œè²·ã€â†’ æ°¸å’Œè±†æ¼¿
result = corrector.correct("é€™æ¬¾æ°¸è±†çš„æ”»ç•¥å¾ˆé›£æ‰¾")  # å‘½ä¸­ã€Œæ”»ç•¥ã€â†’ å‹‡è€…é¬¥æƒ¡é¾
```

#### æ¬Šé‡ç³»çµ±

```python
# ä½¿ç”¨æ¬Šé‡æé«˜å„ªå…ˆç´š
engine = ChineseEngine()
corrector = engine.create_corrector({
    "æ©å…¸": {
        "aliases": ["å®‰é»"],
        "weight": 0.3  # é«˜æ¬Šé‡,å„ªå…ˆåŒ¹é…
    },
    "ä¸Šå¸": {
        "aliases": ["ä¸Šå¸"],
        "weight": 0.1  # ä½æ¬Šé‡
    }
})
```

#### è±å…æ¸…å–®

```python
# è¨­å®šä¿è­·è©å½™æ¸…å–®,é¿å…ç‰¹å®šè©è¢«ä¿®æ­£
engine = ChineseEngine()
corrector = engine.create_corrector(
    terms={
        "å°åŒ—è»Šç«™": ["åŒ—è»Š"]
    },
    protected_terms=["åŒ—å´", "å—å´"]  # é€™äº›è©ä¸æœƒè¢«ä¿®æ­£
)

result = corrector.correct("æˆ‘åœ¨åŒ—å´ç­‰ä½ ")  # ä¸æœƒä¿®æ­£ç‚ºã€Œå°åŒ—è»Šç«™å´ã€
```

### 3. ä¸²æµè™•ç† (ASR/LLM Streaming)

#### Realtime ASR ä¸²æµ

é©ç”¨æ–¼èªéŸ³è­˜åˆ¥çš„å³æ™‚å­—å¹•å ´æ™¯ï¼Œæ¯æ¬¡å‚³å…¥ç´¯ç©çš„å®Œæ•´è­˜åˆ¥çµæœï¼š

```python
from phonofix import ChineseEngine, StreamingCorrector

engine = ChineseEngine()
corrector = engine.create_corrector(["å°åŒ—è»Šç«™", "ç‰›å¥¶"])

# å»ºç«‹ä¸²æµè™•ç†å™¨
streamer = StreamingCorrector(corrector, overlap_size=8)

# æ¨¡æ“¬ ASR ç´¯ç©è¼¸å…¥
asr_outputs = [
    "æˆ‘åœ¨èƒåŒ—",
    "æˆ‘åœ¨èƒåŒ—è»Šç«™",
    "æˆ‘åœ¨èƒåŒ—è»Šç«™è²·äº†æµ",
    "æˆ‘åœ¨èƒåŒ—è»Šç«™è²·äº†æµå¥¶",
]

for text in asr_outputs:
    result = streamer.feed(text)
    print(f"å·²ç¢ºèª: {result.confirmed} | å¾…ç¢ºèª: {result.pending}")

# çµæŸæ™‚å–å¾—å®Œæ•´çµæœ
final = streamer.finalize()
print(f"æœ€çµ‚: {final}")
# æœ€çµ‚: æˆ‘åœ¨å°åŒ—è»Šç«™è²·äº†ç‰›å¥¶
```

#### LLM Streaming è¼¸å‡º

é©ç”¨æ–¼ LLM ä¸²æµè¼¸å‡ºï¼Œæ¯æ¬¡å‚³å…¥æ–°çš„ chunkï¼š

```python
from phonofix import ChineseEngine, ChunkStreamingCorrector

engine = ChineseEngine()
corrector = engine.create_corrector(["è–éˆ", "è–ç¶“", "æ©å…¸"])

# å»ºç«‹ chunk æ¨¡å¼ä¸²æµè™•ç†å™¨
streamer = ChunkStreamingCorrector(corrector, overlap_size=6)

# æ¨¡æ“¬ LLM ä¸²æµè¼¸å‡º
llm_chunks = ["è–æ—", "å€Ÿè‘—é»˜æ°", "å¯«äº†é€™æœ¬", "ç”Ÿç¶“ï¼Œ", "æ˜¯å®‰é»ã€‚"]

for chunk in llm_chunks:
    result = streamer.feed_chunk(chunk)
    if result.confirmed:
        print(result.confirmed, end="", flush=True)  # å³æ™‚è¼¸å‡º

# çµæŸæ™‚è¼¸å‡ºå‰©é¤˜éƒ¨åˆ†
remaining = streamer.finalize()
print(remaining)
# è¼¸å‡º: è–éˆå€Ÿè‘—é»˜æ°å¯«äº†é€™æœ¬è–ç¶“ï¼Œæ˜¯æ©å…¸ã€‚
```

#### WebSocket å¯¦éš›æ‡‰ç”¨

```python
from phonofix import ChineseEngine, StreamingCorrector
import json

engine = ChineseEngine()
corrector = engine.create_corrector(my_terms)

async def handle_asr_websocket(websocket):
    streamer = StreamingCorrector(corrector, overlap_size=10)
    
    async for message in websocket:
        data = json.loads(message)
        
        if data["type"] == "partial":
            result = streamer.feed(data["text"])
            await websocket.send(json.dumps({
                "confirmed": result.confirmed,
                "pending": result.pending,
            }))
            
        elif data["type"] == "final":
            final = streamer.finalize()
            await websocket.send(json.dumps({"final": final}))
            streamer.reset()  # é‡ç½®ï¼Œæº–å‚™ä¸‹ä¸€æ®µ
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
phonofix/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ phonofix/                      # ä¸»å¥—ä»¶ (src layout)
â”‚       â”œâ”€â”€ __init__.py                # ä¸»å…¥å£ï¼ŒåŒ¯å‡º UnifiedEngine, ChineseEngine ç­‰
â”‚       â”œâ”€â”€ config.py                  # å…¨åŸŸé…ç½®
â”‚       â”‚
â”‚       â”œâ”€â”€ engine/                    # å¼•æ“å±¤ (å–®ä¾‹æ¨¡å¼å…¥å£)
â”‚       â”‚   â”œâ”€â”€ base.py                # BaseEngine æŠ½è±¡é¡åˆ¥
â”‚       â”‚   â”œâ”€â”€ unified_engine.py      # UnifiedEngine - æ··åˆèªè¨€
â”‚       â”‚   â”œâ”€â”€ chinese_engine.py      # ChineseEngine - ä¸­æ–‡å°ˆç”¨
â”‚       â”‚   â””â”€â”€ english_engine.py      # EnglishEngine - è‹±æ–‡å°ˆç”¨
â”‚       â”‚
â”‚       â”œâ”€â”€ backend/                   # èªéŸ³å¾Œç«¯ (phonemizer/pypinyin å°è£)
â”‚       â”‚   â”œâ”€â”€ base.py                # PhoneticBackend æŠ½è±¡é¡åˆ¥
â”‚       â”‚   â”œâ”€â”€ chinese_backend.py     # ä¸­æ–‡æ‹¼éŸ³å¾Œç«¯
â”‚       â”‚   â””â”€â”€ english_backend.py     # è‹±æ–‡ IPA å¾Œç«¯
â”‚       â”‚
â”‚       â”œâ”€â”€ correction/                # ä¿®æ­£å™¨å±¤
â”‚       â”‚   â”œâ”€â”€ unified_corrector.py   # æ··åˆèªè¨€ä¿®æ­£å™¨
â”‚       â”‚   â””â”€â”€ streaming_corrector.py # ä¸²æµä¿®æ­£å™¨ (ASR/LLM)
â”‚       â”‚
â”‚       â”œâ”€â”€ languages/                 # èªè¨€ç‰¹å®šå¯¦ä½œ
â”‚       â”‚   â”œâ”€â”€ chinese/               # ä¸­æ–‡æ¨¡çµ„
â”‚       â”‚   â”‚   â”œâ”€â”€ config.py          # æ‹¼éŸ³é…ç½® (è²æ¯/éŸ»æ¯/æ¨¡ç³ŠéŸ³)
â”‚       â”‚   â”‚   â”œâ”€â”€ corrector.py       # ä¸­æ–‡æ ¡æ­£å™¨
â”‚       â”‚   â”‚   â”œâ”€â”€ fuzzy_generator.py # æ¨¡ç³ŠéŸ³è®Šé«”ç”Ÿæˆ
â”‚       â”‚   â”‚   â”œâ”€â”€ number_variants.py # æ•¸å­—è®Šé«”è™•ç†
â”‚       â”‚   â”‚   â””â”€â”€ tokenizer.py       # ä¸­æ–‡åˆ†è©å™¨
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ english/               # è‹±æ–‡æ¨¡çµ„
â”‚       â”‚       â”œâ”€â”€ config.py          # IPA é…ç½®
â”‚       â”‚       â”œâ”€â”€ corrector.py       # è‹±æ–‡æ ¡æ­£å™¨
â”‚       â”‚       â”œâ”€â”€ fuzzy_generator.py # éŸ³ç¯€åˆ†å‰²è®Šé«”ç”Ÿæˆ
â”‚       â”‚       â””â”€â”€ tokenizer.py       # è‹±æ–‡åˆ†è©å™¨
â”‚       â”‚
â”‚       â”œâ”€â”€ router/                    # èªè¨€è·¯ç”±
â”‚       â”‚   â””â”€â”€ language_router.py     # è‡ªå‹•åµæ¸¬ä¸­è‹±æ–‡å€å¡Š
â”‚       â”‚
â”‚       â””â”€â”€ utils/                     # å·¥å…·æ¨¡çµ„
â”‚           â”œâ”€â”€ lazy_imports.py        # å»¶é²å°å…¥ (å¯é¸ä¾è³´ç®¡ç†)
â”‚           â””â”€â”€ logger.py              # æ—¥èªŒå·¥å…·
â”‚
â”œâ”€â”€ scripts/                           # å®‰è£è…³æœ¬
â”‚   â”œâ”€â”€ setup_espeak.ps1               # Windows PowerShell å®‰è£ espeak-ng
â”‚   â”œâ”€â”€ setup_espeak.sh                # macOS/Linux å®‰è£ espeak-ng
â”‚   â””â”€â”€ setup_espeak_windows.bat       # Windows CMD å®‰è£ espeak-ng
â”‚
â”œâ”€â”€ examples/                          # ä½¿ç”¨ç¯„ä¾‹
â”‚   â”œâ”€â”€ chinese_examples.py            # ä¸­æ–‡æ ¡æ­£ç¯„ä¾‹
â”‚   â”œâ”€â”€ english_examples.py            # è‹±æ–‡æ ¡æ­£ç¯„ä¾‹
â”‚   â”œâ”€â”€ mixed_language_examples.py     # æ··åˆèªè¨€ç¯„ä¾‹
â”‚   â”œâ”€â”€ streaming_demo.py              # ä¸²æµè™•ç†ç¯„ä¾‹
â”‚   â””â”€â”€ timing_demo.py                 # æ•ˆèƒ½è¨ˆæ™‚ç¯„ä¾‹
â”‚
â”œâ”€â”€ tests/                             # å–®å…ƒæ¸¬è©¦
â”‚   â”œâ”€â”€ test_chinese_corrector.py
â”‚   â”œâ”€â”€ test_english_corrector.py
â”‚   â””â”€â”€ test_unified_corrector.py
â”‚
â”œâ”€â”€ pyproject.toml                     # å°ˆæ¡ˆé…ç½® (phonofix)
â”œâ”€â”€ requirements.txt                   # ä¾è³´æ¸…å–®
â””â”€â”€ README.md
```

## ğŸ¯ ä½¿ç”¨å ´æ™¯

ä»¥ä¸‹ç¯„ä¾‹å±•ç¤ºä¸åŒæ¥­å‹™å ´æ™¯ä¸‹ï¼Œå¦‚ä½•å»ºç«‹æ‚¨è‡ªå·±çš„å°ˆæœ‰åè©å­—å…¸ï¼š

### 1. ASR èªéŸ³è­˜åˆ¥å¾Œè™•ç†

**å•é¡Œ**ï¼šèªéŸ³è­˜åˆ¥å¸¸å°‡å°ˆæœ‰åè©è½éŒ¯æˆç™¼éŸ³ç›¸è¿‘çš„ä¸€èˆ¬è©å½™

```python
# æ‚¨çš„å°ˆæœ‰åè©å­—å…¸
terms = ["ç‰›å¥¶", "ç™¼æ®", "ç„¶å¾Œ", "TensorFlow", "Kubernetes"]

engine = UnifiedEngine()
corrector = engine.create_corrector(terms)

# ASR è¼¸å‡ºï¼šå°ˆæœ‰åè©è¢«è½éŒ¯
asr_output = "æˆ‘è²·äº†æµå¥¶ï¼Œè˜­å¾Œç”¨Ten so floorè¨“ç·´æ¨¡å‹"
result = corrector.correct(asr_output)
# çµæœ: "æˆ‘è²·äº†ç‰›å¥¶ï¼Œç„¶å¾Œç”¨TensorFlowè¨“ç·´æ¨¡å‹"
```

### 2. LLM è¼¸å‡ºå¾Œè™•ç†

**å•é¡Œ**ï¼šLLM å¯èƒ½å› å°ˆæœ‰åè©ç½•è¦‹è€Œé¸æ“‡ç™¼éŸ³ç›¸è¿‘çš„å¸¸ç”¨å­—

```python
# æ‚¨çš„å°ˆæœ‰åè©å­—å…¸
terms = ["è€¶ç©Œ", "æ©å…¸", "PyTorch", "NumPy"]

engine = UnifiedEngine()
corrector = engine.create_corrector(terms)

# LLM è¼¸å‡ºï¼šç½•è¦‹å°ˆæœ‰åè©è¢«æ›¿æ›æˆåŒéŸ³å¸¸ç”¨å­—
llm_output = "è€¶ç©Œçš„æ©é»å¾ˆå¤§ï¼Œæˆ‘ç”¨æ’ç‚¬å’Œå—æ´¾åšæ©Ÿå™¨å­¸ç¿’"
result = corrector.correct(llm_output)
# çµæœ: "è€¶ç©Œçš„æ©å…¸å¾ˆå¤§ï¼Œæˆ‘ç”¨PyTorchå’ŒNumPyåšæ©Ÿå™¨å­¸ç¿’"
```

### 3. åœ°åŸŸæ…£ç”¨è©è½‰æ›

**æ‚¨çš„å­—å…¸**ï¼šç¶­è­·åœ°åŸŸå°ç…§è¡¨ï¼ˆä¾‹å¦‚ï¼šä¸­åœ‹ â†” å°ç£æ…£ç”¨è©ï¼‰

```python
# æ‚¨çš„åœ°åŸŸè©å½™å­—å…¸
region_terms = {
    "é¦¬éˆ´è–¯": {"aliases": ["åœŸè±†"], "weight": 0.0},
    "å½±ç‰‡": {"aliases": ["è¦–é »"], "weight": 0.0}
}

engine = ChineseEngine()
corrector = engine.create_corrector(region_terms)

result = corrector.correct("æˆ‘ç”¨åœŸè±†åšäº†è¦–é »")
# çµæœ: "æˆ‘ç”¨é¦¬éˆ´è–¯åšäº†å½±ç‰‡"
```

### 4. ç¸®å¯«æ“´å±•

**æ‚¨çš„å­—å…¸**ï¼šç¶­è­·å¸¸ç”¨ç¸®å¯«èˆ‡å…¨ç¨±å°ç…§è¡¨

```python
# æ‚¨çš„ç¸®å¯«å­—å…¸
abbreviation_terms = {
    "å°åŒ—è»Šç«™": {"aliases": ["åŒ—è»Š"], "weight": 0.0}
}

engine = ChineseEngine()
corrector = engine.create_corrector(abbreviation_terms)

result = corrector.correct("æˆ‘åœ¨åŒ—è»Šç­‰ä½ ")
# çµæœ: "æˆ‘åœ¨å°åŒ—è»Šç«™ç­‰ä½ "
```

### 5. å°ˆæ¥­è¡“èªæ¨™æº–åŒ–

**æ‚¨çš„å­—å…¸**ï¼šç¶­è­·æ¥­å‹™é ˜åŸŸçš„å°ˆæ¥­è¡“èª

```python
# æ‚¨çš„é†«ç™‚è¡“èªå­—å…¸
medical_terms = {
    "é˜¿æ–¯åŒ¹éˆ": {"aliases": ["é˜¿æ–¯åŒ¹æ—", "äºŒå››æ‰¹æ—"], "weight": 0.2}
}

engine = ChineseEngine()
corrector = engine.create_corrector(medical_terms)

result = corrector.correct("é†«ç”Ÿé–‹äº†äºŒå››æ‰¹æ—çµ¦æˆ‘")
# çµæœ: "é†«ç”Ÿé–‹äº†é˜¿æ–¯åŒ¹éˆçµ¦æˆ‘"
```

## ğŸ“– å®Œæ•´ç¯„ä¾‹

è«‹åƒè€ƒ `examples/` ç›®éŒ„ï¼ŒåŒ…å«å¤šå€‹ä½¿ç”¨ç¯„ä¾‹ï¼š

| æª”æ¡ˆ | èªªæ˜ |
|------|------|
| `chinese_examples.py` | ä¸­æ–‡èªéŸ³æ›¿æ›ç¯„ä¾‹ |
| `english_examples.py` | è‹±æ–‡èªéŸ³æ›¿æ›ç¯„ä¾‹ |
| `mixed_language_examples.py` | ä¸­è‹±æ··åˆæ›¿æ›ç¯„ä¾‹ |
| `streaming_demo.py` | åŸºç¤ä¸²æµè™•ç†ç¯„ä¾‹ |
| `realtime_streaming_demo.py` | ASR/LLM å³æ™‚ä¸²æµç¯„ä¾‹ |
| `timing_demo.py` | æ•ˆèƒ½è¨ˆæ™‚ç¯„ä¾‹ |

```bash
# åŸ·è¡Œä¸­æ–‡ç¯„ä¾‹
uv run python examples/chinese_examples.py

# åŸ·è¡Œè‹±æ–‡ç¯„ä¾‹ (éœ€å®‰è£ espeak-ng)
uv run python examples/english_examples.py

# åŸ·è¡Œä¸²æµç¯„ä¾‹
uv run python examples/realtime_streaming_demo.py
```

## ğŸ”§ æŠ€è¡“ç´°ç¯€

### èªéŸ³æ¯”å°æ©Ÿåˆ¶

#### ä¸­æ–‡ï¼šæ‹¼éŸ³æ¨¡ç³ŠéŸ³è¦å‰‡

**è²æ¯æ¨¡ç³Šç¾¤çµ„**
| ç¾¤çµ„ | éŸ³ç´  | èªªæ˜ |
|------|------|------|
| æ²èˆŒéŸ³ | z â‡„ zh, c â‡„ ch, s â‡„ sh | å°ç£åœ‹èªå¸¸è¦‹ |
| n/l ä¸åˆ† | n â‡„ l | å°ç£åœ‹èªç‰¹è‰² |
| r/l æ··æ·† | r â‡„ l | ASR å¸¸è¦‹éŒ¯èª¤ |
| f/h æ··æ·† | f â‡„ h | æ–¹è¨€å½±éŸ¿ |

**éŸ»æ¯æ¨¡ç³Šå°æ‡‰**
- `in` â‡„ `ing`, `en` â‡„ `eng`, `an` â‡„ `ang`
- `ian` â‡„ `iang`, `uan` â‡„ `uang`, `uan` â‡„ `an`
- `ong` â‡„ `eng`, `uo` â‡„ `o`, `ue` â‡„ `ie`

**ç‰¹ä¾‹éŸ³ç¯€æ˜ å°„**
- `fa` â‡„ `hua` (ç™¼/èŠ±)
- `xue` â‡„ `xie` (å­¸/é‹)
- `ran` â‡„ `lan`, `yan` (ç„¶/è˜­/åš´)
- æ›´å¤šè«‹åƒè€ƒ `src/phonofix/languages/chinese/config.py`

#### è‹±æ–‡ï¼šIPA éŸ³æ¨™æ¯”å°

ä½¿ç”¨ [phonemizer](https://github.com/bootphon/phonemizer) å°‡è‹±æ–‡è½‰æ›ç‚º IPA (åœ‹éš›éŸ³æ¨™)ï¼Œå†è¨ˆç®— Levenshtein ç·¨è¼¯è·é›¢ã€‚

**å¸¸è¦‹ ASR/LLM éŒ¯èª¤é¡å‹**
| éŒ¯èª¤é¡å‹ | ç¯„ä¾‹ | èªªæ˜ |
|----------|------|------|
| éŸ³ç¯€åˆ†å‰² | "TensorFlow" â†’ "Ten so floor" | èªéŸ³è¾¨è­˜åˆ†å‰²éŒ¯èª¤ |
| åŒéŸ³ç•°å­— | "Python" â†’ "Pyton" | æ‹¼å¯«éŒ¯èª¤ |
| ç¸®å¯«å±•é–‹ | "API" â†’ "A P I" | é€å­—æ¯ç™¼éŸ³ |

### Keywords èˆ‡ exclude_when æ©Ÿåˆ¶

ç•¶åŒä¸€å€‹åˆ¥åå¯èƒ½å°æ‡‰å¤šå€‹å°ˆæœ‰åè©æ™‚ï¼Œä½¿ç”¨ `keywords` å’Œ `exclude_when` é€²è¡Œç²¾ç¢ºåˆ¤æ–·ï¼š

```
æ›¿æ›åˆ¤æ–·é‚è¼¯:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¼¸å…¥æ–‡æœ¬åŒ…å«åˆ¥å (å¦‚ "1kg")                              â”‚
â”‚                    â†“                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Step 1: æª¢æŸ¥ exclude_when (æ’é™¤æ¢ä»¶)               â”‚    â”‚
â”‚  â”‚   - è‹¥æ–‡æœ¬åŒ…å«ä»»ä¸€æ’é™¤è© â†’ ä¸æ›¿æ› âŒ          â”‚    â”‚
â”‚  â”‚   - ä¾‹: "1kgæ°´å¾ˆé‡" åŒ…å« "æ°´" â†’ ä¸æ›¿æ›ç‚º EKG      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                    â†“ (ç„¡æ’é™¤è©åŒ¹é…)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Step 2: æª¢æŸ¥ keywords (å¿…è¦æ¢ä»¶)                 â”‚    â”‚
â”‚  â”‚   - è‹¥æœ‰è¨­å®š keywords ä¸”ç„¡ä»»ä½•åŒ¹é… â†’ ä¸æ›¿æ› âŒ     â”‚    â”‚
â”‚  â”‚   - è‹¥æœ‰è¨­å®š keywords ä¸”æœ‰åŒ¹é… â†’ æ›¿æ› âœ…          â”‚    â”‚
â”‚  â”‚   - è‹¥æœªè¨­å®š keywords â†’ æ›¿æ› âœ…                   â”‚    â”‚
â”‚  â”‚   - ä¾‹: "1kgè¨­å‚™" åŒ…å« "è¨­å‚™" â†’ æ›¿æ›ç‚º EKG        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é‡è¦è¦å‰‡ï¼šexclude_when å„ªå…ˆæ–¼ Keywords**

å³ä½¿æœ‰ keywords åŒ¹é…ï¼Œåªè¦æœ‰ exclude_when åŒ¹é…å°±ä¸æ›¿æ›ï¼š

```python
"EKG": {
    "aliases": ["1kg"],
    "keywords": ["è¨­å‚™", "é†«ç™‚"],      # å¿…é ˆåŒ…å«å…¶ä¸€æ‰æ›¿æ›
    "exclude_when": ["é‡", "å…¬æ–¤"],    # åŒ…å«ä»»ä¸€å°±ä¸æ›¿æ›
}

# ç¯„ä¾‹ï¼š
"é€™å€‹è¨­å‚™æœ‰ 1kgé‡"  # keywords(è¨­å‚™) âœ“ + exclude_when(é‡) âœ“ â†’ ä¸æ›¿æ›
"é€™å€‹ 1kgè¨­å‚™"      # keywords(è¨­å‚™) âœ“ + exclude_when âœ— â†’ æ›¿æ›ç‚º EKG
"è²·äº† 1kgçš„æ±è¥¿"    # keywords âœ— â†’ ä¸æ›¿æ›
```

### æ›¿æ›ç®—æ³•æµç¨‹

```
è¼¸å…¥æ–‡æœ¬
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å»ºç«‹ä¿è­·é®ç½©                      â”‚
â”‚    æ¨™è¨˜ protected_terms ä¸­çš„è©ä½ç½®    â”‚
â”‚    é€™äº›ä½ç½®ä¸åƒèˆ‡ä»»ä½•æ›¿æ›            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. èªè¨€å€å¡Šåµæ¸¬ (UnifiedCorrector)   â”‚
â”‚    ä¸­æ–‡å€å¡Š â†’ ChineseCorrector       â”‚
â”‚    è‹±æ–‡å€å¡Š â†’ EnglishCorrector       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æ»‘å‹•è¦–çª—æƒæ                      â”‚
â”‚    éæ­·æ‰€æœ‰å¯èƒ½çš„è©é•·çµ„åˆ            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. èªéŸ³ç›¸ä¼¼åº¦è¨ˆç®—                    â”‚
â”‚    ä¸­æ–‡: æ‹¼éŸ³æ¯”å° (ç‰¹ä¾‹â†’éŸ»æ¯â†’ç·¨è¼¯è·é›¢)â”‚
â”‚    è‹±æ–‡: IPA éŸ³æ¨™ç·¨è¼¯è·é›¢            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Keywords/exclude_when éæ¿¾     â”‚
â”‚    - æœ‰ exclude_when åŒ¹é… â†’ è·³é    â”‚
â”‚    - ç„¡ keywords åŒ¹é… â†’ è·³é         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. è¨ˆç®—æœ€çµ‚åˆ†æ•¸                      â”‚
â”‚    åˆ†æ•¸ = éŒ¯èª¤ç‡ - æ¬Šé‡ - ä¸Šä¸‹æ–‡çå‹µ  â”‚
â”‚    (åˆ†æ•¸è¶Šä½è¶Šå¥½)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. è¡çªè§£æ±º                          â”‚
â”‚    ä¾åˆ†æ•¸æ’åºï¼Œé¸æ“‡æœ€ä½³ä¸é‡ç–Šå€™é¸     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. æ–‡å­—æ›¿æ›                          â”‚
â”‚    å¾å¾Œå‘å‰æ›¿æ›ï¼Œé¿å…ç´¢å¼•éŒ¯ä½         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
è¼¸å‡ºçµæœ
```

### å‹•æ…‹å®¹éŒ¯ç‡

| è©é•· | å®¹éŒ¯ç‡ | èªªæ˜ |
|------|--------|------|
| 2 å­—/å­—æ¯ | 0.20 | å¿…é ˆéå¸¸æº–ç¢º |
| 3 å­—/å­—æ¯ | 0.30 | ä¸­ç­‰åš´æ ¼ |
| 4+ å­—/å­—æ¯ | 0.40 | å¯¬å®¹åº¦è¼ƒé«˜ |
| è‹±æ–‡æ··ç”¨ | 0.45 | å®¹éŒ¯è¼ƒé«˜ |

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Request!

## ğŸ“„ æˆæ¬Š

MIT License

## ğŸ‘¨â€ğŸ’» ä½œè€…

JonesHong

## ğŸ™ è‡´è¬

æ„Ÿè¬ä»¥ä¸‹å°ˆæ¡ˆ:
- [pypinyin](https://github.com/mozillazg/python-pinyin)
- [python-Levenshtein](https://github.com/maxbachmann/Levenshtein)
- [Pinyin2Hanzi](https://github.com/letiantian/Pinyin2Hanzi)
- [hanziconv](https://github.com/berniey/hanziconv)
