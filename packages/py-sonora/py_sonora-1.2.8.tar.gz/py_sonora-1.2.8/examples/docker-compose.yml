version: '3.8'

services:
  lavalink:
    image: fredboat/lavalink:4.0.1
    container_name: lavalink
    ports:
      - "2333:2333"
    volumes:
      - ./lavalink/application.yml:/opt/Lavalink/application.yml
    environment:
      - JAVA_OPTS=-Xmx1G
    restart: unless-stopped

  # Optional: demo bot
  # bot:
  #   build: .
  #   depends_on:
  #   - lavalink
  #   environment:
  #     - LAVALINK_HOST=lavalink
  #     - LAVALINK_PORT=2333
  #     - LAVALINK_PASSWORD=youshallnotpass
  #     - DISCORD_TOKEN=your_token_here
  #   volumes:
  #     - .:/app
  #   command: python examples/discord_py_demo.py