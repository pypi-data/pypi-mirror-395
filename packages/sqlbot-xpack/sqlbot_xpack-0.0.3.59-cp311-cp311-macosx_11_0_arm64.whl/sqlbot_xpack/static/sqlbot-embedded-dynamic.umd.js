(function(){"use strict";function _0x339e(){const n=["mJu2mtuWz2HcDxvt","yM9YzgvYqM90Dg9T","y29TCgXLDgu","zMXLEerPCMvJDgLVBG","y29UzMLNDxjHDgLVBG","zM9UDfnPEMu","CgfKzgLUzW","z2v0sxrLBq","AwzYyw1L","jM9UBgLUzt0","C3r5Bgu","u0Hblti1nG","C3vIDgXL","BM9Uzq","qxjPywWSihnHBNmTC2vYAwy","tM8Gzgf0ysbYzwnLAxzLza","Cg9ZDe1LC3nHz2u","nte3mW","D2LKDgG","zgvZDhjVEq","5Bwm5ywL5AsX6lsL","jNvZzxjgBgfNpq","y29VA2LL","DhjPBq","vgHLihbHCMfTzxrLCIbJyw4GB25SEsbIzsbVzIb0ExbLigjVB2XLyw4","vgHLihbHCMfTzxrLCIbTDxn0igjLigeGDMfSAwqGq1ntihnLBgvJDg9Yihn0CMLUzW","mJqWChG","yxv0B190B2TLBG","BM93","mxb4ihnVBgLKihjNyMeOmJu1lcaYntuSidi1nsWGmc4Zkq","AgLKzgvU","mti5ndm0rxPfAfbg","ANnVBG","D2HPDgu","AgLZDg9YEq","C2v0sgLZDg9YEq","Dg9mB3DLCKnHC2u","Bg9HzgLUzW","y3jLyxrLrwXLBwvUDa","Dgv4DenVBNrLBNq","EKLUzgv4","mtaWjq","C2v0t25SAw5L","jNr5Cgu9","CMvTB3zLrxzLBNrmAxn0zw5LCG","BgLUzwfYlwDYywrPzw50kdeZnwrLzYWGi2zMnMi2yIWGi2zMogu4zsK","CMvHzhK","mJbWEa","Bg9Hza","Aw1WB3j0s2v5","AgvPz2H0","C3vIC3rYAw5N","DgHLBG","odi0otm0C0vgBNbU","l2fWAs92ms9ZExn0zw0VyxnZAxn0yw50l2fWCc8","BgvUz3rO","C3jJ","sw52ywXPzcbvuKW6","C2nYAxb0w3nYyYO9iI8","yM9YzgvYuMfKAxvZ","C3fSyM90x2vTyMvKzgvKx2v2zw50","B3bHy2L0EsaWlJnZigvHC2uSihrYyw5ZzM9YBsaWlJnZigvHC2u","CMvWBgfJzq","CgfKzgLUz0jVDhrVBq","BwLUsgvPz2H0","mZiXndK2C0Xqvwfx","mtaWChG","zgL2","zw1IzwrKzwrjza","Dw5KzwzPBMvK","zw5JB2rL","mtvWEa","y2HPBgrYzw4","zMLSDgvY","zg9ty3jVBgW","re9nq29UDgvUDeXVywrLza","Dg9tDhjPBMC","DxnLCKzSywC","C3rYAw5N","yxbWx3nLy3jLDa","zgvIDwC","EhbHy2TFC3rHDgLJl3nXBgjVDc1LBwjLzgrLzc1KEw5HBwLJlNvTzc5QCW","DhjHBNnMB3jT","BwfYz2LUqM90Dg9T","mtq0ChzRsuPN","yMfJA2DYB3vUza","CMvHzhLtDgf0zq","CxvLCNLtzwXLy3rVCG","DhjHBNnMB3jTidaUm3mGzwfZzs1VDxq","BwvZC2fNzunVBNrHAw5LCG","B3bHy2L0Eq","Ag9ZDe9YAwDPBG","odrIEgHosNy","kcGOlISPkYKRksSK","6k+35O+q5l6BywnJB3vUDowpGUAvSa","BwvZC2fNzq","BwfW","C2HVDW","zMXLEeDYB3C","zM9UDezHBwLSEq","BwvZC2fNzuLK","BMfTzq","ndruDKzgzgS","zxzLBNroyw1L","z2v0rwXLBwvUDej5swq","sfmYnty","Bw91BNrLza","z2v0qxr0CMLIDxrL","sLDu","C3rYAw5NAwz5","jMHPC3rVCNK9","AxnbCNjHEq","C2v0","CgfYzw50tM9Kzq","mtHWEa","ywXN","zgf0yq","CgfYC2u","y29SDw1U","DhjHBNnSyxrLwcGXmJaLkq","yM9YzgvY","ywXSB3C","ywrKrxzLBNrmAxn0zw5LCG","CgfYyw0","y29UC3rYDwn0B3i","l2fWAs92ms9ZExn0zw0VyxnZAxn0yw50l2LUzM8V","mZviuK9KCeO","mtbWEa","y3jLyxrLq29UDMvYC2f0Aw9U","Aw5JBhvKzxm","y2vYDgLMAwnHDgu","mLjPDM9yBG","zgLZCgXHEq","yxbWswq","Cg9ZAxrPB24","yM9VBgvHBG","mJC3mZGXoeLNsLHNBG","mZu0ndqWvK5Wzhf1","y3vZDg9T","y29UDgvUDfDPBMrVDW","C2vHCMnO","yxnZAwDU","CMLNAhq","C2LNBG","yNvZAq","C2vZC2LVBNn0B3jHz2u","se1bqW","CMvTB3zLq2HPBgq","DhLWzq","C3bSAxq","jNq9","zML4zwq","ywnJB3vUDa","BwLJCM9WAg9UztTJBgLWyM9HCMqTCMvHzcaNC3jJjZSGy2XPCgjVyxjKlxDYAxrLicDZCMmN","Dg9Rzw4","ohb4","C2vHCMnOugfYyw1Z","C3fSyM90x2vTyMvKzgvKx2HHBMrSzxi","zg9JDw1LBNrfBgvTzw50","DhjHBNnSyxrLwcGWkq","yxbWzw5Kq2HPBgq","AgfZAa","DhjHBNnPDgLVBG","mtm4odu5odbYr3LOreq","mtaWma","zg9TywLUx3vYBa","B25SAw5L","mca0ChGGmtjWEcbYz2jHkdaSidaSidaSidaUmtuP","yM94u2HHzg93","yM9KEq","C3fSyM90lwvTyMvKzgvKlwnOyxqTAwzYyw1Llq"];return _0x339e=function(){return n},_0x339e()}(function(n,o){const x=_0x1527,e=n();for(;;)try{if(-parseInt(x(212))/1*(-parseInt(x(141))/2)+-parseInt(x(146))/3+parseInt(x(273))/4*(parseInt(x(147))/5)+-parseInt(x(234))/6*(-parseInt(x(136))/7)+parseInt(x(246))/8*(parseInt(x(265))/9)+-parseInt(x(181))/10*(parseInt(x(112))/11)+-parseInt(x(173))/12===o)break;e.push(e.shift())}catch{e.push(e.shift())}})(_0x339e,764288);function _0x1527(n,o){n=n-105;const x=_0x339e();let e=x[n];if(_0x1527.HMrXQJ===void 0){var t=function(f){const i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";let b="",d="",w=b+t;for(let g=0,s,_,u=0;_=f.charAt(u++);~_&&(s=g%4?s*64+_:_,g++%4)?b+=w.charCodeAt(u+10)-10!==0?String.fromCharCode(255&s>>(-2*g&6)):g:0)_=i.indexOf(_);for(let g=0,s=b.length;g<s;g++)d+="%"+("00"+b.charCodeAt(g).toString(16)).slice(-2);return decodeURIComponent(d)};_0x1527.htEdLj=t,_0x1527.BkcRsS={},_0x1527.HMrXQJ=!0}const r=x[0],a=n+r,c=_0x1527.BkcRsS[a];if(c)e=c;else{const f=function(i){this.FTidTH=i,this.gUGdYI=[1,0,0],this.jLgPpb=function(){return"newState"},this.ycnTEf="\\w+ *\\(\\) *{\\w+ *",this.FGRjAe=`['|"].+['|"];? *}`};f.prototype.qYeCsQ=function(){const i=new RegExp(this.ycnTEf+this.FGRjAe),b=i.test(this.jLgPpb.toString())?--this.gUGdYI[1]:--this.gUGdYI[0];return this.dkSAJQ(b)},f.prototype.dkSAJQ=function(i){return~i?this.kuoQIf(this.FTidTH):i},f.prototype.kuoQIf=function(i){for(let b=0,d=this.gUGdYI.length;b<d;b++)this.gUGdYI.push(Math.round(Math.random())),d=this.gUGdYI.length;return i(this.gUGdYI[0])},new f(_0x1527).qYeCsQ(),e=_0x1527.htEdLj(e),_0x1527.BkcRsS[a]=e}return e}(function(){const _0x2849bd=_0x1527,_0x5606f7=(function(){let n=!0;return function(o,x){const e=n?function(){if(x){const t=x.apply(o,arguments);return x=null,t}}:function(){};return n=!1,e}})(),_0x3f10e9=_0x5606f7(this,function(){const n=_0x1527;return _0x3f10e9[n(257)]()[n(150)](n(274))[n(257)]()[n(134)](_0x3f10e9)[n(150)](n(274))});_0x3f10e9();const _0x591c6f=_0x2849bd(262);window[_0x2849bd(167)]=window[_0x2849bd(167)]||{};const _0x332cfc={},_0x3d5933=n=>{const o=_0x2849bd,x=n[o(140)];if(!(x!=null&&x.length))return null;const e=x[o(106)](t=>_0x2925b6(t))[o(254)](t=>!!t);return JSON[o(119)](e)},_0xb04c72=n=>{const o=_0x2849bd;return n==null||typeof n==o(250)},_0x2925b6=_0x247107=>{const _0x3181cb=_0x2849bd,{type:_0x133e76,source,target,target_key,target_val}=_0x247107;let source_val=null;switch(_0x133e76[_0x3181cb(217)]()){case"localstorage":source_val=localStorage[_0x3181cb(188)](source);break;case _0x3181cb(155):source_val=sessionStorage[_0x3181cb(188)](source);break;case _0x3181cb(203):source_val=_0x645ee9(source);break;case _0x3181cb(148):source_val=source;break}return _0xb04c72(source_val)?null:{target,key:target_key||source,value:target_val&&eval(target_val)||source_val}},_0x645ee9=n=>{const o=_0x2849bd;if(!n||!document.cookie)return null;const x=document.cookie.split(";");for(const e of x){const t=e[o(204)]();if(t.startsWith(n+"="))return decodeURIComponent(t[o(232)](n[o(236)]+1))}return null},_0x4d6131=(n,o)=>{const x=_0x2849bd,e=document[x(114)](x(180)+n),t=e[x(237)],r=x(241);window[x(132)]("message",a=>{var f,i,b,d,w,g,s;const c=x;if(((f=a[c(126)])==null?void 0:f[c(113)])===r){if(((i=a.data)==null?void 0:i[c(110)])!==n)return;if(((b=a.data)==null?void 0:b.busi)===c(227)&&((d=a[c(126)])!=null&&d[c(227)])){const _={};_[c(113)]=r,_[c(110)]=n,_[c(158)]=o[c(158)],_[c(272)]=window.location.origin;const u=_;if((o[c(158)]===2||o[c(158)]===0)&&((w=e[c(149)])==null||w[c(197)](u,t)),o[c(158)]===3||o[c(158)]===1){u[c(154)]="certificate";const z=_0x3d5933(o);u[c(140)]=z,(g=e[c(149)])==null||g[c(197)](u,t)}o[c(158)]===4&&(u[c(154)]=c(140),u[c(140)]=o.token,(s=e[c(149)])==null||s[c(197)](u,t))}}})},initsqlbot_embedded=(n,o)=>{const x=_0x2849bd,e=document[x(268)](o),t=document.createElement(x(189));t.id="sqlbot-embedded-chat-iframe-"+n.id;let r=n[x(175)]+"/#/embeddedPage?id="+n.id+x(190)+!!n.online+x(224)+n[x(158)]+x(120)+(n[x(215)]??!0);n[x(258)]!==null&&typeof n[x(258)]!==x(250)&&(r+=x(202)+n[x(258)]),r+=x(160)+Date[x(209)](),t[x(237)]=r,t[x(191)][x(199)]=x(222),t.style[x(231)]=x(222),t[x(191)][x(130)]=x(194),t[x(131)]=x(163),e==null||e[x(170)](t)};async function generateJWT(n,o,x){const e=_0x2849bd,t={...n},r=t,a={};a[e(125)]=e(115),a.typ=e(118);const c=a,f=btoa(JSON[e(119)](c))[e(243)](/\+/g,"-")[e(243)](/\//g,"_")[e(243)](/=+$/,""),i=btoa(JSON[e(119)](r))[e(243)](/\+/g,"-")[e(243)](/\//g,"_").replace(/=+$/,""),b={};b[e(111)]="HMAC",b.hash=e(192);const d=await crypto[e(193)][e(230)]("raw",new TextEncoder().encode(o),b,!1,[e(153)]),w=await crypto[e(193)].sign(e(156),d,new TextEncoder()[e(251)](f+"."+i)),g=btoa(String.fromCharCode(...new Uint8Array(w)))[e(243)](/\+/g,"-")[e(243)](/\//g,"_").replace(/=+$/,"");return f+"."+i+"."+g}const _0x504f56=(n,o,x)=>{const e=_0x2849bd,t=document[e(268)](e(239)+_0x591c6f+'"]'),r=(t==null?void 0:t[e(117)]("src"))||"";let a=_0x1f6a81(r);const c=!!x[e(176)];let f=x.history??!0,i=n?a+e(135)+n:a+e(235)+x[e(143)];a[e(139)](e(198))&&(i=i[e(243)](e(198),"8000")),a=x[e(261)]?"http://localhost:5173":a,fetch(i)[e(233)](b=>b[e(213)]())[e(233)](b=>{const d=e;if(!b[d(126)])throw new Error(d(196));const w=b.data;!n&&(n=w.id.toString());const g=w[d(185)];let s=Object[d(151)]({},_0x332cfc,w);if(delete s.configuration,g){const _=JSON[d(127)](g);_&&(delete _.id,s=Object[d(151)](s,_))}if(s.id=n,s[d(175)]=a,x[d(258)]!==null&&typeof x[d(258)]!==d(250)&&(s[d(258)]=x[d(258)]),s.history=f,(w[d(158)]===2||w[d(158)]===0)&&(s.online=c),w[d(158)]===4){if(s[d(258)]!==null&&typeof s[d(258)]<"u"&&delete s[d(258)],s[d(208)]){const u=x[d(162)];if(!u){_0x25af0f(d(201),d(275));return}const z=s.app_id,y=s[d(260)],l={};l[d(143)]=z,l[d(249)]=n,l.account=u,generateJWT(l,y)[d(233)](L=>{const m=d;s[m(164)]=L,initsqlbot_embedded(s,o),_0x4d6131(n,s)})}else{if(!x[d(164)]){_0x25af0f("嵌入失败","请提供token参数");return}s.token=x[d(164)],initsqlbot_embedded(s,o),_0x4d6131(n,s)}return}initsqlbot_embedded(s,o),_0x4d6131(n,s)}).catch(b=>{const d=e;_0x25af0f(d(201),b[d(105)])})},_0x1f6a81=n=>{const o=_0x2849bd;return n[o(232)](0,n.indexOf("/"+_0x591c6f))||n[o(159)]("/")[0]+"//"+n[o(159)]("/")[2]},_0x25af0f=(n,o)=>{const x=_0x2849bd;let e=document.getElementById(x(270));if(!e)e=document[x(219)]("div"),e.id="messageContainer",e.style[x(144)]=x(161),e[x(191)].bottom=x(228),e[x(191)][x(152)]=x(228),e[x(191)][x(221)]=x(174),document[x(179)][x(170)](e);else{const c=e[x(268)](x(248));c&&(c.style[x(263)]=x(129),c[x(191)][x(271)]="0",setTimeout(()=>{const f=x;e==null||e[f(157)](c)},300))}const t=document[x(219)]("div");t[x(191)][x(199)]=x(207),t[x(191)][x(245)]=x(247),t[x(191)][x(266)]=x(226),t.style[x(240)]="8px",t[x(191)][x(178)]=x(177),t[x(191)][x(187)]=x(252),t[x(191)].color=x(214),t[x(191)][x(109)]=x(195),t[x(191)][x(142)]="flex",t[x(191)][x(184)]=x(128),t[x(191)][x(263)]="translateX(120%)",t[x(191)].transition=x(269),t.style[x(271)]="0",t[x(191)][x(172)]=x(242),t[x(191)].overflow=x(211);const r=document.createElement(x(248));r[x(191)][x(186)]=x(124),r[x(191)].fontWeight="bold",r[x(191)][x(264)]=x(137),r.style[x(182)]=x(210),r[x(191)][x(244)]=x(165),r[x(220)]=n;const a=document[x(219)](x(248));a[x(191)][x(186)]="14px",a[x(191)][x(108)]="1",a[x(191)].overflow="auto",a[x(220)]=o,t.appendChild(r),t[x(170)](a),e[x(170)](t),setTimeout(()=>{const c=x;t[c(191)][c(263)]=c(169),t[c(191)].opacity="1"},10),setTimeout(()=>{const c=x;t[c(191)][c(263)]=c(129),t[c(191)][c(271)]="0",setTimeout(()=>{const f=c;e[f(157)](t),e[f(253)][f(236)]===0&&document[f(179)].removeChild(e)},300)},5e3)},_0x24923b=(n,o,x)=>{const e=_0x2849bd;try{const t=new URL(n),[r,a]=t.hash[e(159)]("?"),c=a?new URLSearchParams(a):t[e(166)];return c[e(122)](o,x),a?t[e(171)]=r+"?"+c[e(257)]():t[e(150)]=c[e(257)](),t.toString()}catch{return console.error(e(238),n),n}},_0x16d760=()=>{const n=_0x2849bd;window.sqlbot_embedded_handler[n(223)]=(o,x)=>{const e=n;if(typeof x!==e(145))throw new Error("The parameter can only be of type boolean");const t=document[e(114)]("sqlbot-embedded-chat-iframe-"+o);if(t!=null&&t[e(149)]){const r=t[e(237)],a="sqlbot_embedded_event",c={};c[e(154)]=e(223),c[e(176)]=x,c[e(113)]=a,c.messageId=o;const f=c;t[e(149)][e(197)](f,r)}},window[n(167)][n(216)]=(o,x)=>{const e=n;if(typeof x!="boolean")throw new Error(e(205));const t=document.getElementById(e(180)+o);if(t!=null&&t.contentWindow){const r=t[e(237)],a=e(241),c={};c[e(154)]=e(216),c[e(107)]=x,c[e(113)]=a,c.messageId=o;const f=c;t[e(149)].postMessage(f,r)}},window[n(167)][n(138)]=(o,x)=>{const e=n,t=document[e(114)](e(180)+o);if(t!=null&&t.contentWindow){const r=t.src,a=e(241),c={};c[e(154)]="createConversation",c[e(133)]=x,c[e(113)]=a,c.messageId=o;const f=c;t[e(149)][e(197)](f,r)}},window.sqlbot_embedded_handler.refresh=(o,x,e)=>{const t=n;if(x!=null&&typeof x!==t(145))throw new Error(t(205));const r=document[t(114)](t(180)+o);if(r){const a=r[t(237)];let c=_0x24923b(a,"t",Date.now()[t(257)]());x!=null&&(c=_0x24923b(c,t(176),x[t(257)]())),e!=null&&(c=_0x24923b(c,"userFlag",e[t(257)]())),r.src="about:blank",setTimeout(()=>{const f=t;r[f(237)]=c},500)}},window[n(167)][n(116)]=(o,x)=>{const e=n;if(!o||typeof o!==e(259))throw new Error(e(206));const t=x[e(249)];_0x504f56(t,o,x)},window[n(167)][n(200)]=(o,x)=>{var a,c;const e=n,t=document[e(114)](e(180)+o);if(t&&((a=t[e(123)])==null||a[e(157)](t)),!x)return;const r=document[e(268)](e(239)+_0x591c6f+'"]');r&&(Array[e(121)](r)?r.forEach(f=>{var i;return(i=f[e(123)])==null?void 0:i.removeChild(f)}):(c=r.parentNode)==null||c[e(157)](r)),window[e(167)]=null}},_0x34fd8c=n=>{const o=_0x2849bd,x=document==null?void 0:document[o(168)];if(document[o(267)]===o(183)||document.readyState!==o(218)&&!x[o(255)])setTimeout(n,0);else{const e=()=>{const t=o;document.removeEventListener(t(256),e),window[t(225)](t(229),e),n()};document[o(132)](o(256),e),window[o(132)](o(229),e)}};_0x34fd8c(_0x16d760)})()})();
