# This file is automatically generated by pyo3_stub_gen
# ruff: noqa: E501, F401

import builtins
import numpy
import numpy.typing
import typing
from enum import Enum

class BI:
    r"""
    笔
    """
    @property
    def symbol(self) -> builtins.str: ...
    @property
    def direction(self) -> Direction: ...
    @property
    def high(self) -> builtins.float: ...
    @property
    def low(self) -> builtins.float: ...
    @property
    def cache(self) -> dict: ...
    @property
    def sdt(self) -> typing.Any: ...
    @property
    def edt(self) -> typing.Any: ...
    @property
    def fx_a(self) -> FX: ...
    @property
    def fx_b(self) -> FX: ...
    @property
    def fxs(self) -> builtins.list[FX]: ...
    @property
    def bars(self) -> builtins.list[NewBar]:
        r"""
        获取构成笔的NewBar列表
        """
    @property
    def power(self) -> builtins.float:
        r"""
        价差力度
        """
    @property
    def power_price(self) -> builtins.float:
        r"""
        价差力度（别名）
        """
    @property
    def power_volume(self) -> builtins.float:
        r"""
        成交量力度
        """
    @property
    def power_snr(self) -> builtins.float:
        r"""
        SNR 度量力度
        """
    @property
    def change(self) -> builtins.float:
        r"""
        笔的涨跌幅
        """
    @property
    def SNR(self) -> builtins.float:
        r"""
        笔内部的信噪比
        """
    @property
    def slope(self) -> builtins.float:
        r"""
        笔内部高低点之间的斜率
        """
    @property
    def acceleration(self) -> builtins.float:
        r"""
        笔内部价格的加速度
        """
    @property
    def length(self) -> builtins.int:
        r"""
        笔的无包含关系K线数量
        """
    @property
    def rsq(self) -> builtins.float:
        r"""
        笔的原始K线close单变量线性回归拟合优度
        """
    @property
    def hypotenuse(self) -> builtins.float:
        r"""
        笔的斜边长度
        """
    @property
    def angle(self) -> builtins.float:
        r"""
        笔的斜边与竖直方向的夹角，角度越大，力度越大
        """
    @property
    def raw_bars(self) -> builtins.list[RawBar]:
        r"""
        构成笔的原始K线序列，不包含首尾分型的首根K线
        """
    @property
    def fake_bis(self) -> builtins.list[FakeBI]:
        r"""
        笔的内部分型连接得到近似次级别笔列表
        """
    @property
    def cache(self) -> typing.Any:
        r"""
        缓存字典（与 czsc 库兼容）
        """
    def __new__(cls, symbol:builtins.str, direction:Direction, fx_a:FX, fx_b:FX, fxs:typing.Sequence[FX], bars:typing.Sequence[NewBar]) -> BI: ...
    def get_cache_with_default(self, _key:builtins.str, default_value:builtins.float) -> builtins.float:
        r"""
        获取缓存值，如果不存在则返回默认值（与 czsc 库兼容）
        """
    def get_price_linear(self, n:builtins.int) -> builtins.float:
        r"""
        获取线性价格（与 czsc 库兼容）
        """
    def __repr__(self) -> builtins.str: ...

class BarGenerator:
    @property
    def bars(self) -> typing.Any:
        r"""
        获取各周期K线数据 - 返回字典，键为频率字符串，值为K线列表
        """
    def __new__(cls, base_freq:typing.Any, freqs:typing.Any, max_count:builtins.int, market:typing.Any) -> BarGenerator: ...
    def init_freq_bars(self, freq:typing.Any, bars:typing.Sequence[RawBar]) -> None:
        r"""
        初始化某个周期的K线序列
        
        # 函数计算逻辑
        
        1. 检查输入的`freq`是否存在于`self.freq_bars`的键中。如果不存在，返回错误。
        2. 检查`self.freq_bars[freq]`是否为空。如果不为空，返回错误，表示不允许重复初始化。
        3. 如果以上检查都通过，将输入的`bars`存储到`self.freq_bars[freq]`中。
        4. 从`bars`中获取最后一根K线的交易标的代码，更新`self.symbol`。
        
        # Arguments
        
        * `freq` - 周期名称 (支持字符串或Freq枚举)
        * `bars` - K线序列
        """
    def get_latest_date(self) -> typing.Optional[builtins.str]:
        r"""
        获取最新K线日期
        """
    def get_symbol(self) -> typing.Optional[builtins.str]:
        r"""
        获取所属品种
        """
    def update(self, bar:RawBar) -> None:
        r"""
        更新各周期K线
        
        # 函数计算逻辑
        
        1. 获取基准周期`base_freq`，并验证输入`bar`的周期值是否与之匹配
        2. 更新`self.symbol`和`self.end_dt`为当前K线的对应值
        3. 检查重复性：
           - 检查`self.bars[base_freq]`中是否已存在相同时间的K线
           - 如果存在重复K线，返回错误，不进行更新
        4. 如果无重复，遍历所有周期：
           - 对每个周期调用`update_freq`方法更新K线数据
        5. 维护数据量：
           - 遍历所有周期的K线数据
           - 确保每个周期的K线数量不超过`max_count`
           - 如果超过限制，保留最新的`max_count`条数据
        
        # Arguments
        
        * `bar` - 已完成的基准周期K线的引用
        """

class CZSC:
    @property
    def symbol(self) -> builtins.str: ...
    @property
    def freq(self) -> Freq: ...
    @property
    def max_bi_num(self) -> builtins.int: ...
    @property
    def bi_list(self) -> builtins.list[BI]: ...
    @property
    def bars_raw(self) -> builtins.list[RawBar]:
        r"""
        获取原始K线序列 - 返回PyRawBar对象列表
        """
    @property
    def bars_raw_df(self) -> typing.Any:
        r"""
        获取原始K线序列的DataFrame格式，便于绘图和分析
        """
    @property
    def bars_ubi(self) -> builtins.list[NewBar]:
        r"""
        获取无包含关系K线序列
        """
    @property
    def finished_bis(self) -> builtins.list[BI]:
        r"""
        获取已完成的笔列表（与 bi_list 相同，为兼容 czsc 库）
        """
    @property
    def fx_list(self) -> builtins.list[FX]:
        r"""
        获取分型列表（属性，与 czsc 库兼容）
        """
    @property
    def cache(self) -> typing.Any:
        r"""
        缓存字典（与 czsc 库兼容）
        """
    @property
    def signals(self) -> typing.Any:
        r"""
        信号字典（与 czsc 库兼容）
        """
    @property
    def ubi_fxs(self) -> builtins.list[FX]:
        r"""
        无包含关系K线分型列表（与 czsc 库兼容）
        CZSC 库中 ubi_fxs 通常只包含已确认的分型
        """
    @property
    def ubi(self) -> typing.Any:
        r"""
        无包含关系K线（与 czsc 库兼容）
        返回未完成的笔信息，格式与 Python 版本保持一致
        """
    @property
    def verbose(self) -> builtins.bool:
        r"""
        是否显示详细信息（与 czsc 库兼容）
        """
    @property
    def last_bi_extend(self) -> builtins.bool:
        r"""
        最后一笔延伸情况（与 czsc 库兼容）
        判断最后一笔是否在延伸中，True 表示延伸中
        """
    @property
    def cache(self) -> dict:
        r"""
        缓存字典（与 czsc 库兼容）
        """
    def __new__(cls, bars_raw:typing.Sequence[RawBar], max_bi_num:builtins.int=50) -> CZSC: ...
    @staticmethod
    def from_dataframe(df_bytes:bytes, freq:Freq, max_bi_num:builtins.int=50) -> CZSC:
        r"""
        直接从Arrow格式的DataFrame创建CZSC对象，避免中间转换
        这是高性能的批量创建接口，适用于大量数据的初始化
        
        :param df_bytes: Arrow IPC格式的DataFrame字节数据
        :param freq: K线频率
        :param max_bi_num: 最大笔数量限制
        :return: CZSC对象
        """
    def open_in_browser(self, _renderer:typing.Optional[builtins.str]=None) -> builtins.str:
        r"""
        在浏览器中打开（与 czsc 库兼容）
        """
    def to_echarts(self) -> builtins.str:
        r"""
        转换为 ECharts 格式（与 czsc 库兼容）
        """
    def to_plotly(self) -> builtins.str:
        r"""
        转换为 Plotly 格式（与 czsc 库兼容）
        """
    def update(self, bar:RawBar) -> None:
        r"""
        更新K线数据
        """
    def __repr__(self) -> builtins.str: ...

class Event:
    r"""
    Python可见的Event包装器
    """
    @property
    def operate(self) -> Operate: ...
    @property
    def signals_all(self) -> builtins.list[Signal]: ...
    @property
    def signals_any(self) -> builtins.list[Signal]: ...
    @property
    def signals_not(self) -> builtins.list[Signal]: ...
    @property
    def name(self) -> builtins.str: ...
    @property
    def unique_signals(self) -> builtins.list[builtins.str]:
        r"""
        获取所有唯一信号（字符串格式，兼容原Python API）
        """
    @property
    def sha256(self) -> builtins.str:
        r"""
        获取SHA256哈希
        """
    def __new__(cls, operate:Operate, signals_all:typing.Sequence[Signal]=[], signals_any:typing.Sequence[Signal]=[], signals_not:typing.Sequence[Signal]=[], name:builtins.str='') -> Event: ...
    @classmethod
    def from_dict(cls, _cls:type, dict:dict) -> Event: ...
    @classmethod
    def from_json(cls, _cls:type, json_str:builtins.str) -> Event: ...
    def compute_sha8(self) -> builtins.str:
        r"""
        计算SHA8哈希值
        """
    def is_match(self, signals:typing.Sequence[Signal]) -> tuple[builtins.bool, typing.Optional[builtins.str]]:
        r"""
        判断事件是否匹配信号集合，返回(是否匹配, 匹配因子名称)
        """
    def to_json(self) -> builtins.str:
        r"""
        转换为JSON字符串
        """
    def __repr__(self) -> builtins.str: ...
    def __str__(self) -> builtins.str: ...

class FX:
    r"""
    分型
    """
    @property
    def symbol(self) -> builtins.str: ...
    @property
    def dt(self) -> typing.Any: ...
    @property
    def mark(self) -> Mark: ...
    @property
    def high(self) -> builtins.float: ...
    @property
    def low(self) -> builtins.float: ...
    @property
    def fx(self) -> builtins.float: ...
    @property
    def new_bars(self) -> builtins.list[NewBar]:
        r"""
        获取构成分型的NewBar列表
        """
    @property
    def raw_bars(self) -> builtins.list[RawBar]:
        r"""
        获取原始K线列表（从NewBar的elements中提取）
        """
    @property
    def power_str(self) -> builtins.str:
        r"""
        获取分型强度字符串
        """
    @property
    def power_volume(self) -> builtins.float:
        r"""
        获取成交量力度
        """
    @property
    def has_zs(self) -> builtins.bool:
        r"""
        判断是否有重叠中枢
        """
    @property
    def elements(self) -> builtins.list[NewBar]:
        r"""
        获取构成分型的NewBar列表（与new_bars相同，为兼容czsc库）
        """
    @property
    def cache(self) -> dict:
        r"""
        缓存字典（与 czsc 库兼容）
        """
    def __new__(cls, symbol:builtins.str, dt:typing.Any, mark:Mark, high:builtins.float, low:builtins.float, fx:builtins.float, elements:typing.Sequence[NewBar]) -> FX: ...
    def __repr__(self) -> builtins.str: ...

class FakeBI:
    r"""
    虚拟笔
    主要为笔的内部分析提供便利
    """
    @property
    def symbol(self) -> builtins.str: ...
    @property
    def sdt(self) -> typing.Any: ...
    @property
    def edt(self) -> typing.Any: ...
    @property
    def direction(self) -> Direction: ...
    @property
    def high(self) -> builtins.float: ...
    @property
    def low(self) -> builtins.float: ...
    @property
    def power(self) -> builtins.float: ...
    @property
    def cache(self) -> dict: ...
    def __repr__(self) -> builtins.str: ...

class LiteBar:
    r"""
    Python可见的LiteBar包装器
    """
    @property
    def id(self) -> builtins.int: ...
    @property
    def dt(self) -> builtins.float: ...
    @property
    def price(self) -> builtins.float: ...
    def __new__(cls, id:builtins.int, dt:builtins.float, price:builtins.float) -> LiteBar: ...
    def __repr__(self) -> builtins.str: ...

class NewBar:
    r"""
    去除包含关系后的K线元素
    """
    @property
    def symbol(self) -> builtins.str: ...
    @property
    def dt(self) -> typing.Any: ...
    @property
    def freq(self) -> Freq: ...
    @property
    def id(self) -> builtins.int: ...
    @property
    def open(self) -> builtins.float: ...
    @property
    def close(self) -> builtins.float: ...
    @property
    def high(self) -> builtins.float: ...
    @property
    def low(self) -> builtins.float: ...
    @property
    def vol(self) -> builtins.float: ...
    @property
    def amount(self) -> builtins.float: ...
    @property
    def cache(self) -> dict: ...
    @property
    def elements(self) -> builtins.list[RawBar]: ...
    @property
    def raw_bars(self) -> builtins.list[RawBar]:
        r"""
        获取构成NewBar的原始K线列表（与elements相同，为兼容czsc库）
        """
    def __new__(cls, symbol:builtins.str, dt:typing.Any, freq:Freq, open:builtins.float, close:builtins.float, high:builtins.float, low:builtins.float, vol:builtins.float, amount:builtins.float, id:builtins.int=0, elements:typing.Optional[typing.Sequence[RawBar]]=None) -> NewBar: ...
    def __repr__(self) -> builtins.str: ...

class Operate:
    r"""
    Python可见的Operate包装器
    """
    HL: Operate
    HS: Operate
    HO: Operate
    LO: Operate
    LE: Operate
    SO: Operate
    SE: Operate
    @classmethod
    def hl(cls, _cls:type) -> Operate: ...
    @classmethod
    def hs(cls, _cls:type) -> Operate: ...
    @classmethod
    def ho(cls, _cls:type) -> Operate: ...
    @classmethod
    def lo(cls, _cls:type) -> Operate: ...
    @classmethod
    def le(cls, _cls:type) -> Operate: ...
    @classmethod
    def so(cls, _cls:type) -> Operate: ...
    @classmethod
    def se(cls, _cls:type) -> Operate: ...
    @classmethod
    def from_str_py(cls, _cls:type, s:builtins.str) -> Operate: ...
    @classmethod
    def from_str(cls, _cls:type, s:builtins.str) -> Operate: ...
    def __str__(self) -> builtins.str: ...
    def __repr__(self) -> builtins.str: ...
    def __eq__(self, other:Operate) -> builtins.bool: ...
    def __hash__(self) -> builtins.int: ...

class ParsedSignalDoc:
    r"""
    Python可见的ParsedSignalDoc包装器
    """
    @property
    def param_template(self) -> typing.Optional[builtins.str]: ...
    @property
    def signals(self) -> builtins.list[Signal]: ...
    def __repr__(self) -> builtins.str: ...

class Pos:
    r"""
    Python可见的Pos枚举包装器
    """
    @classmethod
    def short(cls, _cls:type) -> Pos: ...
    @classmethod
    def flat(cls, _cls:type) -> Pos: ...
    @classmethod
    def long(cls, _cls:type) -> Pos: ...
    def __str__(self) -> builtins.str: ...
    def __repr__(self) -> builtins.str: ...
    def __eq__(self, other:Pos) -> builtins.bool: ...
    def __add__(self, other:Pos) -> builtins.float:
        r"""
        加法运算，用于numpy.mean等数学操作
        """
    def __radd__(self, other:builtins.float) -> builtins.float:
        r"""
        右加法运算
        """
    def __float__(self) -> builtins.float:
        r"""
        转换为浮点数，用于数学运算
        """
    def __int__(self) -> builtins.int:
        r"""
        整数转换
        """
    def __lt__(self, other:Pos) -> builtins.bool:
        r"""
        比较运算符 - 小于
        """
    def __le__(self, other:Pos) -> builtins.bool:
        r"""
        比较运算符 - 小于等于
        """
    def __gt__(self, other:Pos) -> builtins.bool:
        r"""
        比较运算符 - 大于
        """
    def __ge__(self, other:Pos) -> builtins.bool:
        r"""
        比较运算符 - 大于等于
        """

class Position:
    r"""
    Python可见的Position包装器
    """
    @property
    def opens(self) -> builtins.list[Event]: ...
    @property
    def exits(self) -> builtins.list[Event]: ...
    @property
    def interval(self) -> builtins.int: ...
    @property
    def timeout(self) -> builtins.int: ...
    @property
    def stop_loss(self) -> builtins.float: ...
    @property
    def t0(self) -> builtins.bool: ...
    @property
    def name(self) -> builtins.str: ...
    @property
    def symbol(self) -> builtins.str: ...
    @property
    def pos(self) -> builtins.float: ...
    @property
    def pos_changed(self) -> builtins.bool: ...
    @property
    def pairs(self) -> list:
        r"""
        获取交易对数据（返回记录列表，兼容pandas.DataFrame构造）
        """
    @property
    def unique_signals(self) -> builtins.list[builtins.str]: ...
    @property
    def events(self) -> builtins.list[Event]: ...
    def __new__(cls, symbol:builtins.str, opens:typing.Sequence[Event], exits:typing.Sequence[Event]=[], interval:builtins.int=0, timeout:builtins.int=1000, stop_loss:builtins.float=1000.0, t0:builtins.bool=False, name:typing.Optional[builtins.str]=None) -> Position: ...
    @classmethod
    def load_from_file(cls, _cls:type, path:builtins.str) -> Position: ...
    @classmethod
    def from_json(cls, _cls:type, json_str:builtins.str) -> Position: ...
    def save(self, path:builtins.str) -> None:
        r"""
        保存到文件
        """
    def to_json(self) -> builtins.str:
        r"""
        转换为JSON字符串
        """
    def all_events(self) -> builtins.list[Event]:
        r"""
        获取所有相关事件
        """
    def update(self, arg1:typing.Any, arg2:typing.Optional[typing.Any]=None) -> None:
        r"""
        更新仓位状态（兼容单参数调用）
        """
    def holds(self) -> bytes:
        r"""
        获取持仓历史数据（返回字节数据）
        """
    def dump(self, with_data:builtins.bool=True) -> typing.Any:
        r"""
        导出Position数据为Python字典
        """
    @classmethod
    def load(cls, _cls:type, data:typing.Any) -> Position:
        r"""
        从字典数据加载Position
        """
    def __repr__(self) -> builtins.str: ...

class PyWeightBacktest:
    @staticmethod
    def from_arrow(data:bytes, digits:builtins.int=2, fee_rate:typing.Optional[builtins.float]=0.0002, n_jobs:typing.Optional[builtins.int]=4, weight_type:builtins.str='ts', yearly_days:builtins.int=252) -> PyWeightBacktest: ...
    def stats(self) -> dict: ...
    def daily_return(self) -> bytes: ...
    def dailys(self) -> bytes: ...
    def alpha(self) -> bytes: ...
    def pairs(self) -> bytes: ...

class RawBar:
    r"""
    原始K线元素
    """
    @property
    def symbol(self) -> builtins.str: ...
    @property
    def dt(self) -> typing.Any: ...
    @property
    def freq(self) -> Freq: ...
    @property
    def id(self) -> builtins.int: ...
    @property
    def open(self) -> builtins.float: ...
    @property
    def close(self) -> builtins.float: ...
    @property
    def high(self) -> builtins.float: ...
    @property
    def low(self) -> builtins.float: ...
    @property
    def vol(self) -> builtins.float: ...
    @property
    def amount(self) -> builtins.float: ...
    @property
    def solid(self) -> builtins.float:
        r"""
        实体部分（与原版CZSC兼容）
        """
    @property
    def upper(self) -> builtins.float:
        r"""
        上影线长度（与原版CZSC兼容）
        """
    @property
    def lower(self) -> builtins.float:
        r"""
        下影线长度（与原版CZSC兼容）
        """
    @property
    def cache(self) -> dict: ...
    @property
    def __dict__(self) -> typing.Any:
        r"""
        直接支持 __dict__ 属性，让 pandas DataFrame() 能正确识别对象
        """
    def __new__(cls, symbol:builtins.str, dt:typing.Any, freq:Freq, open:builtins.float, close:builtins.float, high:builtins.float, low:builtins.float, vol:builtins.float, amount:builtins.float, id:builtins.int=0) -> RawBar: ...
    def _asdict(self) -> typing.Any:
        r"""
        让对象表现得像记录，pandas DataFrame构造器会调用这个
        """
    def to_dict(self) -> typing.Any:
        r"""
        转换为字典，便于创建 pandas DataFrame
        """
    def __reduce__(self) -> typing.Any:
        r"""
        支持pickle序列化
        """
    def __deepcopy__(self, _memo:typing.Any) -> RawBar:
        r"""
        支持深拷贝
        """
    def __repr__(self) -> builtins.str: ...

class Signal:
    r"""
    Python可见的Signal包装器
    """
    @property
    def key(self) -> builtins.str: ...
    @property
    def value(self) -> builtins.str: ...
    @property
    def k3(self) -> builtins.str: ...
    @property
    def v1(self) -> builtins.str: ...
    @property
    def v2(self) -> builtins.str: ...
    @property
    def v3(self) -> builtins.str: ...
    @property
    def score(self) -> typing.Optional[builtins.int]: ...
    @property
    def k1(self) -> builtins.str:
        r"""
        新增k1和k2属性getter，匹配Python版本
        """
    @property
    def k2(self) -> builtins.str: ...
    def __new__(cls, args:tuple, signal:typing.Optional[builtins.str]=None, key:typing.Optional[builtins.str]=None, value:typing.Optional[builtins.str]=None, k1:typing.Optional[builtins.str]=None, k2:typing.Optional[builtins.str]=None, k3:typing.Optional[builtins.str]=None, v1:typing.Optional[builtins.str]=None, v2:typing.Optional[builtins.str]=None, v3:typing.Optional[builtins.str]=None, score:typing.Optional[builtins.int]=None) -> Signal: ...
    @classmethod
    def from_string(cls, _cls:type, s:builtins.str) -> Signal: ...
    def to_json(self) -> builtins.str:
        r"""
        添加to_json方法以匹配Python版本
        """
    def __str__(self) -> builtins.str: ...
    def __repr__(self) -> builtins.str: ...
    def __eq__(self, other:Signal) -> builtins.bool: ...
    def __hash__(self) -> builtins.int: ...
    def matches(self, other:Signal) -> builtins.bool:
        r"""
        检查Signal是否匹配另一个Signal
        """
    def is_match(self, signals_dict:typing.Mapping[builtins.str, builtins.str]) -> builtins.bool:
        r"""
        判断信号是否与信号字典中的值匹配（Python版本is_match逻辑）
        """
    def to_string(self) -> builtins.str:
        r"""
        获取Signal的完整字符串表示
        """

class ZS:
    @property
    def bis(self) -> builtins.list[BI]:
        r"""
        获取构成中枢的笔列表
        """
    @property
    def sdt(self) -> typing.Any:
        r"""
        中枢开始时间
        """
    @property
    def edt(self) -> typing.Any:
        r"""
        中枢结束时间
        """
    @property
    def sdir(self) -> Direction:
        r"""
        中枢第一笔方向
        """
    @property
    def edir(self) -> Direction:
        r"""
        中枢倒一笔方向
        """
    @property
    def zg(self) -> builtins.float:
        r"""
        中枢上沿
        """
    @property
    def zd(self) -> builtins.float:
        r"""
        中枢下沿
        """
    @property
    def zz(self) -> builtins.float:
        r"""
        中枢中轴
        """
    @property
    def gg(self) -> builtins.float:
        r"""
        中枢最高点
        """
    @property
    def dd(self) -> builtins.float:
        r"""
        中枢最低点
        """
    @property
    def cache(self) -> dict: ...
    def __new__(cls, bis:typing.Sequence[BI]) -> ZS: ...
    def is_valid(self) -> builtins.bool:
        r"""
        中枢是否有效
        """

class Direction(Enum):
    r"""
    方向
    """
    Up = ...
    r"""
    向上
    """
    Down = ...
    r"""
    向下
    """

    @property
    def value(self) -> builtins.str:
        r"""
        获取方向的字符串值（与 czsc 库兼容）
        """
    def __deepcopy__(self, _memo:typing.Any) -> Direction:
        r"""
        支持深拷贝
        """
    def __reduce__(self) -> tuple[typing.Any, typing.Any]:
        r"""
        支持pickle序列化
        """
    def __new__(cls, value:builtins.str) -> Direction: ...
    def __str__(self) -> builtins.str: ...
    def __repr__(self) -> builtins.str: ...

class Freq(Enum):
    r"""
    时间周期
    """
    Tick = ...
    r"""
    逐笔
    """
    F1 = ...
    r"""
    1分钟
    """
    F2 = ...
    r"""
    2分钟
    """
    F3 = ...
    r"""
    3分钟
    """
    F4 = ...
    r"""
    4分钟
    """
    F5 = ...
    r"""
    5分钟
    """
    F6 = ...
    r"""
    6分钟
    """
    F10 = ...
    r"""
    10分钟
    """
    F12 = ...
    r"""
    12分钟
    """
    F15 = ...
    r"""
    15分钟
    """
    F20 = ...
    r"""
    20分钟
    """
    F30 = ...
    r"""
    30分钟
    """
    F60 = ...
    r"""
    60分钟
    """
    F120 = ...
    r"""
    120分钟
    """
    F240 = ...
    r"""
    240分钟
    """
    F360 = ...
    r"""
    360分钟
    """
    D = ...
    r"""
    日线
    """
    W = ...
    r"""
    周线
    """
    M = ...
    r"""
    月线
    """
    S = ...
    r"""
    季线
    """
    Y = ...
    r"""
    年线
    """

    __members__: typing.Any
    @property
    def value(self) -> builtins.str: ...
    def is_minute_freq(self) -> builtins.bool:
        r"""
        判断是否为分钟级别的周期
        """
    def minutes(self) -> typing.Optional[builtins.int]:
        r"""
        获取对应的分钟数
        """
    def __deepcopy__(self, _memo:typing.Any) -> Freq:
        r"""
        支持深拷贝
        """
    def __reduce__(self) -> tuple[typing.Any, typing.Any]:
        r"""
        支持pickle序列化
        """
    def __new__(cls, value:builtins.str) -> Freq: ...
    def __str__(self) -> builtins.str: ...
    def __repr__(self) -> builtins.str: ...

class Mark(Enum):
    r"""
    分型类型
    """
    D = ...
    r"""
    底分型
    """
    G = ...
    r"""
    顶分型
    """

    @property
    def value(self) -> builtins.str:
        r"""
        获取标记的字符串值（与 czsc 库兼容）
        """
    def __str__(self) -> builtins.str: ...
    def __repr__(self) -> builtins.str: ...

class Market(Enum):
    AShare = ...
    r"""
    A股
    """
    Futures = ...
    r"""
    期货
    """
    Default = ...
    r"""
    默认
    """

    def __new__(cls, ob:typing.Any) -> Market: ...

def boll_positions(series:typing.Sequence[builtins.float], n:builtins.int, k:builtins.float) -> builtins.list[builtins.int]:
    r"""
    布林线多空信号
    返回每个点的持仓信号（-1: 空头, 0: 空仓, 1: 多头）
    """

def boll_reverse_positions(series:typing.Sequence[builtins.float], n:builtins.int, k:builtins.float) -> builtins.list[builtins.int]:
    r"""
    布林带反转策略的多空持仓信号
    返回每个点的持仓信号（-1: 空头, 0: 空仓, 1: 多头）
    """

def chip_distribution_triangle(data:numpy.typing.NDArray[numpy.float64], price_step:builtins.float, decay_factor:builtins.float) -> tuple[numpy.typing.NDArray[numpy.float64], numpy.typing.NDArray[numpy.float64]]:
    r"""
    计算筹码分布（三角形分布 + 筹码沉淀机制）
    
    此函数用于估算基于历史K线的筹码分布情况，结合三角形分布模型和筹码沉淀（衰减）机制。
    
    # Python 接口说明
    
    输入一个二维 numpy 数组，形状为 (N, 3)，每一行对应一根K线，列顺序为：
    `[high, low, vol]`，类型必须为 `float64`。
    
    示例：
    ```python
    columns = ['high', 'low', 'vol']
    arr2 = df[columns].to_numpy(dtype=np.float64)
    price_centers, chip_dist = chip_distribution_triangle(arr2, 0.01, 0.9)
    ```
    
    # 参数
    
    - `data`: 二维数组，形状为 (N, 3)，分别是每根K线的最高价、最低价和成交量。
    - `price_step`: 分档间隔（如0.01表示以0.01为单位划分价格区间）。
    - `decay_factor`: 筹码衰减因子，表示前一根K线上的筹码有多少比例沉淀保留到下一根K线上，范围为(0, 1)，例如0.98表示保留98%。
    
    # 返回值
    
    返回一个元组 `(price_centers, chip_distribution)`:
    - `price_centers`: 一维数组，表示价格分布区间的中心价位。
    - `chip_distribution`: 一维数组，对应每个价格中心的筹码强度（权重/密度）。
    
    返回的两个数组长度相同，可用于绘制筹码分布图或进一步分析。
    """

def daily_performance(daily_returns:numpy.typing.NDArray[numpy.float64], yearly_days:typing.Optional[builtins.int]=None) -> typing.Any:
    r"""
    采用单利计算日收益数据的各项指标
    
    函数计算逻辑：
    
    1. 首先，将传入的日收益率数据转换为NumPy数组，并指定数据类型为float64。
    2. 然后，进行一系列判断：如果日收益率数据为空或标准差为零或全部为零，则返回字典，其中所有指标的值都为零。
    3. 如果日收益率数据满足要求，则进行具体的指标计算：
    
        - 年化收益率 = 日收益率列表的和 / 日收益率列表的长度 * 252
        - 夏普比率 = 日收益率的均值 / 日收益率的标准差 * 标准差的根号252
        - 最大回撤 = 累计日收益率的最高累积值 - 累计日收益率
        - 卡玛比率 = 年化收益率 / 最大回撤（如果最大回撤不为零，则除以最大回撤；否则为10）
        - 日胜率 = 大于零的日收益率的个数 / 日收益率的总个数
        - 年化波动率 = 日收益率的标准差 * 标准差的根号252
        - 下行波动率 = 日收益率中小于零的日收益率的标准差 * 标准差的根号252
        - 非零覆盖 = 非零的日收益率个数 / 日收益率的总个数
        - 回撤风险 = 最大回撤 / 年化波动率；一般认为 1 以下为低风险，1-2 为中风险，2 以上为高风险
    
    4. 将所有指标的值存储在字典中，其中键为指标名称，值为相应的计算结果。
    
    :param daily_returns: 日收益率数据，样例：
        [0.01, 0.02, -0.01, 0.03, 0.02, -0.02, 0.01, -0.01, 0.02, 0.01]
    :param yearly_days: 一年的交易日数，默认为 252
    :return: dict，输出样例如下
    
        {'绝对收益': 1.0595,
        '年化': 0.1419,
        '夏普': 0.7358,
        '最大回撤': 0.3803,
        '卡玛': 0.3732,
        '日胜率': 0.5237,
        '日盈亏比': 1.0351,
        '日赢面': 0.0658,
        '年化波动率': 0.1929,
        '下行波动率': 0.1409,
        '非零覆盖': 1.0,
        '盈亏平衡点': 0.9846,
        '新高间隔': 312.0,
        '新高占比': 0.0579,
        '回撤风险': 1.9712,
        '回归年度回报率': 0.1515,
        '长度调整平均最大回撤': 0.446}
    """

def double_sma_positions(series:typing.Sequence[builtins.float], n:builtins.int, m:builtins.int) -> builtins.list[builtins.float]:
    r"""
    双均线多空信号
    返回每个点的多空信号（-1.0, 0.0, 1.0）
    """

def ema(series:typing.Sequence[builtins.float], period:builtins.int) -> builtins.list[builtins.float]:
    r"""
    计算指数移动平均 (EMA)
    返回每个点的 EMA 值
    """

def exponential_smoothing(series:typing.Sequence[builtins.float], alpha:builtins.float) -> builtins.list[builtins.float]:
    r"""
    指数平滑 - 基础时间序列平滑技术
    返回平滑后的序列
    """

def format_standard_kline_bytes(df_bytes:bytes, freq:Freq) -> builtins.list[RawBar]: ...

def holt_winters(series:typing.Sequence[builtins.float], season_length:builtins.int, alpha:builtins.float, beta:builtins.float, gamma:builtins.float) -> builtins.list[builtins.float]:
    r"""
    Holt-Winters三参数平滑 - 支持趋势和季节性的平滑方法
    返回平滑后的序列
    """

def jurik_volty(close:typing.Sequence[builtins.float], period:builtins.int, power:builtins.float) -> builtins.list[builtins.float]:
    r"""
    Jurik波动平滑器 - 低噪声波动指标
    返回平滑波动率值
    """

def mid_positions(series:typing.Sequence[builtins.float], n:builtins.int) -> builtins.list[builtins.float]:
    r"""
    取窗口内的中间值作为中轴的多空信号
    返回每个点的多空信号（-1.0, 0.0, 1.0）
    """

def mms_positions(series:typing.Sequence[builtins.float], timeperiod:builtins.int, window:builtins.int) -> builtins.list[builtins.float]:
    r"""
    均线的最大最小值归一化
    返回归一化后的值，范围在 [-1, 1] 之间
    """

def normalize_feature(data:bytes, x_col:str, q:builtins.float) -> bytes: ...

def parse_signal_doc(doc:builtins.str) -> ParsedSignalDoc:
    r"""
    解析文档中的Signal信息
    """

def rank_positions(series:typing.Sequence[builtins.float], n:builtins.int) -> builtins.list[builtins.float]:
    r"""
    rank 多空策略
    返回每个点的持仓信号（-1 到 1 之间的值）
    """

def rolling_rank(series:typing.Sequence[builtins.float], window:builtins.int) -> builtins.list[typing.Optional[builtins.int]]:
    r"""
    滚动排名函数
    计算每个数据点在其滚动窗口内的排名
    """

def rsi_reverse_positions(series:typing.Sequence[builtins.float], n:builtins.int, rsi_upper:builtins.float, rsi_lower:builtins.float, rsi_exit:builtins.float) -> builtins.list[builtins.int]:
    r"""
    RSI 反转策略的多空持仓信号
    返回每个点的持仓信号（-1: 空头, 0: 空仓, 1: 多头）
    """

def rsx_ss2(close:typing.Sequence[builtins.float], period:builtins.int, smooth_period:builtins.int) -> builtins.list[builtins.float]:
    r"""
    RSX-SS2 - 自适应平滑的RSI变体
    返回每个点的 RSX-SS2 值
    """

def single_ema_positions(series:typing.Sequence[builtins.float], n:builtins.int) -> builtins.list[builtins.float]:
    r"""
    单指数移动平均多空信号
    返回每个点的多空信号（-1.0, 0.0, 1.0）
    """

def single_sma_positions(series:typing.Sequence[builtins.float], n:builtins.int) -> builtins.list[builtins.float]:
    r"""
    单均线多空信号
    返回每个点的多空信号（-1.0, 0.0, 1.0）
    """

def tanh_positions(series:typing.Sequence[builtins.float], n:builtins.int) -> builtins.list[builtins.float]:
    r"""
    tanh 多空策略
    返回每个点的持仓信号（-1 到 1 之间的值）
    """

def top_drawdowns(returns:bytes, top:builtins.int) -> bytes: ...

def triple_sma_positions(series:typing.Sequence[builtins.float], m1:builtins.int, m2:builtins.int, m3:builtins.int) -> builtins.list[builtins.int]:
    r"""
    三均线系统持仓信号
    返回每个点的持仓信号（-1: 空头, 0: 空仓, 1: 多头）
    """

def true_range(high:typing.Sequence[builtins.float], low:typing.Sequence[builtins.float], close_prev:typing.Sequence[builtins.float]) -> builtins.list[builtins.float]:
    r"""
    计算真实波幅 (True Range)
    返回每个点的真实波幅值
    """

def ultimate_bands(close:typing.Sequence[builtins.float], period:builtins.int, std_multiplier:builtins.float, smooth_period:builtins.int) -> tuple[builtins.list[builtins.float], builtins.list[builtins.float], builtins.list[builtins.float]]:
    r"""
    终极带 - 基于终极平滑器的布林带变体
    返回 (中线, 上轨, 下轨)
    """

def ultimate_channel(high:typing.Sequence[builtins.float], low:typing.Sequence[builtins.float], close:typing.Sequence[builtins.float], period:builtins.int, multiplier:builtins.float) -> tuple[builtins.list[builtins.float], builtins.list[builtins.float], builtins.list[builtins.float]]:
    r"""
    终极通道 - 基于终极平滑器的通道指标
    返回 (中线, 上轨, 下轨)
    """

def ultimate_oscillator(high:typing.Sequence[builtins.float], low:typing.Sequence[builtins.float], close:typing.Sequence[builtins.float], short_period:builtins.int, med_period:builtins.int, long_period:builtins.int) -> builtins.list[builtins.float]:
    r"""
    终极波动指标 (UOS) - 多周期融合振荡器
    返回 UOS 值
    """

def ultimate_smoother(close:typing.Sequence[builtins.float], period:builtins.float) -> builtins.list[builtins.float]:
    r"""
    终极平滑器 - 低滞后平滑技术
    返回平滑后的序列
    """

