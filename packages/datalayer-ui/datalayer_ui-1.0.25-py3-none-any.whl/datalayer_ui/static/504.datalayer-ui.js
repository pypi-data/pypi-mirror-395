"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[504],{20504:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(62012),o=a(68122),r=a(2335),s=a(59179),i=a(7053),l=a(69584),c=a(85181);const d="@jupyterlab/translation-extension:plugin",u={id:"@jupyterlab/translation-extension:translator-connector",description:"Provides the application translation connector.",autoStart:!0,requires:[n.e.IPaths],provides:c.f3,activate:(e,t)=>{const a=t.urls.translations,n=e.serviceManager.serverSettings;return new c.y1(a,n)}},g={id:"@jupyterlab/translation-extension:translator",description:"Provides the application translation object.",autoStart:!0,requires:[n.e.IPaths,l.X],optional:[o.V,c.f3],provides:c.sQ,activate:async(e,t,a,n,o)=>{const s=await a.load(d),i=s.get("locale").composite;let l=s.get("stringsPrefix").composite;l=s.get("displayStringsPrefix").composite?l:"";const u=e.serviceManager.serverSettings,g=new c.ns(t.urls.translations,l,u,null!=o?o:void 0);return await g.fetch(i),document.documentElement.lang=g.languageCode,n&&(n.translator=g),r.lG.translator=g,g}},p={id:d,description:"Adds translation commands and settings.",requires:[l.X,c.sQ,c.f3],optional:[i.I,s.kn],autoStart:!0,activate:(e,t,a,n,o,s)=>{var i;const l=a.load("jupyterlab"),{commands:c}=e,u=o?null===(i=o.settingsMenu.items.find(e=>{var t;return"submenu"===e.type&&"jp-mainmenu-settings-language"===(null===(t=e.submenu)||void 0===t?void 0:t.id)}))||void 0===i?void 0:i.submenu:null;n.fetch().then(e=>{const n=a.languageCode.replace("-","_");for(const a in e.data){const o=e.data[a],i=o.displayName,g=o.nativeName,p=n===a,m=p?`${i}`:`${i} - ${g}`,b=`jupyterlab-translation:${a}`;c.addCommand(b,{label:m,caption:l.__("Change interface language to %1",m),isEnabled:()=>!p,isToggled:()=>p,execute:async()=>{if((await(0,r.ui)({title:l.__("Change interface language?"),body:l.__("After changing the interface language to %1, you will need to reload JupyterLab to see the changes.",m),buttons:[r.lG.cancelButton(),r.lG.okButton({label:l.__("Change and reload")})]})).button.accept)try{await t.set(d,"locale",a),window.location.reload()}catch(e){console.error(`Failed to update language locale to ${a}`,e)}},describedBy:{args:{type:"object",properties:{}}}}),u&&u.addItem({command:b,args:{}}),s&&s.addItem({category:l.__("Display Languages"),command:b})}}).catch(e=>{console.error(`Available locales errored!\n${e}`)})}},m=[u,g,p]}}]);