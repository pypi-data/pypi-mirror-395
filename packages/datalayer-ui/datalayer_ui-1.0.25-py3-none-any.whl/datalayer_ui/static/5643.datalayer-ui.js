"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[5643],{38233:(r,t,o)=>{o.d(t,{A:()=>i});var e=o(52908),a=o.n(e),u=o(10293),n=o.n(u)()(a());n.push([r.id,".prc-ButtonGroup-ButtonGroup-vcMeG{display:inline-flex;isolation:isolate;vertical-align:middle}.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper]){margin-inline-end:-1px;position:relative}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])) a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])) button{border-radius:0}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):first-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):first-child button{border-bottom-left-radius:var(--borderRadius-medium,.375rem);border-top-left-radius:var(--borderRadius-medium,.375rem)}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):last-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):last-child button{border-bottom-right-radius:var(--borderRadius-medium,.375rem);border-top-right-radius:var(--borderRadius-medium,.375rem)}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):active,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):focus,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>:not([data-loading-wrapper])):hover{z-index:1}.prc-ButtonGroup-ButtonGroup-vcMeG:has(div:last-child:empty) a,.prc-ButtonGroup-ButtonGroup-vcMeG:has(div:last-child:empty) button{border-radius:var(--borderRadius-medium,.375rem)}.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]{margin-inline-end:-1px;position:relative}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]) a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]) button{border-radius:0}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):active,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):focus,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):hover{z-index:1}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):first-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):first-child button{border-bottom-left-radius:var(--borderRadius-medium,.375rem);border-top-left-radius:var(--borderRadius-medium,.375rem)}:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):last-child a,:is(.prc-ButtonGroup-ButtonGroup-vcMeG>[data-loading-wrapper]):last-child button{border-bottom-right-radius:var(--borderRadius-medium,.375rem);border-top-right-radius:var(--borderRadius-medium,.375rem)}",""]);const i=n},46508:(r,t,o)=>{o.d(t,{A:()=>m});var e=o(87319),a=o(9387),u=o(46186),n=o.n(u),i=o(38233);n()(i.A,{insert:"head",singleton:!1}),i.A.locals;var d=o(34164),s=o(27907),p=o(70070),c=o(18683),l=o(34212),G=o(94761);const m=a.forwardRef(function(r,t){const o=(0,e.c)(18);let u,n,i,m,v;o[0]!==r?(({children:u,className:n,role:m,...i}=r),o[0]=r,o[1]=u,o[2]=n,o[3]=i,o[4]=m):(u=o[1],n=o[2],i=o[3],m=o[4]),o[5]!==u?(v=a.Children.map(u,h),o[5]=u,o[6]=v):v=o[6];const B=v,b=(0,l.L)(t),g="toolbar"!==m;let f,w,x;return o[7]!==b||o[8]!==g?(f={containerRef:b,disabled:g,bindKeys:G.z0.ArrowHorizontal,focusOutBehavior:"wrap"},o[7]=b,o[8]=g,o[9]=f):f=o[9],(0,s.G)(f),o[10]!==n?(w=(0,d.$)(n,"prc-ButtonGroup-ButtonGroup-vcMeG"),o[10]=n,o[11]=w):w=o[11],o[12]!==b||o[13]!==B||o[14]!==i||o[15]!==m||o[16]!==w?(x=(0,c.jsx)(p._,{ref:b,className:w,role:m,...i,children:B}),o[12]=b,o[13]=B,o[14]=i,o[15]=m,o[16]=w,o[17]=x):x=o[17],x});function h(r,t){return(0,c.jsx)("div",{children:r},t)}m.displayName="ButtonGroup",h.displayName="_temp"},95643:(r,t,o)=>{o.r(t),o.d(t,{DocumentPublic:()=>b,default:()=>g});var e=o(9387),a=o(20568),u=o(3345),n=o(98754),i=o(46508),d=o(3556),s=o(80006),p=o(49261),c=o(99180),l=o(38621),G=o(93159),m=o(17788),h=o(41273),v=o(23267),B=o(18683);const b=()=>{const r=(0,v.mt)(),{user:t}=r.iam(),{space:o}=r.layout(),{documentId:b}=(0,a.g)(),{useRefreshDocument:g,useDocument:f,useCloneDocument:w}=(0,G.E6)(),x=(0,m.Z)(),M=(0,u.S)(),{enqueueToast:y}=(0,h.d)(),j=f(b),A=g(),R=w(),{data:k}=j,[z,C]=(0,e.useState)(k);(0,e.useEffect)(()=>{k&&C(k)},[k]),(0,e.useEffect)(()=>(r.layout().showBackdrop(),A.mutate(b,{onSuccess:r=>{if(r.success){const{data:r}=f(b);r?C(r):x("/")}},onSettled:()=>{r.layout().hideBackdrop()}}),()=>{C(void 0),r.layout().setItem(void 0)}),[b]);const S=(0,e.useCallback)(async o=>{M({title:"Are you sure?",content:"Please confirm you want to clone this document in your private library."}).then(o=>{o&&(r.layout().showBackdrop(),R.mutate(b,{onSuccess:o=>{o.success&&(y(o.message,{variant:"success"}),r.layout().triggerItemsRefresh(),x(`/${t?.handle}/library/documents`))},onSettled:()=>{r.layout().hideBackdrop()}}))})},[M,z,R,b,r,y,x,t?.handle]);return z?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(p.z,{children:(0,B.jsxs)(n.A,{display:"flex",children:[(0,B.jsx)(n.A,{flex:1,children:(0,B.jsx)(d.A,{sx:{fontSize:3},children:"Public document"})}),(0,B.jsx)(n.A,{children:(0,B.jsxs)(i.A,{children:[z&&t?.handle===z.owner.handle&&(0,B.jsx)(c.Q,{variant:"default",size:"small",onClick:()=>x(`/${z.organization?.handle??z.owner?.handle}/${z.space?.handle}/documents/${z.id}`),children:"Edit"}),t&&o&&(0,B.jsx)(c.Q,{variant:"default",size:"small",leadingVisual:l.Nc$,onClick:S,children:"Clone"})]})})]})}),(0,B.jsx)(n.A,{children:(0,B.jsx)(s.A,{children:z.description})}),(0,B.jsx)(n.A,{children:z.model&&(0,B.jsx)(B.Fragment,{})})]}):(0,B.jsx)(B.Fragment,{})},g=b}}]);