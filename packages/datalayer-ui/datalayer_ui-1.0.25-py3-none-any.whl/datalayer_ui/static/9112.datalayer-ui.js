"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[9112],{60639:(e,t,o)=>{o.d(t,{e:()=>r});const i="jp-HoverBox",n="-1000";var r;!function(e){e.setGeometry=function(e){const{anchor:t,host:o,node:r,privilege:s,outOfViewDisplay:a}=e,l=o.getBoundingClientRect();r.classList.contains(i)||r.classList.add(i),r.style.visibility&&(r.style.visibility=""),""===r.style.zIndex&&(r.style.zIndex=""),r.style.maxHeight="",r.style.marginTop="";const d=e.style||window.getComputedStyle(r),c=t.top-l.top,m=l.bottom-t.bottom,u=parseInt(d.marginTop,10)||0,p=parseInt(d.marginLeft,10)||0,h=parseInt(d.minHeight,10)||e.minHeight;let g=parseInt(d.maxHeight,10)||e.maxHeight;const b="forceAbove"!==s&&("forceBelow"===s||("above"===s?c<g&&c<m:m>=g||m>=c));if(b?g=Math.min(m-u,g):(g=Math.min(c,g),r.style.marginTop="0px"),r.style.maxHeight=`${g}px`,!(g>=h&&(m>=h||c>=h)))return r.style.zIndex=n,void(r.style.visibility="hidden");e.size?(r.style.width=`${e.size.width}px`,r.style.height=`${e.size.height}px`,r.style.contain="strict"):(r.style.contain="",r.style.width="auto",r.style.height="");const f=e.size?e.size.height:r.getBoundingClientRect().height,y=e.offset&&e.offset.vertical&&e.offset.vertical.above||0,v=e.offset&&e.offset.vertical&&e.offset.vertical.below||0;let _=b?l.bottom-m+v:l.top+c-f+y;r.style.top=`${Math.floor(_)}px`;const C=e.offset&&e.offset.horizontal||0;let j=t.left+C;r.style.left=`${Math.ceil(j)}px`;let E=r.getBoundingClientRect(),k=E.right;k>window.innerWidth&&(j-=k-window.innerWidth,k=window.innerWidth,r.style.left=`${Math.ceil(j)}px`),j<C-p&&(j=C-p,r.style.left=`${Math.ceil(j)}px`),r.style.zIndex="-1000";const x=E.bottom,w=o.contains(document.elementFromPoint(j,_)),S=o.contains(document.elementFromPoint(k,_)),F=o.contains(document.elementFromPoint(k,x)),I=o.contains(document.elementFromPoint(j,x));r.style.zIndex="";const N=w||S,A=I||F,B=w||I,T=F||S,D=x-_,M=k-j,G=_<l.top,L=x>l.bottom,$=j+p<l.left,R=k>l.right;let W=!1,P=!1,O=!1;if(G)switch((null==a?void 0:a.top)||"hidden-inside"){case"hidden-inside":N||(W=!0);break;case"hidden-outside":A||(W=!0);break;case"stick-inside":l.top>_&&(_=l.top,O=!0);break;case"stick-outside":l.top>x&&(_=l.top-D,O=!0)}if(L)switch((null==a?void 0:a.bottom)||"hidden-outside"){case"hidden-inside":A||(W=!0);break;case"hidden-outside":N||(W=!0);break;case"stick-inside":l.bottom<x&&(_=l.bottom-D,O=!0);break;case"stick-outside":l.bottom<_&&(_=l.bottom,O=!0)}if($)switch((null==a?void 0:a.left)||"hidden-inside"){case"hidden-inside":B||(W=!0);break;case"hidden-outside":T||(W=!0);break;case"stick-inside":l.left>j+p&&(j=l.left-p,P=!0);break;case"stick-outside":l.left>k&&(j=l.left-p-M,P=!0)}if(R)switch((null==a?void 0:a.right)||"hidden-outside"){case"hidden-inside":T||(W=!0);break;case"hidden-outside":B||(W=!0);break;case"stick-inside":l.right<k&&(j=l.right-M,P=!0);break;case"stick-outside":l.right<j&&(j=l.right,P=!0)}W&&(r.style.zIndex=n,r.style.visibility="hidden"),P&&(r.style.left=`${Math.ceil(j)}px`),O&&(r.style.top=`${Math.ceil(_)}px`)}}(r||(r={}))},61110:(e,t,o)=>{o.d(t,{J:()=>r,g:()=>n});var i=o(98238);const n=new i.Token("@jupyterlab/ui-components:IFormRendererRegistry","A service for settings form renderer registration."),r=new i.Token("@jupyterlab/ui-components:ILabIconManager","A service to register and request icons.")},62939:(e,t,o)=>{o.d(t,{NZ:()=>n,$O:()=>f,z2:()=>d,a3:()=>u,eA:()=>b,pC:()=>m,yp:()=>a});var i=o(9387);function n(e){const{spacing:t,children:o,className:n,...r}=e,s=i.Children.toArray(o).filter(Boolean),a=s.length;return i.createElement("div",{className:`jp-StatusBar-GroupItem ${n||""}`,...r},s.map((e,o)=>{const n=`group-item-${o}`;return 0===o?i.createElement("div",{key:n,style:{marginRight:`${t}px`}},e):o===a-1?i.createElement("div",{key:n,style:{marginLeft:`${t}px`}},e):i.createElement("div",{key:n,style:{margin:`0px ${t}px`}},e)}))}var r=o(60639),s=o(14809);function a(e){const t=new l(e);return e.startHidden||t.launch(),t}class l extends s.x0{constructor(e){super(),this.addClass("jp-ThemedContainer"),this._body=e.body,this._body.addClass("jp-StatusBar-HoverItem"),this._anchor=e.anchor,this._align=e.align,e.hasDynamicSize&&(this._observer=new ResizeObserver(()=>{this.update()})),(this.layout=new s.DG).addWidget(e.body),this._body.node.addEventListener("resize",()=>{this.update()})}launch(){this._setGeometry(),s.x0.attach(this,document.body),this.update(),this._anchor.addClass("jp-mod-clicked"),this._anchor.removeClass("jp-mod-highlight")}onUpdateRequest(e){this._setGeometry(),super.onUpdateRequest(e)}onAfterAttach(e){var t;document.addEventListener("click",this,!1),this.node.addEventListener("keydown",this,!1),window.addEventListener("resize",this,!1),null===(t=this._observer)||void 0===t||t.observe(this._body.node)}onBeforeDetach(e){var t;null===(t=this._observer)||void 0===t||t.disconnect(),document.removeEventListener("click",this,!1),this.node.removeEventListener("keydown",this,!1),window.removeEventListener("resize",this,!1)}onResize(){this.update()}dispose(){var e;null===(e=this._observer)||void 0===e||e.disconnect(),super.dispose(),this._anchor.removeClass("jp-mod-clicked"),this._anchor.addClass("jp-mod-highlight")}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"click":this._evtClick(e);break;case"resize":this.onResize()}}_evtClick(e){!e.target||this._body.node.contains(e.target)||this._anchor.node.contains(e.target)||this.dispose()}_evtKeydown(e){27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),this.dispose())}_setGeometry(){let e=0;const t=this._anchor.node.getBoundingClientRect(),o=this._body.node.getBoundingClientRect();"right"===this._align&&(e=-(o.width-t.width));const i=window.getComputedStyle(this._body.node);r.e.setGeometry({anchor:t,host:document.body,maxHeight:500,minHeight:20,node:this._body.node,offset:{horizontal:e},privilege:"forceAbove",style:i})}}function d(e){const{width:t,percentage:o,...n}=e;return i.createElement("div",{className:"jp-Statusbar-ProgressBar-progress-bar",role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":o},i.createElement(c,{percentage:o,...n,contentWidth:t}))}function c(e){return i.createElement("div",{style:{width:`${e.percentage}%`}},i.createElement("p",null,e.content))}function m(e){const{title:t,source:o,className:n,...r}=e;return i.createElement("span",{className:n?`jp-StatusBar-TextItem ${n}`:"jp-StatusBar-TextItem",title:t,...r},o)}function u(e){return i.createElement("div",{className:"jp-Statusbar-ProgressCircle",role:"progressbar","aria-label":e.label||"Unlabelled progress circle","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.progress,onClick:e.onClick},i.createElement("svg",{viewBox:"0 0 250 250"},i.createElement("circle",{cx:"125",cy:"125",r:"104",stroke:"var(--jp-inverse-layout-color3)",strokeWidth:"20",fill:"none"}),i.createElement("path",{className:"jp-Statusbar-ProgressCirclePath",transform:"translate(125,125) scale(.9)",d:(e=>{const t=Math.max(3.6*e,.1),o=t*Math.PI/180,i=104*Math.sin(o),n=-104*Math.cos(o);return"M 0 0 v -104 A 104 104 1 "+(t<180?1:0)+" 0 "+i.toFixed(4)+" "+n.toFixed(4)+" z"})(e.progress),fill:"var(--jp-inverse-layout-color3)"})))}var p,h=o(38921),g=o(79246);class b extends s.x0{constructor(){super(),this._isWindowNarrow=()=>window.innerWidth<=630,this._leftRankItems=[],this._rightRankItems=[],this._statusItems={},this._disposables=new g.DisposableSet,this.addClass("jp-StatusBar-Widget");const e=this.layout=new s.DG,t=this._leftSide=new s.Zk,o=this._middlePanel=new s.Zk,i=this._rightSide=new s.Zk;t.addClass("jp-StatusBar-Left"),o.addClass("jp-StatusBar-Middle"),i.addClass("jp-StatusBar-Right"),i.node.style.flexDirection="row",e.addWidget(t),e.addWidget(o),e.addWidget(i)}registerStatusItem(e,t){if(e in this._statusItems)throw new Error(`Status item ${e} already registered.`);const o={...p.statusItemDefaults,...t},{align:i,item:n,rank:r,priority:s}=o,a=()=>{this._refreshItem(e)};o.activeStateChanged&&o.activeStateChanged.connect(a);const l={id:e,rank:r,priority:s};if(o.item.addClass("jp-StatusBar-Item"),this._statusItems[e]=o,"left"===i){const e=this._findInsertIndex(this._leftRankItems,l);-1===e?(this._leftSide.addWidget(n),this._leftRankItems.push(l)):(h.ArrayExt.insert(this._leftRankItems,e,l),this._leftSide.insertWidget(e,n))}else if("right"===i){const e=h.ArrayExt.findFirstIndex(this._rightRankItems,e=>e.rank<l.rank);-1===e?(this._rightSide.addWidget(n),this._rightRankItems.push(l)):(h.ArrayExt.insert(this._rightRankItems,e,l),this._rightSide.insertWidget(e,n))}else this._middlePanel.addWidget(n);this._refreshItem(e);const d=new g.DisposableDelegate(()=>{delete this._statusItems[e],o.activeStateChanged&&o.activeStateChanged.disconnect(a),n.parent=null,n.dispose()});return this._disposables.add(d),d}dispose(){this._leftRankItems.length=0,this._rightRankItems.length=0,this._disposables.dispose(),super.dispose()}onUpdateRequest(e){this._refreshAll(),super.onUpdateRequest(e)}_findInsertIndex(e,t){return h.ArrayExt.findFirstIndex(e,e=>e.rank>t.rank)}_refreshItem(e){const t=this._statusItems[e];!t.isActive()||0===t.priority&&this._isWindowNarrow()?t.item.hide():(t.item.show(),t.item.update())}_refreshAll(){Object.keys(this._statusItems).forEach(e=>{this._refreshItem(e)})}}!function(e){e.statusItemDefaults={align:"left",rank:0,priority:0,isActive:()=>!0,activeStateChanged:void 0}}(p||(p={}));const f=new(o(98238).Token)("@jupyterlab/statusbar:IStatusBar","A service for the status bar on the application. Use this if you want to add new status bar items.")},79112:(e,t,o)=>{o.r(t),o.d(t,{default:()=>q,lineColItem:()=>z});var i=o(68122),n=o(4279),r=o(62939),s=o(85181),a=o(54071),l=o(87725),d=o(88037),c=o(9387),m=o(67704);class u extends c.Component{constructor(e){super(e),this._handleChange=e=>{this.setState({value:e.currentTarget.value})},this._handleSubmit=e=>{e.preventDefault();const t=parseInt(this._textInput.value,10);return!isNaN(t)&&isFinite(t)&&1<=t&&t<=this.props.maxLine&&this.props.handleSubmit(t),!1},this._handleFocus=()=>{this.setState({hasFocus:!0})},this._handleBlur=()=>{this.setState({hasFocus:!1})},this._textInput=null,this.translator=e.translator||s.wK,this._trans=this.translator.load("jupyterlab"),this.state={value:"",hasFocus:!1,textInputId:m.e.createDomID()+"-line-number-input"}}componentDidMount(){this._textInput.focus()}render(){return c.createElement("div",{className:"jp-lineFormSearch"},c.createElement("form",{name:"lineColumnForm",onSubmit:this._handleSubmit,noValidate:!0},c.createElement("div",{className:(0,a.Ly)("jp-lineFormWrapper","lm-lineForm-wrapper",this.state.hasFocus?"jp-lineFormWrapperFocusWithin":void 0)},c.createElement("input",{type:"text",id:this.state.textInputId,className:"jp-lineFormInput",onChange:this._handleChange,onFocus:this._handleFocus,onBlur:this._handleBlur,value:this.state.value,ref:e=>{this._textInput=e}}),c.createElement("div",{className:"jp-baseLineForm jp-lineFormButtonContainer"},c.createElement(l.ox.react,{className:"jp-baseLineForm jp-lineFormButtonIcon",elementPosition:"center"}),c.createElement("input",{type:"submit",className:"jp-baseLineForm jp-lineFormButton",value:""}))),c.createElement("label",{className:"jp-lineFormCaption",htmlFor:this.state.textInputId},this._trans.__("Go to line number between 1 and %1",this.props.maxLine))))}}function p(e){const t=(e.translator||s.wK).load("jupyterlab");return c.createElement(r.pC,{role:"button","aria-haspopup":!0,onClick:e.handleClick,source:t.__("Ln %1, Col %2",e.line,e.column),title:t.__("Go to line numberâ€¦"),tabIndex:0,onKeyDown:t=>{"Enter"!==t.key&&"Spacebar"!==t.key&&" "!==t.key||(t.preventDefault(),t.stopPropagation(),e.handleClick())}})}class h extends d.QX{constructor(e){super(new h.Model),this._popup=null,this.addClass("jp-mod-highlighted"),this.translator=e||s.wK}render(){return null===this.model?null:c.createElement(p,{line:this.model.line,column:this.model.column,translator:this.translator,handleClick:()=>this._handleClick()})}_handleClick(){this._popup&&this._popup.dispose();const e=d._Q.create(c.createElement(u,{handleSubmit:e=>this._handleSubmit(e),currentLine:this.model.line,maxLine:this.model.editor.lineCount,translator:this.translator}));this._popup=(0,r.yp)({body:e,anchor:this,align:"right"})}_handleSubmit(e){this.model.editor.setCursorPosition({line:e-1,column:0}),this._popup.dispose(),this.model.editor.focus()}}!function(e){class t extends d.AF{constructor(){super(...arguments),this._onSelectionChanged=()=>{const e=this._getAllState(),t=this.editor.getCursorPosition();this._line=t.line+1,this._column=t.column+1,this._triggerChange(e,this._getAllState())},this._line=1,this._column=1,this._editor=null}get editor(){return this._editor}set editor(e){var t;const o=this._editor;(null===(t=null==o?void 0:o.model)||void 0===t?void 0:t.selections)&&o.model.selections.changed.disconnect(this._onSelectionChanged);const i=this._getAllState();if(this._editor=e,this._editor){this._editor.model.selections.changed.connect(this._onSelectionChanged);const e=this._editor.getCursorPosition();this._column=e.column+1,this._line=e.line+1}else this._column=1,this._line=1;this._triggerChange(i,this._getAllState())}get line(){return this._line}get column(){return this._column}_getAllState(){return[this._line,this._column]}_triggerChange(e,t){e[0]===t[0]&&e[1]===t[1]||this.stateChanged.emit(void 0)}}e.Model=t}(h||(h={}));var g,b=o(29299),f=o(91959),y=o(34369),v=o(89460),_=o(59179);!function(e){e.deleteLine="codemirror:delete-line",e.toggleBlockComment="codemirror:toggle-block-comment",e.toggleComment="codemirror:toggle-comment",e.selectNextOccurrence="codemirror:select-next-occurrence",e.toggleTabFocusMode="codemirror:toggle-tab-focus-mode",e.foldCurrent="codemirror:fold-current",e.unfoldCurrent="codemirror:unfold-current",e.foldSubregions="codemirror:fold-subregions",e.unfoldSubregions="codemirror:unfold-subregions",e.foldAll="codemirror:fold-all",e.unfoldAll="codemirror:unfold-all"}(g||(g={}));const C=".cm-content",j={id:"@jupyterlab/codemirror-extension:commands",description:"Registers commands acting on selected/active CodeMirror editor.",autoStart:!0,requires:[v.fI],optional:[s.sQ,_.kn],activate:(e,t,o,i)=>{const n=(o=null!=o?o:s.wK).load("jupyterlab"),r=e=>e.classList.contains(C),a=()=>{var t,o;const i=null!==(t=e.contextMenuHitTest(r))&&void 0!==t?t:null===(o=document.activeElement)||void 0===o?void 0:o.closest(C);if(i&&"cmView"in i)return i.cmView.view},l=()=>!!a(),d=()=>{var o,i;const n=e.shell.currentWidget,r=null===(o=t.currentWidget)||void 0===o?void 0:o.content;if(null!==t.currentWidget&&t.currentWidget===n&&r&&r.activeCell)return{type:"notebook",widget:n,notebook:r,isEnabled:!0};const s=n;return s&&s.content&&"function"==typeof(null===(i=s.content.editor)||void 0===i?void 0:i.focus)?{type:"fileEditor",widget:s,isEnabled:!0}:{type:"none",widget:null,isEnabled:!1}},c=()=>d().isEnabled;if(e.commands.addCommand(g.deleteLine,{label:n.__("Delete the current line"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=a();e&&(0,b.SA)(e)},isEnabled:l}),e.commands.addCommand(g.toggleBlockComment,{label:n.__("Toggle Block Comment"),caption:n.__("Toggles block comments in languages which support it (e.g. C, JavaScript)"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=a();e&&(0,b.NH)(e)},isEnabled:l}),e.commands.addCommand(g.toggleComment,{label:n.__("Toggle Comment"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=a();e&&(0,b.qh)(e)},isEnabled:l}),e.commands.addCommand(g.toggleTabFocusMode,{label:n.__("Toggle Tab Focus Mode"),caption:n.__("Toggles behavior of Tab key between inserting indentation and moving to next focusable element"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=a();e&&(0,b.ND)(e)},isEnabled:l}),e.commands.addCommand(g.selectNextOccurrence,{label:n.__("Select Next Occurrence"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{const e=a();e&&(0,y.dg)(e)},isEnabled:l}),e.commands.addCommand(g.foldCurrent,{label:n.__("Fold Current Region"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const t=d();"notebook"===t.type?(t.notebook.mode="edit",t.notebook.activeCell&&(null===(e=t.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===t.type&&t.widget.content.editor.focus();const o=a();if(!o)return;const{state:i}=o,n=i.selection.main.head,r=i.doc.lineAt(n);(0,f.wg)(i,r.from,r.to)&&(0,f.Tm)(o)},isEnabled:c}),e.commands.addCommand(g.unfoldCurrent,{label:n.__("Unfold Current Region"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const t=d();"notebook"===t.type?(t.notebook.mode="edit",t.notebook.activeCell&&(null===(e=t.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===t.type&&t.widget.content.editor.focus();const o=a();if(!o)return;const{state:i}=o,n=i.selection.main.head,r=i.doc.lineAt(n);(0,f.wg)(i,r.from,r.to)&&(0,f.Kc)(o)},isEnabled:c}),e.commands.addCommand(g.foldSubregions,{label:n.__("Fold All Subregions"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const t=d();"notebook"===t.type?(t.notebook.mode="edit",t.notebook.activeCell&&(null===(e=t.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===t.type&&t.widget.content.editor.focus();const o=a();if(o)try{const{state:e}=o,t=e.selection.main.head,i=e.doc.lineAt(t),n=(0,f.wg)(e,i.from,i.to);let r=!1;try{r=void 0!==e.field(f.rI,!1)}catch(e){r=!1}if(r||((0,f.Tm)(o),(0,f.Kc)(o)),!n)return;const s=[];let a=n.from+1;for(;a<n.to;){const t=e.doc.lineAt(a),o=(0,f.wg)(e,t.from,t.to);o&&o.from>n.from&&o.to<=n.to?(s.push(f.R3.of(o)),a=o.to):a=t.to+1}s.length>0&&o.dispatch({effects:s})}catch(e){}},isEnabled:c}),e.commands.addCommand(g.unfoldSubregions,{label:n.__("Unfold All Subregions"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const t=d();"notebook"===t.type?(t.notebook.mode="edit",t.notebook.activeCell&&(null===(e=t.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===t.type&&t.widget.content.editor.focus();const o=a();if(o)try{const{state:e}=o,t=e.selection.main.head,i=e.doc.lineAt(t),n=(0,f.wg)(e,i.from,i.to);if(!n)return;const r=e.field(f.rI,!1);if(!r)return;const s=[];r.between(n.from+1,n.to,(e,t)=>{e>n.from&&t<=n.to&&s.push(f.c1.of({from:e,to:t}))}),s.length>0&&o.dispatch({effects:s})}catch(e){}},isEnabled:c}),e.commands.addCommand(g.foldAll,{label:n.__("Fold All Regions"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const t=d();"notebook"===t.type?(t.notebook.mode="edit",t.notebook.activeCell&&(null===(e=t.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===t.type&&t.widget.content.editor.focus();const o=a();if(o)try{(0,f.hY)(o)}catch(e){}},isEnabled:c}),e.commands.addCommand(g.unfoldAll,{label:n.__("Unfold All Regions"),describedBy:{args:{type:"object",properties:{}}},execute:()=>{var e;const t=d();"notebook"===t.type?(t.notebook.mode="edit",t.notebook.activeCell&&(null===(e=t.notebook.activeCell.editor)||void 0===e||e.focus())):"fileEditor"===t.type&&t.widget.content.editor.focus();const o=a();if(o)try{(0,f._I)(o)}catch(e){}},isEnabled:c}),i){const e=n.__("File Operations");[g.foldCurrent,g.unfoldCurrent,g.foldSubregions,g.unfoldSubregions,g.foldAll,g.unfoldAll].forEach(t=>{i.addItem({command:t,category:e})})}}};var E=o(1290),k=o(69584),x=o(61110),w=o(98238),S=o(36928),F=o(95924);const I={submitButtonOptions:{norender:!0}},N=e=>{var t;const o=(null!==(t=e.translator)&&void 0!==t?t:s.wK).load("jupyterlab");let i;if("icons"===e.buttonStyle){const t={tag:"span",elementSize:"xlarge",elementPosition:"center"};i="up"===e.direction?c.createElement(l.YT.react,{...t}):c.createElement(l.jH.react,{...t})}else i="up"===e.direction?o.__("Move up"):o.__("Move down");const n="up"===e.direction?e.item.index-1:e.item.index+1;return c.createElement("button",{className:"jp-mod-styled jp-mod-reject jp-ArrayOperationsButton",onClick:e.item.onReorderClick(e.item.index,n),disabled:"up"===e.direction?!e.item.hasMoveUp:!e.item.hasMoveDown},i)},A=e=>{var t;const o=(null!==(t=e.translator)&&void 0!==t?t:s.wK).load("jupyterlab");let i;return i="icons"===e.buttonStyle?c.createElement(l.ut.react,{tag:"span",elementSize:"xlarge",elementPosition:"center"}):o.__("Remove"),c.createElement("button",{className:"jp-mod-styled jp-mod-warn jp-ArrayOperationsButton",onClick:e.item.onDropIndexClick(e.item.index)},i)},B=e=>{var t;const o=(null!==(t=e.translator)&&void 0!==t?t:s.wK).load("jupyterlab");let i;return i="icons"===e.buttonStyle?c.createElement(l.Xv.react,{tag:"span",elementSize:"xlarge",elementPosition:"center"}):o.__("Add"),c.createElement("button",{className:"jp-mod-styled jp-mod-reject jp-ArrayOperationsButton",onClick:e.onAddClick},i)};function T(e){const{component:t,name:o,buttonStyle:i,compact:n,showModifiedFromDefault:r,translator:a}=e,l=null!=n&&n,d=null!=i?i:l?"icons":"text",c=e=>t({...e,buttonStyle:d,compact:l,showModifiedFromDefault:null==r||r,translator:null!=a?a:s.wK});return o&&(c.displayName=o),c}function D(e,t){return{TitleField:(0,F.$F)("TitleFieldTemplate",e,t),DescriptionField:(0,F.$F)("DescriptionFieldTemplate",e,t)}}function M(e){const{buttonStyle:t,compact:o,showModifiedFromDefault:i,translator:n,formContext:r,...a}=e,l={...a.uiSchema||w.JSONExt.emptyObject};l["ui:options"]={...I,...l["ui:options"]},a.uiSchema=l;const{FieldTemplate:d,ArrayFieldTemplate:m,ObjectFieldTemplate:u}=e.templates||w.JSONExt.emptyObject,p={buttonStyle:t,compact:o,showModifiedFromDefault:i,translator:n},h=c.useMemo(()=>{return null!=d?d:(e=p,T({...e,name:"JupyterLabFieldTemplate",component:e=>{var t;const o=(null!==(t=e.translator)&&void 0!==t?t:s.wK).load("jupyterlab");let i,n=!1;const{formData:r,schema:a,label:l,displayLabel:d,id:m,formContext:u,errors:p,rawErrors:h,children:g,onKeyChange:b,onDropPropertyClick:f}=e,{defaultFormData:y}=u,v=m.split("_");v.shift();const _=v.join("."),C=""===_,j=_===(e.uiSchema||w.JSONExt.emptyObject)["ui:field"];e.showModifiedFromDefault&&(i=v.reduce((e,t)=>null==e?void 0:e[t],y),n=!C&&void 0!==r&&void 0!==i&&!a.properties&&"array"!==a.type&&!w.JSONExt.deepEqual(r,i));const E=!C&&"object"!=a.type&&"jp-SettingsEditor-@jupyterlab/shortcuts-extension:shortcuts_shortcuts"!=m,k=a.hasOwnProperty(F.Rr),x=!("object"===a.type||"array"===a.type);return c.createElement("div",{className:"form-group "+(d||"boolean"===a.type?"small-field":"")},!j&&((null==h?void 0:h.length)?c.createElement("div",{className:"jp-modifiedIndicator jp-errorIndicator"}):n&&c.createElement("div",{className:"jp-modifiedIndicator"})),c.createElement("div",{className:"jp-FormGroup-content "+(e.compact?"jp-FormGroup-contentCompact":"jp-FormGroup-contentNormal")},x&&d&&!C&&l&&!k?e.compact?c.createElement("div",{className:"jp-FormGroup-compactTitle"},c.createElement("div",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},l),x&&a.description&&E&&c.createElement("div",{className:"jp-FormGroup-description"},a.description)):c.createElement("h3",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},l):c.createElement(c.Fragment,null),k&&c.createElement("input",{className:"jp-FormGroup-contentItem jp-mod-styled",type:"text",onBlur:e=>b(e.target.value),defaultValue:l}),c.createElement("div",{className:C?"jp-root":"object"===a.type?"jp-objectFieldWrapper":"array"===a.type?"jp-arrayFieldWrapper":"jp-inputFieldWrapper jp-FormGroup-contentItem"},g),k&&c.createElement("button",{className:"jp-FormGroup-contentItem jp-mod-styled jp-mod-warn jp-FormGroup-removeButton",onClick:f(l)},o.__("Remove")),!e.compact&&a.description&&E&&c.createElement("div",{className:"jp-FormGroup-description"},a.description),n&&void 0!==i&&"object"!==a.type&&c.createElement("div",{className:"jp-FormGroup-default"},o.__("Default: %1",null!==i?i.toLocaleString():"null")),c.createElement("div",{className:"validationErrors"},p)))}}));var e},[d,t,o,i,n]),g=c.useMemo(()=>{return null!=m?m:(e=p,T({...e,name:"JupyterLabArrayTemplate",component:e=>{var t;const{schema:o,registry:i,uiSchema:n,required:r}=e,s={schema:o,registry:i,uiSchema:n,required:r},{TitleField:a,DescriptionField:l}=D(i,n);return c.createElement("div",{className:e.className},e.compact?c.createElement("div",{className:"jp-FormGroup-compactTitle"},c.createElement("div",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem",id:`${e.idSchema.$id}__title`},e.title||""),c.createElement("div",{className:"jp-FormGroup-description",id:`${e.idSchema.$id}-description`},e.schema.description||"")):c.createElement(c.Fragment,null,e.title&&c.createElement(a,{...s,title:e.title,id:`${e.idSchema.$id}-title`}),c.createElement(l,{...s,id:`${e.idSchema.$id}-description`,description:null!==(t=e.schema.description)&&void 0!==t?t:""})),e.items.map(t=>c.createElement("div",{key:t.key,className:t.className},t.children,c.createElement("div",{className:"jp-ArrayOperations"},c.createElement(N,{buttonStyle:e.buttonStyle,translator:e.translator,item:t,direction:"up"}),c.createElement(N,{buttonStyle:e.buttonStyle,translator:e.translator,item:t,direction:"down"}),c.createElement(A,{buttonStyle:e.buttonStyle,translator:e.translator,item:t})))),e.canAdd&&c.createElement(B,{onAddClick:e.onAddClick,buttonStyle:e.buttonStyle,translator:e.translator}))}}));var e},[m,t,o,i,n]),b=c.useMemo(()=>{return null!=u?u:(e=p,T({...e,name:"JupyterLabObjectTemplate",component:e=>{var t;const{schema:o,registry:i,uiSchema:n,required:r}=e,s={schema:o,registry:i,uiSchema:n,required:r},{TitleField:a,DescriptionField:l}=D(i,n);return c.createElement("fieldset",{id:e.idSchema.$id},e.compact?c.createElement("div",{className:"jp-FormGroup-compactTitle"},c.createElement("div",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem",id:`${e.idSchema.$id}__title`},e.title||""),c.createElement("div",{className:"jp-FormGroup-description",id:`${e.idSchema.$id}__description`},e.schema.description||"")):c.createElement(c.Fragment,null,(e.title||(e.uiSchema||w.JSONExt.emptyObject)["ui:title"])&&c.createElement(a,{...s,id:`${e.idSchema.$id}__title`,title:e.title||`${(e.uiSchema||w.JSONExt.emptyObject)["ui:title"]}`||""}),c.createElement(l,{...s,id:`${e.idSchema.$id}__description`,description:null!==(t=e.schema.description)&&void 0!==t?t:""})),e.properties.map(e=>e.content),(0,F.Xl)(e.schema,e.uiSchema,e.formData)&&c.createElement(B,{onAddClick:e.onAddClick(e.schema),buttonStyle:e.buttonStyle,translator:e.translator}))}}));var e},[u,t,o,i,n]),f={FieldTemplate:h,ArrayFieldTemplate:g,ObjectFieldTemplate:b};return c.createElement(S.Ay,{templates:f,formContext:r,...a})}var G=o(61730);const L="@jupyterlab/codemirror-extension:plugin",$={id:"@jupyterlab/codemirror-extension:languages",description:"Provides the CodeMirror languages registry.",provides:E.SW,optional:[s.sQ],activate:(e,t)=>{const i=new E.T9;for(const e of E.T9.getDefaultLanguages(t))i.addLanguage(e);return i.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>{const[e,t,n]=await Promise.all([Promise.all([o.e(6636),o.e(9946),o.e(2899),o.e(5949)]).then(o.bind(o,15949)),o.e(9388).then(o.bind(o,9388)),o.e(3e3).then(o.bind(o,43e3))]),r=e.markdown({base:e.markdownLanguage,codeLanguages:e=>i.findBest(e),extensions:[(0,E.vE)(f.Tg.define(n.stexMath).parser)]});return new f.Yy(r.language,[r.support,(0,E.Q0)(t.pythonLanguage)])}}),i}},R={id:"@jupyterlab/codemirror-extension:themes",description:"Provides the CodeMirror theme registry",provides:E.hc,optional:[s.sQ],activate:(e,t)=>{const o=new E.k8;for(const e of E.k8.getDefaultThemes(t))o.addTheme(e);return o}},W={id:"@jupyterlab/codemirror-extension:extensions",description:"Provides the CodeMirror extension factory registry.",provides:E.B,requires:[E.hc],optional:[s.sQ,k.X,x.g],activate:(e,t,o,i,n)=>{const r=new E.AG;for(const e of E.AG.getDefaultExtensions({themes:t,translator:o}))r.addExtension(e);if(i){const t=e=>{var t;r.baseConfiguration=null!==(t=e.get("defaultConfig").composite)&&void 0!==t?t:{}};Promise.all([i.load(L),e.restored]).then(([e])=>{t(e),e.changed.connect(t)}),null==n||n.addRenderer(`${L}.defaultConfig`,{fieldRenderer:e=>{let t;const i=c.useMemo(()=>r.settingsSchema,[]);t=e.name in e.formContext.defaultFormData?e.formContext.defaultFormData[e.name]:{};for(const[e,o]of Object.entries(r.defaultConfiguration))void 0===i[e]||e in t||(t[e]=o);return c.createElement("div",{className:"jp-FormGroup-contentNormal"},c.createElement("h3",{className:"jp-FormGroup-fieldLabel jp-FormGroup-contentItem"},e.schema.title),e.schema.description&&c.createElement("div",{className:"jp-FormGroup-description"},e.schema.description),c.createElement(M,{schema:{title:e.schema.title,description:e.schema.description,type:"object",properties:i,additionalProperties:!1},validator:G.Ay,formData:{...t,...e.formData},formContext:{defaultFormData:t},liveValidate:!0,onChange:o=>{var i;const n={};for(const[e,r]of Object.entries(null!==(i=o.formData)&&void 0!==i?i:{})){const o=t[e];void 0!==o&&w.JSONExt.deepEqual(r,o)||(n[e]=r)}e.onChange(n)},tagName:"div",translator:null!=o?o:s.wK}))}})}return r}},P={id:"@jupyterlab/codemirror-extension:binding",description:"Register the CodeMirror extension factory binding the editor and the shared model.",autoStart:!0,requires:[E.B],activate:(e,t)=>{t.addExtension({name:"shared-model-binding",factory:e=>{var t;const o=e.model.sharedModel;return E.AG.createImmutableExtension((0,E.rX)({ytext:o.ysource,undoManager:null!==(t=o.undoManager)&&void 0!==t?t:void 0}))}})}},O={id:"@jupyterlab/codemirror-extension:services",description:"Provides the service to instantiate CodeMirror editors.",provides:n.Fe,requires:[E.SW,E.B],optional:[s.sQ],activate:(e,t,o,i)=>({factoryService:new E.Ez({extensions:o,languages:t,translator:null!=i?i:s.wK}),mimeTypeService:new E.mN(t)})},z={id:"@jupyterlab/codemirror-extension:line-col-status",description:"Provides the code editor cursor position model.",autoStart:!0,requires:[s.sQ],optional:[i.V,r.$O],provides:n.UT,activate:(e,t,o,i)=>{const n=new h(t),r=new Set;function s(e,t){Promise.all([...r].map(e=>e(t.newValue))).then(e=>{var t;n.model.editor=null!==(t=e.filter(e=>null!==e)[0])&&void 0!==t?t:null}).catch(e=>{console.error("Get editors",e)})}return i&&i.registerStatusItem(z.id,{priority:1,item:n,align:"right",rank:2,isActive:()=>!!n.model.editor}),o&&o.currentChanged.connect(s),{addEditorProvider:t=>{r.add(t),e.shell.currentWidget&&s(e.shell,{newValue:e.shell.currentWidget,oldValue:null})},update:()=>{s(e.shell,{oldValue:e.shell.currentWidget,newValue:e.shell.currentWidget})}}}},q=[j,$,R,P,W,O,z]}}]);