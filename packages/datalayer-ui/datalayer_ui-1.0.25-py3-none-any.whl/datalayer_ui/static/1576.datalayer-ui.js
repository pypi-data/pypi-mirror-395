"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[1576],{53819:(e,t,n)=>{n.d(t,{PP:()=>o,_:()=>c,_U:()=>a});var r=n(98238);const a=new r.Token("@jupyterlab/filebrowser:IFileBrowserFactory","A factory object that creates file browsers.\n  Use this if you want to create your own file browser (e.g., for a custom storage backend),\n  or to interact with other file browsers that have been created by extensions."),o=new r.Token("@jupyterlab/filebrowser:IDefaultFileBrowser","A service for the default file browser."),c=new r.Token("@jupyterlab/filebrowser:IFileBrowserCommands","A token to ensure file browser commands are loaded.")},81576:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r,a=n(68122),o=n(59179),c=n(62863),s=n(53819),i=n(97371),l=n(2335),d=n(85181),h=n(88037),m=n(72879),u=n(54071),p=n(38921),_=n(79246),w=n(15503),f=n(14809),b=n(9387);class y extends h.AF{constructor(){super(...arguments),this.itemsList=[]}add(e){const t=r.createItem(e);return this.itemsList.push(t),this.stateChanged.emit(void 0),new _.DisposableDelegate(()=>{p.ArrayExt.removeFirstOf(this.itemsList,t),this.stateChanged.emit(void 0)})}items(){return this.itemsList[Symbol.iterator]()}}class g extends h.QX{constructor(e){super(e.model),this._pending=!1,this._cwd="",this._cwd=e.cwd,this.translator=e.translator||d.wK,this._trans=this.translator.load("jupyterlab"),this._callback=e.callback,this._commands=e.commands,this.addClass("jp-Launcher")}get cwd(){return this._cwd}set cwd(e){this._cwd=e,this.update()}get pending(){return this._pending}set pending(e){this._pending=e}render(){if(!this.model)return null;const e=[this._trans.__("Notebook"),this._trans.__("Console"),this._trans.__("Other")],t=[this._trans.__("Notebook"),this._trans.__("Console")],n=Object.create(null);for(const e of this.model.items()){const t=e.category||this._trans.__("Other");t in n||(n[t]=[]),n[t].push(e)}for(const e in n)n[e]=n[e].sort((e,t)=>r.sortCmp(e,t,this._cwd,this._commands));const a=[];let o;const c=[];for(const t of e)c.push(t);for(const t in n)-1===e.indexOf(t)&&c.push(t);return c.forEach(e=>{if(!n[e])return;const c=n[e][0],s={...c.args,cwd:this.cwd},i=t.indexOf(e)>-1,d=this._commands.iconClass(c.command,s),h=this._commands.icon(c.command,s);e in n&&(o=b.createElement("div",{className:"jp-Launcher-section",key:e},b.createElement("div",{className:"jp-Launcher-sectionHeader"},b.createElement(m.Tl.resolveReact,{icon:h,iconClass:(0,u.Ly)(d,"jp-Icon-cover"),stylesheet:"launcherSection","aria-hidden":"true"}),b.createElement("h2",{className:"jp-Launcher-sectionTitle"},e)),b.createElement("div",{className:"jp-Launcher-cardContainer"},Array.from((0,p.map)(n[e],e=>function(e,t,n,a,o,c){const s=t.command,i={...t.args,cwd:n.cwd},d=a.caption(s,i),h=a.label(s,i),p=e?h:d||h,_=()=>{!0!==n.pending&&(n.pending=!0,a.execute(s,{...t.args,cwd:n.cwd}).then(e=>{n.pending=!1,e instanceof f.x0&&c(e)}).catch(e=>{console.error(e),n.pending=!1,(0,l.f1)(o._p("Error","Launcher Error"),e)}))},w=a.iconClass(s,i),y=a.icon(s,i);return b.createElement("div",{className:"jp-LauncherCard",title:p,role:"button",onClick:_,onKeyDown:e=>{"Enter"===e.key&&_()},tabIndex:0,"data-category":t.category||o.__("Other"),key:r.keyProperty.get(t)},b.createElement("div",{className:"jp-LauncherCard-icon"},e?t.kernelIconUrl?b.createElement("img",{src:t.kernelIconUrl,className:"jp-Launcher-kernelIcon",alt:p}):b.createElement("div",{className:"jp-LauncherCard-noKernelIcon"},h[0].toUpperCase()):b.createElement(m.Tl.resolveReact,{icon:y,iconClass:(0,u.Ly)(w,"jp-Icon-cover"),stylesheet:"launcherCard"})),b.createElement("div",{className:"jp-LauncherCard-label",title:p},b.createElement("p",null,h)))}(i,e,this,this._commands,this._trans,this._callback))))),a.push(o))}),b.createElement("div",{className:"jp-Launcher-body"},b.createElement("div",{className:"jp-Launcher-content"},b.createElement("div",{className:"jp-Launcher-cwd"},b.createElement("h3",null,this.cwd)),a))}}!function(e){let t=0;e.keyProperty=new w.AttachedProperty({name:"key",create:()=>t++}),e.createItem=function(e){return{...e,category:e.category||"",rank:void 0!==e.rank?e.rank:1/0}},e.sortCmp=function(e,t,n,r){const a=e.rank,o=t.rank;if(a!==o&&void 0!==a&&void 0!==o)return a<o?-1:1;const c=r.label(e.command,{...e.args,cwd:n}),s=r.label(t.command,{...t.args,cwd:n});return c.localeCompare(s)}}(r||(r={}));var v,k=n(87725);!function(e){e.create="launcher:create"}(v||(v={}));const C={activate:function(e,t,n,r,a){const{commands:o,shell:s}=e,i=t.load("jupyterlab"),l=new y;return o.addCommand(v.create,{label:i.__("New Launcher"),icon:e=>e.toolbar?k.Xv:void 0,describedBy:{args:{type:"object",properties:{cwd:{type:"string",description:i.__("The current working directory")},toolbar:{type:"boolean",description:i.__("Whether the command is executed from a toolbar")},activate:{type:"boolean",description:i.__("Whether to activate the widget")},ref:{type:"string",description:i.__("The reference widget id")}}}},execute:e=>{var r,d;const h=null!==(d=null!==(r=e.cwd)&&void 0!==r?r:null==a?void 0:a.model.path)&&void 0!==d?d:"",m="launcher-"+E.id++,u=new g({model:l,cwd:h,callback:e=>{(0,p.find)(s.widgets("main"),t=>t===e)&&(s.add(e,"main",{ref:m}),u.dispose())},commands:o,translator:t});u.model=l,u.title.icon=k.Ez,u.title.label=i.__("Launcher");const _=new c.p({content:u});if(_.title.closable=!!Array.from(s.widgets("main")).length,_.id=m,s.add(_,"main",{activate:e.activate,ref:e.ref}),n&&n.layoutModified.connect(()=>{_.title.closable=Array.from(n.widgets("main")).length>1},_),a){const e=e=>{u.cwd=e.path};a.model.pathChanged.connect(e),u.disposed.connect(()=>{a.model.pathChanged.disconnect(e)})}return _}}),n&&Promise.all([e.restored,null==a?void 0:a.model.restored]).then(()=>{n.layoutModified.connect(()=>{n.isEmpty("main")&&o.execute(v.create)})}),r&&r.addItem({command:v.create,category:i.__("Launcher")}),n&&(n.addButtonEnabled=!0,n.addRequested.connect((e,t)=>{var n;const r=(null===(n=t.currentTitle)||void 0===n?void 0:n.owner.id)||t.titles[t.titles.length-1].owner.id;return o.execute(v.create,{ref:r})})),l},id:"@jupyterlab/launcher-extension:plugin",description:"Provides the launcher tab service.",requires:[d.sQ],optional:[a.V,o.kn,s.PP],provides:i.k,autoStart:!0},j=C;var E;!function(e){e.id=0}(E||(E={}))}}]);