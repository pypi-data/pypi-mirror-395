"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[556],{19152:(e,n,t)=>{t.d(n,{A:()=>r});class r{constructor(){this._commands=new Array}get ids(){return this._commands.map(e=>e.id)}add(e){if(this._commands.map(e=>e.id).includes(e.id))throw Error(`Command ${e.id} is already defined.`);this._commands.push({isEnabled:()=>!0,rank:r.DEFAULT_RANK,...e})}getActiveCommandId(e){var n;return(null!==(n=this._commands.filter(n=>n.isEnabled(e)).sort((e,n)=>e.rank-n.rank||(e.id<n.id?-1:1))[0])&&void 0!==n?n:{id:null}).id}remove(e){const n=this._commands.findIndex(n=>n.id===e);n>=0&&this._commands.splice(n,1)}}r.DEFAULT_RANK=500,r.WIDGET="semanticWidget"},24534:(e,n,t)=>{t.d(n,{K:()=>r});var r,s=t(63711),a=t(72879),i=t(98238);!function(e){function n(e,n){var r,i;const o=n(e);return o.id=e.id,o.title.label||(o.title.label=null!==(r=e.label)&&void 0!==r?r:s.Text.titleCase(o.id.trim())),e.icon&&(o.title.icon=a.Tl.resolve({icon:e.icon})),void 0!==e.mnemonic&&(o.title.mnemonic=e.mnemonic),null===(i=e.items)||void 0===i||i.filter(e=>!e.disabled).sort((e,n)=>{var t,r;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(r=n.rank)&&void 0!==r?r:1/0)}).map(e=>{t(e,o,n)}),o}function t(e,t,r){const{submenu:s,...a}=e;t.addItem({...a,submenu:s?n(s,r):null})}function r(e,n,s){var a;e.disabled?n.dispose():null===(a=e.items)||void 0===a||a.forEach(e=>{var a,o;const d=null==n?void 0:n.items.find((n,t)=>{var r,s,a;return n.type===e.type&&n.command===(null!==(r=e.command)&&void 0!==r?r:"")&&(null===(s=n.submenu)||void 0===s?void 0:s.id)===(null===(a=e.submenu)||void 0===a?void 0:a.id)});if(d&&"separator"!==e.type)if(e.disabled)n.removeItem(d);else switch(null!==(a=e.type)&&void 0!==a?a:"command"){case"command":e.command&&(i.JSONExt.deepEqual(d.args,null!==(o=e.args)&&void 0!==o?o:{})||t(e,n,s));break;case"submenu":e.submenu&&r(e.submenu,d.submenu,s)}else t(e,n,s)})}e.createMenus=function(e,t){return e.filter(e=>!e.disabled).sort((e,n)=>{var t,r;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(r=n.rank)&&void 0!==r?r:1/0)}).map(e=>n(e,t))},e.addContextItem=function(e,t,r){const{submenu:s,...a}=e;t.addItem({...a,submenu:s?n(s,r):null})},e.updateMenus=function(e,t,s){const a=[];return t.forEach(t=>{const i=e.find(e=>e.id===t.id);i?r(t,i,s):t.disabled||a.push(n(t,s))}),e.push(...a),a}}(r||(r={}))},53819:(e,n,t)=>{t.d(n,{PP:()=>a,_:()=>i,_U:()=>s});var r=t(98238);const s=new r.Token("@jupyterlab/filebrowser:IFileBrowserFactory","A factory object that creates file browsers.\n  Use this if you want to create your own file browser (e.g., for a custom storage backend),\n  or to interact with other file browsers that have been created by extensions."),a=new r.Token("@jupyterlab/filebrowser:IDefaultFileBrowser","A service for the default file browser."),i=new r.Token("@jupyterlab/filebrowser:IFileBrowserCommands","A token to ensure file browser commands are loaded.")},60556:(e,n,t)=>{t.r(n),t.d(n,{CommandIDs:()=>N,default:()=>F});var r=t(19823),s=t(68122),a=t(19152),i=t(85181);function o(e){const{id:n,commands:t,shell:r,semanticCommands:s,default:a,overrides:o,trans:l}=e;t.addCommand(n,{...d({commands:t,shell:r},s,null!=a?a:{},null!=l?l:i.wK.load("jupyterlab")),...o});const u=Array.isArray(s)?s:[s],c=(e,t)=>{if(t.id)if(t.id===n&&"removed"===t.type)e.commandChanged.disconnect(c);else if(u.reduce((e,n)=>e.concat(n.ids),[]).includes(t.id))switch(t.type){case"changed":case"many-changed":e.notifyCommandChanged(n);break;case"removed":for(const e of u)e.remove(t.id)}};t.commandChanged.connect(c)}function d(e,n,t,r){const{commands:s,shell:i}=e,o=Array.isArray(n)?n:[n];return{label:l("label"),caption:l("caption"),isEnabled:()=>{var e;const n=d("isEnabled");return n.length>0&&!n.some(e=>!1===e)||null!==(e=t.isEnabled)&&void 0!==e&&e},isToggled:()=>{var e;return d("isToggled").some(e=>!0===e)||null!==(e=t.isToggled)&&void 0!==e&&e},isVisible:()=>{var e;const n=d("isVisible");return n.length>0&&!n.some(e=>!1===e)||null===(e=t.isVisible)||void 0===e||e},execute:async()=>{const e=i.currentWidget,n=o.map(n=>null!==e?n.getActiveCommandId(e):null).filter(e=>null!==e&&s.isEnabled(e));let r=null;if(n.length>0)for(const t of n){const n={[a.A.WIDGET]:e.id};if(r=await s.execute(t,n),"boolean"==typeof r&&!1===r)break}else t.execute&&(r=await s.execute(t.execute));return r}};function d(e){const n=i.currentWidget;return o.map(e=>null!==n?e.getActiveCommandId(n):null).filter(e=>null!==e).map(n=>s[e](n))}function l(e){return()=>{var n;const s=d(e).map((n,t)=>"caption"==e&&t>0?n.toLocaleLowerCase():n);switch(s.length){case 0:return null!==(n=t[e])&&void 0!==n?n:"";case 1:return s[0];default:{const e=s.some(e=>/…$/.test(e)),n=s.slice(void 0,-1).map(e=>e.replace(/…$/,"")).join(", "),t=s.slice(-1)[0].replace(/…$/,"")+(e?"…":"");return r.__("%1 and %2",n,t)}}}}}var l,u=t(59179),c=t(2335),m=t(24534),p=t(63711),h=t(7053),b=t(53119),_=t(68704),g=t(38921),f=t(14809);class v extends _.z{constructor(e){super(e),this.undoers={redo:new a.A,undo:new a.A},this.clearers={clearAll:new a.A,clearCurrent:new a.A},this.goToLiners=new a.A}}class y extends _.z{constructor(e){super(e),this.quitEntry=!1,this.closeAndCleaners=new a.A,this.consoleCreators=new a.A}get newMenu(){var e,n;return this._newMenu||(this._newMenu=null!==(n=null===(e=(0,g.find)(this.items,e=>{var n;return"jp-mainmenu-file-new"===(null===(n=e.submenu)||void 0===n?void 0:n.id)}))||void 0===e?void 0:e.submenu)&&void 0!==n?n:new _.z({commands:this.commands})),this._newMenu}dispose(){var e;null===(e=this._newMenu)||void 0===e||e.dispose(),super.dispose()}}class w extends _.z{constructor(e){super(e),this.getKernel=new a.A}}class k extends _.z{constructor(e){super(e),this.kernelUsers={changeKernel:new a.A,clearWidget:new a.A,interruptKernel:new a.A,reconnectToKernel:new a.A,restartKernel:new a.A,shutdownKernel:new a.A}}}class M extends _.z{constructor(e){super(e),this.codeRunners={restart:new a.A,run:new a.A,runAll:new a.A}}}class A extends _.z{constructor(e){super(e)}}class C extends _.z{constructor(e){super(e)}}class j extends _.z{constructor(e){super(e),this.editorViewers={toggleLineNumbers:new a.A,toggleMinimap:new a.A,toggleMatchBrackets:new a.A,toggleWordWrap:new a.A}}}class R extends f.Rj{constructor(e){super({forceItemsPosition:{forceX:!1,forceY:!0}}),this._items=[],this._commands=e}get editMenu(){return this._editMenu||(this._editMenu=new v({commands:this._commands,rank:2,renderer:b.e.defaultRenderer})),this._editMenu}get fileMenu(){return this._fileMenu||(this._fileMenu=new y({commands:this._commands,rank:1,renderer:b.e.defaultRenderer})),this._fileMenu}get helpMenu(){return this._helpMenu||(this._helpMenu=new w({commands:this._commands,rank:1e3,renderer:b.e.defaultRenderer})),this._helpMenu}get kernelMenu(){return this._kernelMenu||(this._kernelMenu=new k({commands:this._commands,rank:5,renderer:b.e.defaultRenderer})),this._kernelMenu}get runMenu(){return this._runMenu||(this._runMenu=new M({commands:this._commands,rank:4,renderer:b.e.defaultRenderer})),this._runMenu}get settingsMenu(){return this._settingsMenu||(this._settingsMenu=new A({commands:this._commands,rank:999,renderer:b.e.defaultRenderer})),this._settingsMenu}get viewMenu(){return this._viewMenu||(this._viewMenu=new j({commands:this._commands,rank:3,renderer:b.e.defaultRenderer})),this._viewMenu}get tabsMenu(){return this._tabsMenu||(this._tabsMenu=new C({commands:this._commands,rank:500,renderer:b.e.defaultRenderer})),this._tabsMenu}addMenu(e,n=!0,t={}){if(g.ArrayExt.firstIndexOf(this.menus,e)>-1)return;b.e.overrideDefaultRenderer(e);const r={menu:e,rank:"rank"in t?t.rank:"rank"in e?e.rank:_.a.DEFAULT_RANK},s=g.ArrayExt.upperBound(this._items,r,l.itemCmp);switch(e.disposed.connect(this._onMenuDisposed,this),g.ArrayExt.insert(this._items,s,r),this.insertMenu(s,e),e.id){case"jp-mainmenu-file":!this._fileMenu&&e instanceof y&&(this._fileMenu=e);break;case"jp-mainmenu-edit":!this._editMenu&&e instanceof v&&(this._editMenu=e);break;case"jp-mainmenu-view":!this._viewMenu&&e instanceof j&&(this._viewMenu=e);break;case"jp-mainmenu-run":!this._runMenu&&e instanceof M&&(this._runMenu=e);break;case"jp-mainmenu-kernel":!this._kernelMenu&&e instanceof k&&(this._kernelMenu=e);break;case"jp-mainmenu-tabs":!this._tabsMenu&&e instanceof C&&(this._tabsMenu=e);break;case"jp-mainmenu-settings":!this._settingsMenu&&e instanceof A&&(this._settingsMenu=e);break;case"jp-mainmenu-help":!this._helpMenu&&e instanceof w&&(this._helpMenu=e)}}dispose(){var e,n,t,r,s,a,i,o;null===(e=this._editMenu)||void 0===e||e.dispose(),null===(n=this._fileMenu)||void 0===n||n.dispose(),null===(t=this._helpMenu)||void 0===t||t.dispose(),null===(r=this._kernelMenu)||void 0===r||r.dispose(),null===(s=this._runMenu)||void 0===s||s.dispose(),null===(a=this._settingsMenu)||void 0===a||a.dispose(),null===(i=this._viewMenu)||void 0===i||i.dispose(),null===(o=this._tabsMenu)||void 0===o||o.dispose(),super.dispose()}static generateMenu(e,n,t){let r;const{id:s,label:a,rank:i}=n;switch(s){case"jp-mainmenu-file":r=new y({commands:e,rank:i,renderer:b.e.defaultRenderer});break;case"jp-mainmenu-edit":r=new v({commands:e,rank:i,renderer:b.e.defaultRenderer});break;case"jp-mainmenu-view":r=new j({commands:e,rank:i,renderer:b.e.defaultRenderer});break;case"jp-mainmenu-run":r=new M({commands:e,rank:i,renderer:b.e.defaultRenderer});break;case"jp-mainmenu-kernel":r=new k({commands:e,rank:i,renderer:b.e.defaultRenderer});break;case"jp-mainmenu-tabs":r=new C({commands:e,rank:i,renderer:b.e.defaultRenderer});break;case"jp-mainmenu-settings":r=new A({commands:e,rank:i,renderer:b.e.defaultRenderer});break;case"jp-mainmenu-help":r=new w({commands:e,rank:i,renderer:b.e.defaultRenderer});break;default:r=new _.z({commands:e,rank:i,renderer:b.e.defaultRenderer})}return a&&(r.title.label=t._p("menu",a)),r}_onMenuDisposed(e){this.removeMenu(e);const n=g.ArrayExt.findFirstIndex(this._items,n=>n.menu===e);-1!==n&&g.ArrayExt.removeAt(this._items,n)}}!function(e){e.itemCmp=function(e,n){return e.rank-n.rank}}(l||(l={}));var x,E=t(97789),B=t(69584),I=t(15334),K=t(87725),S=t(98238),T=t(60872),D=t(53819);!function(e){e.openRecent="recentmenu:open-recent",e.reopenLast="recentmenu:reopen-last",e.clearRecents="docmanager:clear-recents"}(x||(x={}));class O extends f.W1{constructor(e){super(e),this._manager=e.manager,this._showDirectories=e.showDirectories,this.updateItems(),this._manager.changed.connect(this.updateItems,this)}async _validateRecentlyOpened(){Promise.all(this._manager.recentlyOpened.map(e=>this._manager.validate(e)))}onBeforeAttach(e){const n=new S.PromiseDelegate;setTimeout(()=>{n.reject("Recents validation timed out.")},550),Promise.race([n.promise,this._validateRecentlyOpened()]).then(()=>{this.update()}).catch(()=>{}),super.onBeforeAttach(e)}updateItems(){this.clearItems(),this.addItem({command:x.reopenLast}),this.addItem({type:"separator"});let e=!0,n=!1;this._manager.recentlyOpened.sort((e,n)=>e.contentType===n.contentType?0:"directory"!==e.contentType?1:-1).forEach(t=>{if("directory"===t.contentType){if(!this._showDirectories)return;n=!0}else e&&n&&(e=!1,this.addItem({type:"separator"}));this.addItem({command:x.openRecent,args:{recent:t}})}),this.addItem({type:"separator"}),this.addItem({command:x.clearRecents})}}const L={id:"@jupyterlab/mainmenu-extension:recents",description:"Adds sub-menu for opening recent documents to the File section of the main menu.",autoStart:!0,requires:[T.fA,h.I],optional:[D._,i.sQ],activate:(e,n,t,r,s)=>{const{commands:a}=e,o=(null!=s?s:i.wK).load("jupyterlab"),d=null!==r,l=async e=>{const t=await n.validate(e);return t||await(0,c.f1)(o.__("Could Not Open Recent"),o.__("%1 is no longer valid and will be removed from the list",e.path)),t};a.addCommand(x.openRecent,{execute:async e=>{const n=e.recent,t=""===n.path?"/":n.path;await l(n)&&(r&&"directory"===n.contentType?await a.execute(r.openPath,{path:t}):await a.execute("docmanager:open",{path:t,factory:n.factory}))},label:e=>{const n=e.recent;return n?p.PathExt.joinWithLeadingSlash(n.root,n.path):o.__("Open a Recent Document (given by `recent` argument)")},isEnabled:e=>n.recentlyOpened.includes(e.recent),describedBy:{args:{type:"object",properties:{recent:{type:"object",description:o.__("Recent document to open")}}}}}),e.commands.addCommand(x.reopenLast,{execute:async()=>{const e=n.recentlyClosed[0];e&&await l(e)&&(await a.execute("docmanager:open",{path:e.path,factory:e.factory}),n.removeRecent(e,"closed"))},label:()=>{const e=n.recentlyClosed[0];return e?o.__("Reopen %1",e.path):o.__("Reopen Closed Document")},isEnabled:()=>0!==n.recentlyClosed.length,caption:o.__("Reopen recently closed file or notebook."),describedBy:{args:{type:"object",properties:{}}}});const u=new O({commands:a,manager:n,showDirectories:d});u.title.label=o.__("Open Recent"),t.fileMenu.addItem({type:"submenu",submenu:u,rank:1})}},U="@jupyterlab/mainmenu-extension:plugin";var N;!function(e){e.openEdit="editmenu:open",e.undo="editmenu:undo",e.redo="editmenu:redo",e.clearCurrent="editmenu:clear-current",e.clearAll="editmenu:clear-all",e.find="editmenu:find",e.goToLine="editmenu:go-to-line",e.openFile="filemenu:open",e.closeAndCleanup="filemenu:close-and-cleanup",e.createConsole="filemenu:create-console",e.shutdown="filemenu:shutdown",e.logout="filemenu:logout",e.openKernel="kernelmenu:open",e.interruptKernel="kernelmenu:interrupt",e.reconnectToKernel="kernelmenu:reconnect-to-kernel",e.restartKernel="kernelmenu:restart",e.restartKernelAndClear="kernelmenu:restart-and-clear",e.changeKernel="kernelmenu:change",e.shutdownKernel="kernelmenu:shutdown",e.shutdownAllKernels="kernelmenu:shutdownAll",e.openView="viewmenu:open",e.wordWrap="viewmenu:word-wrap",e.lineNumbering="viewmenu:line-numbering",e.minimap="viewmenu:show-minimap",e.matchBrackets="viewmenu:match-brackets",e.openRun="runmenu:open",e.run="runmenu:run",e.runAll="runmenu:run-all",e.restartAndRunAll="runmenu:restart-and-run-all",e.runAbove="runmenu:run-above",e.runBelow="runmenu:run-below",e.openTabs="tabsmenu:open",e.activateById="tabsmenu:activate-by-id",e.activatePreviouslyUsedTab="tabsmenu:activate-previously-used-tab",e.openSettings="settingsmenu:open",e.openHelp="helpmenu:open",e.getKernel="helpmenu:get-kernel",e.openFirst="mainmenu:open-first"}(N||(N={}));const W={id:U,description:"Adds and provides the application main menu.",requires:[r.z$,i.sQ],optional:[u.kn,s.V,B.X],provides:h.I,activate:async(e,n,t,r,s,a)=>{const{commands:i}=e,d=t.load("jupyterlab"),l=new R(i);l.id="jp-MainMenu",l.addClass("jp-scrollbar-tiny"),a&&(await V.loadSettingsMenu(a,e=>{l.addMenu(e,!1,{rank:e.rank})},e=>R.generateMenu(i,e,d),t),l.update());const u=p.PageConfig.getOption("quitButton").toLowerCase();l.fileMenu.quitEntry="true"===u,function(e,n,t){const{commands:r,shell:s}=e;o({id:N.undo,commands:r,shell:s,semanticCommands:n.undoers.undo,default:{label:t.__("Undo")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.redo,commands:r,shell:s,semanticCommands:n.undoers.redo,default:{label:t.__("Redo")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.clearCurrent,commands:r,shell:s,semanticCommands:n.clearers.clearCurrent,default:{label:t.__("Clear")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.clearAll,commands:r,shell:s,semanticCommands:n.clearers.clearAll,default:{label:t.__("Clear All")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.goToLine,commands:r,shell:s,semanticCommands:n.goToLiners,default:{label:t.__("Go to Line…")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t})}(e,l.editMenu,d),function(e,n,t,r){const{commands:s,shell:a}=e;o({id:N.closeAndCleanup,commands:s,shell:a,semanticCommands:n.closeAndCleaners,default:{execute:"application:close",label:r.__("Close and Shut Down"),isEnabled:!0},overrides:{isEnabled:()=>!!e.shell.currentWidget&&!!e.shell.currentWidget.title.closable,describedBy:{args:{type:"object",properties:{}}}},trans:r}),o({id:N.createConsole,commands:s,shell:a,semanticCommands:n.consoleCreators,default:{label:r.__("New Console for Activity")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:r}),s.addCommand(N.shutdown,{label:r.__("Shut Down"),caption:r.__("Shut down %1",e.name),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,describedBy:{args:{type:"object",properties:{}}},execute:()=>(0,c.ui)({title:r.__("Shutdown confirmation"),body:r.__("Please confirm you want to shut down %1.",e.name),buttons:[c.lG.cancelButton(),c.lG.warnButton({label:r.__("Shut Down")})]}).then(async n=>{if(n.button.accept){const n=e.serviceManager.serverSettings,t=p.URLExt.join(n.baseUrl,"api/shutdown");try{await Promise.all([e.serviceManager.sessions.shutdownAll(),e.serviceManager.terminals.shutdownAll()])}catch(e){console.log(`Failed to shutdown sessions and terminals: ${e}`)}return E.ServerConnection.makeRequest(t,{method:"POST"},n).then(n=>{if(!n.ok)throw new E.ServerConnection.ResponseError(n);{const n=document.createElement("div"),t=document.createElement("p");t.textContent=r.__("You have shut down the Jupyter server. You can now close this tab.");const s=document.createElement("p");s.textContent=r.__("To use %1 again, you will need to relaunch it.",e.name),n.appendChild(t),n.appendChild(s),(0,c.ui)({title:r.__("Server stopped"),body:new f.x0({node:n}),buttons:[]}),window.close()}}).catch(e=>{throw new E.ServerConnection.NetworkError(e)})}})}),s.addCommand(N.logout,{label:r.__("Log Out"),caption:r.__("Log out of %1",e.name),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,describedBy:{args:{type:"object",properties:{}}},execute:()=>{t.navigate("/logout",{hard:!0})}})}(e,l.fileMenu,n,d),function(e,n,t){const{commands:r,shell:s}=e;o({id:N.interruptKernel,commands:r,shell:s,semanticCommands:n.kernelUsers.interruptKernel,default:{label:t.__("Interrupt Kernel"),caption:t.__("Interrupt the kernel")},overrides:{icon:e=>e.toolbar?K.mU:void 0,describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.reconnectToKernel,commands:r,shell:s,semanticCommands:n.kernelUsers.reconnectToKernel,default:{label:t.__("Reconnect to Kernel")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.restartKernel,commands:r,shell:s,semanticCommands:n.kernelUsers.restartKernel,default:{label:t.__("Restart Kernel…"),caption:t.__("Restart the kernel")},overrides:{icon:e=>e.toolbar?K.he:void 0,describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.restartKernelAndClear,commands:r,shell:s,semanticCommands:[n.kernelUsers.restartKernel,n.kernelUsers.clearWidget],default:{label:t.__("Restart Kernel and Clear…")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.changeKernel,commands:r,shell:s,semanticCommands:n.kernelUsers.changeKernel,default:{label:t.__("Change Kernel…")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.shutdownKernel,commands:r,shell:s,semanticCommands:n.kernelUsers.shutdownKernel,default:{label:t.__("Shut Down Kernel"),caption:t.__("Shut down kernel")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),r.addCommand(N.shutdownAllKernels,{label:t.__("Shut Down All Kernels…"),isEnabled:()=>!e.serviceManager.sessions.running().next().done,describedBy:{args:{type:"object",properties:{}}},execute:()=>(0,c.ui)({title:t.__("Shut Down All?"),body:t._n("Are you sure you want to permanently shut down the running kernel?","Are you sure you want to permanently shut down the %1 running kernels?",e.serviceManager.kernels.runningCount),buttons:[c.lG.cancelButton(),c.lG.warnButton({label:t.__("Shut Down All")})]}).then(n=>{if(n.button.accept)return e.serviceManager.sessions.shutdownAll()})})}(e,l.kernelMenu,d),function(e,n,t){const{commands:r,shell:s}=e;o({id:N.run,commands:r,shell:s,semanticCommands:n.codeRunners.run,default:{label:t.__("Run Selected"),caption:t.__("Run Selected")},overrides:{icon:e=>e.toolbar?K.J7:void 0,describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.runAll,commands:r,shell:s,semanticCommands:n.codeRunners.runAll,default:{label:t.__("Run All"),caption:t.__("Run All")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.restartAndRunAll,commands:r,shell:s,semanticCommands:[n.codeRunners.restart,n.codeRunners.runAll],default:{label:t.__("Restart Kernel and Run All"),caption:t.__("Restart Kernel and Run All")},overrides:{icon:e=>e.toolbar?K.$7:void 0,describedBy:{args:{type:"object",properties:{}}}},trans:t})}(e,l.runMenu,d),function(e,n,t){const{commands:r,shell:s}=e;o({id:N.lineNumbering,commands:r,shell:s,semanticCommands:n.editorViewers.toggleLineNumbers,default:{label:t.__("Show Line Numbers")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.minimap,commands:r,shell:s,semanticCommands:n.editorViewers.toggleMinimap,default:{label:t.__("Show Minimap")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.matchBrackets,commands:r,shell:s,semanticCommands:n.editorViewers.toggleMatchBrackets,default:{label:t.__("Match Brackets")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t}),o({id:N.wordWrap,commands:r,shell:s,semanticCommands:n.editorViewers.toggleWordWrap,default:{label:t.__("Wrap Words")},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t})}(e,l.viewMenu,d),function(e,n,t){const{commands:r,shell:s}=e;o({id:N.getKernel,commands:r,shell:s,semanticCommands:n.getKernel,default:{label:t.__("Get Kernel"),isVisible:!1},overrides:{describedBy:{args:{type:"object",properties:{}}}},trans:t})}(e,l.helpMenu,d),s&&function(e,n,t,r){const s=e.commands,a=[];let i;s.addCommand(N.activateById,{label:n=>{if(void 0===n.id)return r.__("Activate a widget by its `id`.");const t=n.id||"",s=(0,g.find)(e.shell.widgets("main"),e=>e.id===t);return s&&s.title.label||""},isToggled:n=>{const t=n.id||"";return!!e.shell.currentWidget&&e.shell.currentWidget.id===t},describedBy:{args:{type:"object",properties:{id:{type:"string",description:r.__("The widget id to activate")}},required:["id"]}},execute:n=>e.shell.activateById(n.id||"")});let o="";s.addCommand(N.activatePreviouslyUsedTab,{label:r.__("Activate Previously Used Tab"),isEnabled:()=>!!o,describedBy:{args:{type:"object",properties:{}}},execute:()=>s.execute(N.activateById,{id:o})}),t&&e.restored.then(()=>{const r=()=>{i&&!i.isDisposed&&i.dispose(),a.length=0;let t=!1;for(const n of e.shell.widgets("main"))n.id===o&&(t=!0),a.push({command:N.activateById,args:{id:n.id}});i=n.addGroup(a,1),o=t?o:""};r(),t.layoutModified.connect(()=>{r()}),t.currentChanged.connect((e,n)=>{const t=n.oldValue;t&&(o=t.id)})})}(e,l.tabsMenu,s,d);const m=e=>{l.activeMenu=e,l.openActiveMenu()};return i.addCommand(N.openEdit,{label:d.__("Open Edit Menu"),execute:()=>m(l.editMenu),describedBy:{args:{type:"object",properties:{}}}}),i.addCommand(N.openFile,{label:d.__("Open File Menu"),execute:()=>m(l.fileMenu),describedBy:{args:{type:"object",properties:{}}}}),i.addCommand(N.openKernel,{label:d.__("Open Kernel Menu"),execute:()=>m(l.kernelMenu),describedBy:{args:{type:"object",properties:{}}}}),i.addCommand(N.openRun,{label:d.__("Open Run Menu"),execute:()=>m(l.runMenu),describedBy:{args:{type:"object",properties:{}}}}),i.addCommand(N.openView,{label:d.__("Open View Menu"),execute:()=>m(l.viewMenu),describedBy:{args:{type:"object",properties:{}}}}),i.addCommand(N.openSettings,{label:d.__("Open Settings Menu"),execute:()=>m(l.settingsMenu),describedBy:{args:{type:"object",properties:{}}}}),i.addCommand(N.openTabs,{label:d.__("Open Tabs Menu"),execute:()=>m(l.tabsMenu),describedBy:{args:{type:"object",properties:{}}}}),i.addCommand(N.openHelp,{label:d.__("Open Help Menu"),execute:()=>m(l.helpMenu),describedBy:{args:{type:"object",properties:{}}}}),i.addCommand(N.openFirst,{label:d.__("Open First Menu"),execute:()=>{l.activeIndex=0,l.openActiveMenu()},describedBy:{args:{type:"object",properties:{}}}}),r&&(r.addItem({command:N.shutdown,category:d.__("Main Area")}),r.addItem({command:N.logout,category:d.__("Main Area")}),r.addItem({command:N.shutdownAllKernels,category:d.__("Kernel Operations")}),r.addItem({command:N.activatePreviouslyUsedTab,category:d.__("Main Area")})),e.shell.add(l,"menu",{rank:100}),l}},F=[W,L];var V;!function(e){async function n(e){(await(0,c.ui)({title:e.__("Information"),body:e.__("Menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[c.lG.cancelButton(),c.lG.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsMenu=async function(e,t,r,s){var a;const i=s.load("jupyterlab");let o=null,d={};function l(n){var t,r;d={};const s=Object.keys(e.plugins).map(n=>{var t,r;const s=null!==(r=null===(t=e.plugins[n].schema["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==r?r:[];return d[n]=s,s}).concat([null!==(r=null===(t=n["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==r?r:[]]).reduceRight((e,n)=>I.S8.reconcileMenus(e,n,!0),n.properties.menus.default);n.properties.menus.default=I.S8.reconcileMenus(s,n.properties.menus.default,!0).sort((e,n)=>{var t,r;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(r=n.rank)&&void 0!==r?r:1/0)})}e.transform(U,{compose:e=>{var n,t,r,s;o||(o=S.JSONExt.deepCopy(e.schema),l(o));const a=null!==(r=null===(t=null===(n=o.properties)||void 0===n?void 0:n.menus)||void 0===t?void 0:t.default)&&void 0!==r?r:[],i={...e.data.user,menus:null!==(s=e.data.user.menus)&&void 0!==s?s:[]},d={...e.data.composite,menus:I.S8.reconcileMenus(a,i.menus)};return e.data={composite:d,user:i},e},fetch:e=>(o||(o=S.JSONExt.deepCopy(e.schema),l(o)),{data:e.data,id:e.id,raw:e.raw,schema:o,version:e.version})});const u=await e.load(U),c=null!==(a=S.JSONExt.deepCopy(u.composite.menus))&&void 0!==a?a:[],p=new Array;m.K.createMenus(c.filter(e=>!e.disabled).map(e=>{var n;return{...e,items:I.S8.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}}),r).forEach(e=>{p.push(e),t(e)}),u.changed.connect(()=>{var e;const t=null!==(e=u.composite.menus)&&void 0!==e?e:[];S.JSONExt.deepEqual(c,t)||n(i)}),e.pluginChanged.connect(async(s,a)=>{var o,l,u;if(a!==U){const s=null!==(o=d[a])&&void 0!==o?o:[],h=null!==(u=null===(l=e.plugins[a].schema["jupyter.lab.menus"])||void 0===l?void 0:l.main)&&void 0!==u?u:[];if(!S.JSONExt.deepEqual(s,h))if(d[a])await n(i);else{d[a]=S.JSONExt.deepCopy(h);const e=I.S8.reconcileMenus(h,c,!1,!1).filter(e=>!e.disabled).map(e=>{var n;return{...e,items:I.S8.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}});m.K.updateMenus(p,e,r).forEach(e=>{t(e)})}}})}}(V||(V={}))},68704:(e,n,t)=>{t.d(n,{a:()=>r,z:()=>d});var r,s=t(38921),a=t(79246),i=t(72490),o=t(14809);!function(e){e.DEFAULT_RANK=100}(r||(r={}));class d extends o.W1{constructor(e){var n;super(e),this._ranks=[],this.addClass("jp-ThemedContainer"),this._rank=e.rank,this._includeSeparators=null===(n=e.includeSeparators)||void 0===n||n}get rank(){return this._rank}addGroup(e,n){if(0===e.length)return new a.DisposableDelegate(()=>{});const t=null!=n?n:r.DEFAULT_RANK,s=e.map(e=>{var n;return{...e,rank:null!==(n=e.rank)&&void 0!==n?n:t}}).sort((e,n)=>e.rank-n.rank);let i=this._ranks.findIndex(e=>s[0].rank<e);i<0&&(i=this._ranks.length);const o=[];return this._includeSeparators&&o.push(this.insertItem(i++,{type:"separator",rank:t})),o.push(...s.map(e=>this.insertItem(i++,e))),this._includeSeparators&&o.push(this.insertItem(i++,{type:"separator",rank:t})),new a.DisposableDelegate(()=>{o.forEach(e=>e.dispose())})}addItem(e){let n=-1;return e.rank&&(n=this._ranks.findIndex(n=>e.rank<n)),n<0&&(n=this._ranks.length),this.insertItem(n,e)}clearItems(){this._ranks.length=0,super.clearItems()}dispose(){this._ranks.length=0,super.dispose()}getRankAt(e){return this._ranks[e]}insertItem(e,n){var t,a;const i=Math.max(0,Math.min(e,this._ranks.length));s.ArrayExt.insert(this._ranks,i,null!==(t=n.rank)&&void 0!==t?t:Math.max(r.DEFAULT_RANK,null!==(a=this._ranks[this._ranks.length-1])&&void 0!==a?a:r.DEFAULT_RANK));const o=super.insertItem(i,n);return new l(o,this)}removeItemAt(e){s.ArrayExt.removeAt(this._ranks,e),super.removeItemAt(e)}}class l{constructor(e,n){this._item=new WeakRef(e),this._menu=n;const t=e=>{e.disposed.disconnect(t,this),this.dispose()};this._menu.disposed.connect(t,this)}get isDisposed(){return this._isDisposed}get type(){return this._item.deref().type}get command(){return this._item.deref().command}get args(){return this._item.deref().args}get submenu(){return this._item.deref().submenu}get label(){return this._item.deref().label}get mnemonic(){return this._item.deref().mnemonic}get icon(){return this._item.deref().icon}get iconClass(){return this._item.deref().iconClass}get iconLabel(){return this._item.deref().iconLabel}get caption(){return this._item.deref().caption}get className(){return this._item.deref().className}get dataset(){return this._item.deref().dataset}get isEnabled(){return this._item.deref().isEnabled}get isToggled(){return this._item.deref().isToggled}get isVisible(){return this._item.deref().isVisible}get keyBinding(){return this._item.deref().keyBinding}dispose(){if(this._isDisposed)return;this._isDisposed=!0;const e=this._item.deref();e&&!this._menu.isDisposed&&this._menu.removeItem(e),i.Signal.clearData(this)}}}}]);