import{b as he,u as Y,c as ae,j as t}from"./query-vendor-DJBV9M4k.js";import{c as ee,a as b,M as le,i as E,S as X,f as ve,B as H,h as be,m as we,T as Se,C as I}from"./index-Bd7Eqoup.js";import{r as se}from"./react-vendor-UO7EsjdD.js";import{a as G}from"./api-D3yPf1fc.js";import{P as ce,T as ze}from"./triangle-alert-DjEu55UI.js";import{P as re}from"./pause-YJP2ND8u.js";import{C as ie}from"./circle-x-CnIbKxAQ.js";import{C as oe}from"./clock-DFfU30N8.js";import{C as $e,a as We,T as Ce}from"./timer-B2kupNw0.js";import{S as de,Z as ge}from"./zap-CNY50oQg.js";import{A as me}from"./activity-CyTRiyfQ.js";import{R as xe}from"./refresh-cw-B86pDpSY.js";import{C as Me}from"./circle-check-BD6xzXDv.js";import{f as Pe}from"./utils-vendor-BQbYk6nm.js";import"./ui-vendor-CGdvvLxe.js";const De=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ye=ee("cpu",De);const Ie=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],je=ee("hard-drive",Ie);const Fe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Te=ee("hash",Fe);const qe=[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]],ke=ee("memory-stick",qe);const Qe=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],pe=ee("power",Qe);const Re=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ke=ee("tag",Re),N={all:["workers"],lists:()=>[...N.all,"list"],list:l=>[...N.lists(),{filters:l}],details:()=>[...N.all,"detail"],detail:l=>[...N.details(),l],logs:()=>[...N.all,"logs"],workerLogs:(l,e)=>[...N.logs(),l,e]};function Ae(l){const e=b.c(10);let s;e[0]!==l?(s=l===void 0?{}:l,e[0]=l,e[1]=s):s=e[1];const{filters:i,queryOptions:r}=s;let a;e[2]!==i?(a=N.list(i),e[2]=i,e[3]=a):a=e[3];let n;e[4]!==i?(n=()=>G.getWorkers(i),e[4]=i,e[5]=n):n=e[5];let c;return e[6]!==r||e[7]!==a||e[8]!==n?(c={queryKey:a,queryFn:n,refetchInterval:5e3,placeholderData:Ue,...r},e[6]=r,e[7]=a,e[8]=n,e[9]=c):c=e[9],he(c)}function Ue(l){return l}function Oe(l){const e=b.c(8),{workerId:s,queryOptions:i}=l;let r;e[0]!==s?(r=N.detail(s),e[0]=s,e[1]=r):r=e[1];let a;e[2]!==s?(a=()=>G.getWorkerDetail(s),e[2]=s,e[3]=a):a=e[3];let n;return e[4]!==i||e[5]!==r||e[6]!==a?(n={queryKey:r,queryFn:a,refetchInterval:5e3,...i},e[4]=i,e[5]=r,e[6]=a,e[7]=n):n=e[7],he(n)}function _e(){const l=b.c(2),e=Y();let s;return l[0]!==e?(s={mutationFn:Le,onMutate:async i=>{const{workerId:r}=i;await e.cancelQueries({queryKey:N.all});const a=e.getQueryData(N.detail(r)),n=e.getQueryData(N.lists());return a&&e.setQueryData(N.detail(r),{...a,is_paused:!0}),{previousWorker:a,previousWorkers:n}},onError:(i,r,a)=>{const{workerId:n}=r;a?.previousWorker&&e.setQueryData(N.detail(n),a.previousWorker)},onSettled:()=>{e.invalidateQueries({queryKey:N.all})}},l[0]=e,l[1]=s):s=l[1],ae(s)}function Le(l){const{workerId:e}=l;return G.pauseWorker(e)}function Ne(){const l=b.c(2),e=Y();let s;return l[0]!==e?(s={mutationFn:Ve,onMutate:async i=>{const{workerId:r}=i;await e.cancelQueries({queryKey:N.all});const a=e.getQueryData(N.detail(r)),n=e.getQueryData(N.lists());return a&&e.setQueryData(N.detail(r),{...a,is_paused:!1}),{previousWorker:a,previousWorkers:n}},onError:(i,r,a)=>{const{workerId:n}=r;a?.previousWorker&&e.setQueryData(N.detail(n),a.previousWorker)},onSettled:()=>{e.invalidateQueries({queryKey:N.all})}},l[0]=e,l[1]=s):s=l[1],ae(s)}function Ve(l){const{workerId:e}=l;return G.resumeWorker(e)}function Be(){const l=b.c(2),e=Y();let s;return l[0]!==e?(s={mutationFn:Ee,onSettled:()=>{e.invalidateQueries({queryKey:N.all})}},l[0]=e,l[1]=s):s=l[1],ae(s)}function Ee(l){const{workerId:e}=l;return G.shutdownWorker(e)}function He(){const l=b.c(2),e=Y();let s;return l[0]!==e?(s={mutationFn:Ze,onMutate:async i=>{const{workerId:r}=i;await e.cancelQueries({queryKey:N.all});const a=e.getQueryData(N.detail(r)),n=e.getQueryData(N.lists());return a&&e.setQueryData(N.detail(r),{...a,status:"offline",current_task_id:null,current_task_name:null}),{previousWorker:a,previousWorkers:n}},onError:(i,r,a)=>{const{workerId:n}=r;a?.previousWorker&&e.setQueryData(N.detail(n),a.previousWorker)},onSettled:()=>{e.invalidateQueries({queryKey:N.all})}},l[0]=e,l[1]=s):s=l[1],ae(s)}function Ze(l){const{workerId:e,force:s}=l;return G.killWorker(e,s)}function Xe(){const l=b.c(2),e=Y();let s;return l[0]!==e?(s=i=>{e.prefetchQuery({queryKey:N.detail(i),queryFn:()=>G.getWorkerDetail(i),staleTime:5e3})},l[0]=e,l[1]=s):s=l[1],s}function Ge(){const l=b.c(2),e=Y();let s;return l[0]!==e?(s=()=>{e.invalidateQueries({queryKey:N.all})},l[0]=e,l[1]=s):s=l[1],s}function J(l){const e=b.c(12),{label:s,children:i,icon:r}=l;let a;e[0]!==r?(a=r&&t.jsx("span",{className:"mt-0.5 text-zinc-400 dark:text-zinc-500",children:r}),e[0]=r,e[1]=a):a=e[1];let n;e[2]!==s?(n=t.jsx("dt",{className:"text-sm font-medium text-zinc-500 dark:text-zinc-400",children:s}),e[2]=s,e[3]=n):n=e[3];let c;e[4]!==i?(c=t.jsx("dd",{className:"mt-0.5 text-sm text-zinc-900 dark:text-zinc-100",children:i}),e[4]=i,e[5]=c):c=e[5];let o;e[6]!==n||e[7]!==c?(o=t.jsxs("div",{className:"flex-1 min-w-0",children:[n,c]}),e[6]=n,e[7]=c,e[8]=o):o=e[8];let f;return e[9]!==a||e[10]!==o?(f=t.jsxs("div",{className:"flex items-start gap-3 py-2",children:[a,o]}),e[9]=a,e[10]=o,e[11]=f):f=e[11],f}function Je(l){const e=b.c(8),{text:s,label:i}=l,[r,a]=se.useState(!1);let n;e[0]!==s?(n=async()=>{await navigator.clipboard.writeText(s),a(!0),setTimeout(()=>a(!1),2e3)},e[0]=s,e[1]=n):n=e[1];const c=n;let o;e[2]!==r?(o=r?t.jsx(be,{className:"h-3.5 w-3.5 text-emerald-500"}):t.jsx($e,{className:"h-3.5 w-3.5"}),e[2]=r,e[3]=o):o=e[3];let f;return e[4]!==c||e[5]!==i||e[6]!==o?(f=t.jsx(E,{variant:"ghost",size:"icon-sm",onPress:c,"aria-label":i,children:o}),e[4]=c,e[5]=i,e[6]=o,e[7]=f):f=e[7],f}function ne(l){if(!l)return"—";const e=new Date(l);return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"medium"}).format(e)}function Ye(l){if(l==null)return"—";if(l<1e3)return`${l}ms`;if(l<6e4)return`${(l/1e3).toFixed(2)}s`;const e=Math.floor(l/6e4),s=(l%6e4/1e3).toFixed(1);return`${e}m ${s}s`}function et(l){if(l<60)return`${l}s`;if(l<3600)return`${Math.floor(l/60)}m`;if(l<86400){const i=Math.floor(l/3600),r=Math.floor(l%3600/60);return`${i}h ${r}m`}const e=Math.floor(l/86400),s=Math.floor(l%86400/3600);return`${e}d ${s}h`}function fe(l){return l==null?"—":`${l.toFixed(1)}%`}function tt(l){return{active:"success",idle:"info",offline:"error"}[l]??"default"}const st={active:t.jsx(ce,{className:"h-4 w-4"}),idle:t.jsx(oe,{className:"h-4 w-4"}),offline:t.jsx(ie,{className:"h-4 w-4"})};function lt(l){return st[l]??null}function rt(){const l=b.c(1);let e;return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=t.jsx("div",{className:"flex items-center justify-center p-12",children:t.jsx(X,{size:"lg"})}),l[0]=e):e=l[0],e}function at(l){const e=b.c(4),{message:s}=l;let i,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(ze,{className:"h-12 w-12 text-red-500 mb-4"}),r=t.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:"Failed to load worker details"}),e[0]=i,e[1]=r):(i=e[0],r=e[1]);let a;return e[2]!==s?(a=t.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[i,r,t.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:s})]}),e[2]=s,e[3]=a):a=e[3],a}function it(l){const e=b.c(32),{worker:s}=l;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Overview"}),e[0]=i):i=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(de,{className:"h-4 w-4"}),e[1]=r):r=e[1];const a=s.hostname??"Unknown";let n;e[2]!==a?(n=t.jsx(J,{label:"Hostname",icon:r,children:a}),e[2]=a,e[3]=n):n=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(Te,{className:"h-4 w-4"}),e[4]=c):c=e[4];const o=s.pid??"—";let f;e[5]!==o?(f=t.jsx(J,{label:"Process ID",icon:c,children:o}),e[5]=o,e[6]=f):f=e[6];let j;e[7]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(We,{className:"h-4 w-4"}),e[7]=j):j=e[7];let u;e[8]!==s.started_at?(u=ne(s.started_at),e[8]=s.started_at,e[9]=u):u=e[9];let d;e[10]!==u?(d=t.jsx(J,{label:"Started",icon:j,children:u}),e[10]=u,e[11]=d):d=e[11];let x;e[12]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(Ce,{className:"h-4 w-4"}),e[12]=x):x=e[12];let m;e[13]!==s.uptime_seconds?(m=et(s.uptime_seconds),e[13]=s.uptime_seconds,e[14]=m):m=e[14];let g;e[15]!==m?(g=t.jsx(J,{label:"Uptime",icon:x,children:m}),e[15]=m,e[16]=g):g=e[16];let k;e[17]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(me,{className:"h-4 w-4"}),e[17]=k):k=e[17];let h;e[18]!==s.last_heartbeat?(h=ne(s.last_heartbeat),e[18]=s.last_heartbeat,e[19]=h):h=e[19];let y;e[20]!==h?(y=t.jsx(J,{label:"Last Heartbeat",icon:k,children:h}),e[20]=h,e[21]=y):y=e[21];let p;e[22]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(Ke,{className:"h-4 w-4"}),e[22]=p):p=e[22];const _=s.version??"—";let v;e[23]!==_?(v=t.jsx(J,{label:"Version",icon:p,children:_}),e[23]=_,e[24]=v):v=e[24];let w;return e[25]!==d||e[26]!==g||e[27]!==y||e[28]!==v||e[29]!==n||e[30]!==f?(w=t.jsxs("div",{className:"p-4",children:[i,t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4",children:[n,f,d,g,y,v]})]}),e[25]=d,e[26]=g,e[27]=y,e[28]=v,e[29]=n,e[30]=f,e[31]=w):w=e[31],w}function nt(l){const e=b.c(27),{worker:s}=l;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Resources"}),e[0]=i):i=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx(ye,{className:"h-5 w-5 mx-auto text-zinc-400 mb-2"}),e[1]=r):r=e[1];let a;e[2]!==s.cpu_usage?(a=fe(s.cpu_usage),e[2]=s.cpu_usage,e[3]=a):a=e[3];let n;e[4]!==a?(n=t.jsx("div",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:a}),e[4]=a,e[5]=n):n=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("div",{className:"text-xs text-zinc-500",children:"CPU Usage"}),e[6]=c):c=e[6];let o;e[7]!==n?(o=t.jsxs("div",{className:"text-center p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800",children:[r,n,c]}),e[7]=n,e[8]=o):o=e[8];let f;e[9]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(ke,{className:"h-5 w-5 mx-auto text-zinc-400 mb-2"}),e[9]=f):f=e[9];let j;e[10]!==s.memory_usage?(j=fe(s.memory_usage),e[10]=s.memory_usage,e[11]=j):j=e[11];let u;e[12]!==j?(u=t.jsx("div",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:j}),e[12]=j,e[13]=u):u=e[13];let d;e[14]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx("div",{className:"text-xs text-zinc-500",children:"Memory Usage"}),e[14]=d):d=e[14];let x;e[15]!==u?(x=t.jsxs("div",{className:"text-center p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800",children:[f,u,d]}),e[15]=u,e[16]=x):x=e[16];let m;e[17]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx(je,{className:"h-5 w-5 mx-auto text-zinc-400 mb-2"}),e[17]=m):m=e[17];const g=s.memory_mb?`${s.memory_mb}MB`:"—";let k;e[18]!==g?(k=t.jsx("div",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:g}),e[18]=g,e[19]=k):k=e[19];let h;e[20]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("div",{className:"text-xs text-zinc-500",children:"Memory Used"}),e[20]=h):h=e[20];let y;e[21]!==k?(y=t.jsxs("div",{className:"text-center p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800",children:[m,k,h]}),e[21]=k,e[22]=y):y=e[22];let p;return e[23]!==x||e[24]!==y||e[25]!==o?(p=t.jsxs("div",{className:"p-4",children:[i,t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o,x,y]})]}),e[23]=x,e[24]=y,e[25]=o,e[26]=p):p=e[26],p}function ct(l){const e=b.c(34),{worker:s}=l;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Performance"}),e[0]=i):i=e[0];let r;e[1]!==s.tasks_processed?(r=s.tasks_processed.toLocaleString(),e[1]=s.tasks_processed,e[2]=r):r=e[2];let a;e[3]!==r?(a=t.jsx("div",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:r}),e[3]=r,e[4]=a):a=e[4];let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"text-xs text-zinc-500",children:"Processed"}),e[5]=n):n=e[5];let c;e[6]!==a?(c=t.jsxs("div",{className:"text-center p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800",children:[a,n]}),e[6]=a,e[7]=c):c=e[7];let o;e[8]!==s.tasks_failed?(o=s.tasks_failed.toLocaleString(),e[8]=s.tasks_failed,e[9]=o):o=e[9];let f;e[10]!==o?(f=t.jsx("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:o}),e[10]=o,e[11]=f):f=e[11];let j;e[12]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("div",{className:"text-xs text-zinc-500",children:"Failed"}),e[12]=j):j=e[12];let u;e[13]!==f?(u=t.jsxs("div",{className:"text-center p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800",children:[f,j]}),e[13]=f,e[14]=u):u=e[14];let d;e[15]!==s.success_rate?(d=s.success_rate.toFixed(1),e[15]=s.success_rate,e[16]=d):d=e[16];let x;e[17]!==d?(x=t.jsxs("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:[d,"%"]}),e[17]=d,e[18]=x):x=e[18];let m;e[19]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx("div",{className:"text-xs text-zinc-500",children:"Success Rate"}),e[19]=m):m=e[19];let g;e[20]!==x?(g=t.jsxs("div",{className:"text-center p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800",children:[x,m]}),e[20]=x,e[21]=g):g=e[21];let k;e[22]!==s.tasks_per_hour?(k=s.tasks_per_hour.toFixed(1),e[22]=s.tasks_per_hour,e[23]=k):k=e[23];let h;e[24]!==k?(h=t.jsx("div",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:k}),e[24]=k,e[25]=h):h=e[25];let y;e[26]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("div",{className:"text-xs text-zinc-500",children:"Tasks/Hour"}),e[26]=y):y=e[26];let p;e[27]!==h?(p=t.jsxs("div",{className:"text-center p-3 rounded-lg bg-zinc-50 dark:bg-zinc-800",children:[h,y]}),e[27]=h,e[28]=p):p=e[28];let _;return e[29]!==g||e[30]!==p||e[31]!==c||e[32]!==u?(_=t.jsxs("div",{className:"p-4",children:[i,t.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[c,u,g,p]})]}),e[29]=g,e[30]=p,e[31]=c,e[32]=u,e[33]=_):_=e[33],_}function ot(l){const e=b.c(11),{worker:s}=l;if(!s.current_task_id)return null;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsxs("h4",{className:"text-sm font-medium text-cyan-800 dark:text-cyan-300 mb-2 flex items-center gap-2",children:[t.jsx(ge,{className:"h-4 w-4"}),"Currently Processing"]}),e[0]=i):i=e[0];let r;e[1]!==s.current_task_name?(r=t.jsx("code",{className:"text-sm text-cyan-700 dark:text-cyan-400 font-mono",children:s.current_task_name}),e[1]=s.current_task_name,e[2]=r):r=e[2];let a;e[3]!==s.current_task_id?(a=t.jsxs("span",{className:"text-xs text-cyan-600 dark:text-cyan-500",children:["ID: ",s.current_task_id]}),e[3]=s.current_task_id,e[4]=a):a=e[4];let n;e[5]!==s.current_task_started_at?(n=s.current_task_started_at&&t.jsxs("span",{className:"text-xs text-cyan-600 dark:text-cyan-500",children:["Started ",ne(s.current_task_started_at)]}),e[5]=s.current_task_started_at,e[6]=n):n=e[6];let c;return e[7]!==r||e[8]!==a||e[9]!==n?(c=t.jsxs("div",{className:"p-4 bg-cyan-50 dark:bg-cyan-900/20 border-l-4 border-cyan-500",children:[i,t.jsxs("div",{className:"flex items-center gap-3",children:[r,a,n]})]}),e[7]=r,e[8]=a,e[9]=n,e[10]=c):c=e[10],c}function dt(l){const e=b.c(5),{worker:s}=l;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsxs("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 flex items-center gap-2",children:[t.jsx(we,{className:"h-4 w-4"}),"Subscribed Queues"]}),e[0]=i):i=e[0];let r;e[1]!==s.queues?(r=s.queues.map(mt),e[1]=s.queues,e[2]=r):r=e[2];let a;return e[3]!==r?(a=t.jsxs("div",{className:"p-4",children:[i,t.jsx("div",{className:"flex flex-wrap gap-2",children:r})]}),e[3]=r,e[4]=a):a=e[4],a}function mt(l){return t.jsx(H,{variant:"info",size:"md",children:l},l)}function xt(l){const e=b.c(6),{worker:s}=l;if(!s.recent_tasks||s.recent_tasks.length===0)return null;const i=ft;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=t.jsx("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Recent Tasks"}),e[0]=r):r=e[0];let a;if(e[1]!==s.recent_tasks){let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=o=>t.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-zinc-50 dark:bg-zinc-800",children:[t.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[t.jsx(H,{variant:i(o.status),size:"sm",children:o.status}),t.jsx("span",{className:"text-sm font-mono text-zinc-700 dark:text-zinc-300 truncate",children:o.name})]}),t.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-500",children:[t.jsx("span",{children:o.queue}),o.duration_ms&&t.jsx("span",{children:Ye(o.duration_ms)})]})]},o.id),e[3]=c):c=e[3],a=s.recent_tasks.slice(0,10).map(c),e[1]=s.recent_tasks,e[2]=a}else a=e[2];let n;return e[4]!==a?(n=t.jsxs("div",{className:"p-4",children:[r,t.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:a})]}),e[4]=a,e[5]=n):n=e[5],n}function ft(l){return{completed:"success",failed:"error",running:"running",pending:"pending"}[l]??"default"}function ut(l){const e=b.c(5),{worker:s}=l;if(!s.tags||s.tags.length===0)return null;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Tags"}),e[0]=i):i=e[0];let r;e[1]!==s.tags?(r=s.tags.map(ht),e[1]=s.tags,e[2]=r):r=e[2];let a;return e[3]!==r?(a=t.jsxs("div",{className:"p-4",children:[i,t.jsx("div",{className:"flex flex-wrap gap-2",children:r})]}),e[3]=r,e[4]=a):a=e[4],a}function ht(l){return t.jsx(H,{variant:"default",size:"sm",children:l},l)}function gt(l){const e=b.c(42),{worker:s}=l;let i;e[0]!==s.name?(i=t.jsx("h3",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100 truncate",children:s.name}),e[0]=s.name,e[1]=i):i=e[1];let r;e[2]!==s.id?(r=t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx("code",{className:"text-xs text-zinc-500 dark:text-zinc-400 truncate max-w-[200px]",children:s.id}),t.jsx(Je,{text:s.id,label:"Copy worker ID"})]}),e[2]=s.id,e[3]=r):r=e[3];let a;e[4]!==i||e[5]!==r?(a=t.jsxs("div",{className:"min-w-0 flex-1",children:[i,r]}),e[4]=i,e[5]=r,e[6]=a):a=e[6];let n;e[7]!==s.is_paused?(n=s.is_paused&&t.jsxs(H,{variant:"warning",size:"md",children:[t.jsx(re,{className:"h-3 w-3 mr-1"}),"Paused"]}),e[7]=s.is_paused,e[8]=n):n=e[8];let c;e[9]!==s.status?(c=tt(s.status),e[9]=s.status,e[10]=c):c=e[10];let o;e[11]!==s.status?(o=lt(s.status),e[11]=s.status,e[12]=o):o=e[12];let f;e[13]!==s.status?(f=t.jsx("span",{className:"ml-1 capitalize",children:s.status}),e[13]=s.status,e[14]=f):f=e[14];let j;e[15]!==c||e[16]!==o||e[17]!==f?(j=t.jsxs(H,{variant:c,size:"lg",dot:!0,children:[o,f]}),e[15]=c,e[16]=o,e[17]=f,e[18]=j):j=e[18];let u;e[19]!==n||e[20]!==j?(u=t.jsxs("div",{className:"flex items-center gap-2",children:[n,j]}),e[19]=n,e[20]=j,e[21]=u):u=e[21];let d;e[22]!==a||e[23]!==u?(d=t.jsxs("div",{className:"flex items-start justify-between gap-4 px-6 pt-6",children:[a,u]}),e[22]=a,e[23]=u,e[24]=d):d=e[24];let x;e[25]!==s?(x=t.jsx(ot,{worker:s}),e[25]=s,e[26]=x):x=e[26];let m;e[27]!==s?(m=t.jsxs("div",{className:"mx-6 rounded-lg border border-zinc-200 dark:border-zinc-700 divide-y divide-zinc-200 dark:divide-zinc-700",children:[t.jsx(it,{worker:s}),t.jsx(nt,{worker:s}),t.jsx(ct,{worker:s})]}),e[27]=s,e[28]=m):m=e[28];let g;e[29]!==s?(g=t.jsx("div",{className:"px-6",children:t.jsx(dt,{worker:s})}),e[29]=s,e[30]=g):g=e[30];let k;e[31]!==s?(k=t.jsx("div",{className:"px-6 pb-6",children:t.jsx(xt,{worker:s})}),e[31]=s,e[32]=k):k=e[32];let h;e[33]!==s?(h=t.jsx("div",{className:"px-6 pb-6",children:t.jsx(ut,{worker:s})}),e[33]=s,e[34]=h):h=e[34];let y;return e[35]!==d||e[36]!==x||e[37]!==m||e[38]!==g||e[39]!==k||e[40]!==h?(y=t.jsxs(le.Body,{className:"space-y-6 p-0",children:[d,x,m,g,k,h]}),e[35]=d,e[36]=x,e[37]=m,e[38]=g,e[39]=k,e[40]=h,e[41]=y):y=e[41],y}function yt(l){const e=b.c(41),{worker:s,onClose:i,onActionPerformed:r}=l,{mutate:a,isPending:n}=_e(),{mutate:c,isPending:o}=Ne(),{mutate:f,isPending:j}=Be(),{mutate:u,isPending:d}=He(),x=s.status==="offline",m=n||o||j||d;let g;e[0]!==r||e[1]!==a||e[2]!==s.id?(g=()=>{a({workerId:s.id},{onSuccess:()=>r?.()})},e[0]=r,e[1]=a,e[2]=s.id,e[3]=g):g=e[3];const k=g;let h;e[4]!==r||e[5]!==c||e[6]!==s.id?(h=()=>{c({workerId:s.id},{onSuccess:()=>r?.()})},e[4]=r,e[5]=c,e[6]=s.id,e[7]=h):h=e[7];const y=h;let p;e[8]!==r||e[9]!==f||e[10]!==s.id?(p=()=>{f({workerId:s.id},{onSuccess:()=>r?.()})},e[8]=r,e[9]=f,e[10]=s.id,e[11]=p):p=e[11];const _=p;let v;e[12]!==u||e[13]!==r||e[14]!==s.id?(v=()=>{u({workerId:s.id,force:!1},{onSuccess:()=>r?.()})},e[12]=u,e[13]=r,e[14]=s.id,e[15]=v):v=e[15];const w=v;let M;e[16]!==i?(M=t.jsx(E,{variant:"outline",onPress:i,children:"Close"}),e[16]=i,e[17]=M):M=e[17];let S;e[18]!==m||e[19]!==k||e[20]!==y||e[21]!==x||e[22]!==n||e[23]!==o||e[24]!==s.is_paused?(S=!x&&(s.is_paused?t.jsx(E,{variant:"secondary",onPress:y,isDisabled:m,children:o?t.jsxs(t.Fragment,{children:[t.jsx(X,{size:"sm",className:"mr-2"}),"Resuming..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ce,{className:"h-4 w-4 mr-2"}),"Resume"]})}):t.jsx(E,{variant:"secondary",onPress:k,isDisabled:m,children:n?t.jsxs(t.Fragment,{children:[t.jsx(X,{size:"sm",className:"mr-2"}),"Pausing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(re,{className:"h-4 w-4 mr-2"}),"Pause"]})})),e[18]=m,e[19]=k,e[20]=y,e[21]=x,e[22]=n,e[23]=o,e[24]=s.is_paused,e[25]=S):S=e[25];let $;e[26]!==m||e[27]!==_||e[28]!==x||e[29]!==j?($=!x&&t.jsx(E,{variant:"outline",onPress:_,isDisabled:m,children:j?t.jsxs(t.Fragment,{children:[t.jsx(X,{size:"sm",className:"mr-2"}),"Shutting Down..."]}):t.jsxs(t.Fragment,{children:[t.jsx(pe,{className:"h-4 w-4 mr-2"}),"Shutdown"]})}),e[26]=m,e[27]=_,e[28]=x,e[29]=j,e[30]=$):$=e[30];let C;e[31]!==m||e[32]!==w||e[33]!==d||e[34]!==x?(C=!x&&t.jsx(E,{variant:"danger",onPress:w,isDisabled:m,children:d?t.jsxs(t.Fragment,{children:[t.jsx(X,{size:"sm",className:"mr-2"}),"Killing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ie,{className:"h-4 w-4 mr-2"}),"Kill"]})}),e[31]=m,e[32]=w,e[33]=d,e[34]=x,e[35]=C):C=e[35];let z;return e[36]!==M||e[37]!==S||e[38]!==$||e[39]!==C?(z=t.jsxs(le.Footer,{children:[M,S,$,C]}),e[36]=M,e[37]=S,e[38]=$,e[39]=C,e[40]=z):z=e[40],z}function jt(l){const e=b.c(25),{workerId:s,isOpen:i,onClose:r,onActionPerformed:a}=l;let n;e[0]!==s?(n={workerId:s},e[0]=s,e[1]=n):n=e[1];const{data:c,isPending:o,error:f}=Oe(n);let j;e[2]!==r?(j=y=>!y&&r(),e[2]=r,e[3]=j):j=e[3];let u;e[4]!==o?(u=o&&t.jsx(rt,{}),e[4]=o,e[5]=u):u=e[5];let d;e[6]!==f?(d=f&&t.jsx(at,{message:f.message}),e[6]=f,e[7]=d):d=e[7];let x;e[8]!==c?(x=c&&t.jsx(gt,{worker:c}),e[8]=c,e[9]=x):x=e[9];let m;e[10]!==u||e[11]!==d||e[12]!==x?(m=t.jsxs(le.Content,{children:[u,d,x]}),e[10]=u,e[11]=d,e[12]=x,e[13]=m):m=e[13];let g;e[14]!==a||e[15]!==r||e[16]!==c?(g=c&&t.jsx(yt,{worker:c,onClose:r,...a&&{onActionPerformed:a}}),e[14]=a,e[15]=r,e[16]=c,e[17]=g):g=e[17];let k;e[18]!==m||e[19]!==g?(k=t.jsxs(ve,{title:"Worker Details",children:[m,g]}),e[18]=m,e[19]=g,e[20]=k):k=e[20];let h;return e[21]!==i||e[22]!==j||e[23]!==k?(h=t.jsx(le,{isOpen:i,onOpenChange:j,size:"2xl",children:k}),e[21]=i,e[22]=j,e[23]=k,e[24]=h):h=e[24],h}const kt={active:{color:"success",icon:me},idle:{color:"warning",icon:oe},offline:{color:"error",icon:ie}};function pt(l){const e=b.c(6),{status:s}=l,i=kt[s],r=i.icon;let a;e[0]!==r?(a=t.jsx(r,{className:"h-3 w-3"}),e[0]=r,e[1]=a):a=e[1];let n;return e[2]!==i.color||e[3]!==s||e[4]!==a?(n=t.jsxs(H,{variant:i.color,className:"inline-flex items-center gap-1",children:[a,s]}),e[2]=i.color,e[3]=s,e[4]=a,e[5]=n):n=e[5],n}function ue(l){const e=b.c(18),{label:s,value:i,max:r,icon:a,unit:n}=l,c=n===void 0?"%":n,o=Math.round(i/r*100),f=o>80?"bg-red-500":o>60?"bg-yellow-500":"bg-green-500";let j;e[0]!==a?(j=t.jsx(a,{className:"h-3.5 w-3.5"}),e[0]=a,e[1]=j):j=e[1];let u;e[2]!==s||e[3]!==j?(u=t.jsxs("span",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[j,s]}),e[2]=s,e[3]=j,e[4]=u):u=e[4];const d=c==="%"?`${o}%`:`${i}/${r}${c}`;let x;e[5]!==d?(x=t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d}),e[5]=d,e[6]=x):x=e[6];let m;e[7]!==u||e[8]!==x?(m=t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u,x]}),e[7]=u,e[8]=x,e[9]=m):m=e[9];const g=`h-full rounded-full transition-all duration-300 ${f}`,k=`${o}%`;let h;e[10]!==k?(h={width:k},e[10]=k,e[11]=h):h=e[11];let y;e[12]!==g||e[13]!==h?(y=t.jsx("div",{className:"h-2 w-full rounded-full bg-gray-200 dark:bg-gray-700",children:t.jsx("div",{className:g,style:h})}),e[12]=g,e[13]=h,e[14]=y):y=e[14];let p;return e[15]!==y||e[16]!==m?(p=t.jsxs("div",{className:"space-y-1",children:[m,y]}),e[15]=y,e[16]=m,e[17]=p):p=e[17],p}function _t(l){const e=b.c(84),{worker:s,onViewDetails:i}=l,r=s.status!=="offline",a=Xe(),{mutate:n,isPending:c}=_e(),{mutate:o,isPending:f}=Ne();let j;e[0]!==n||e[1]!==o||e[2]!==s.id||e[3]!==s.is_paused?(j=()=>{s.is_paused?o({workerId:s.id}):n({workerId:s.id})},e[0]=n,e[1]=o,e[2]=s.id,e[3]=s.is_paused,e[4]=j):j=e[4];const u=j;let d;e[5]!==i||e[6]!==s.id?(d=()=>{i(s.id)},e[5]=i,e[6]=s.id,e[7]=d):d=e[7];const x=d;let m;e[8]!==a||e[9]!==s.id?(m=()=>a(s.id),e[8]=a,e[9]=s.id,e[10]=m):m=e[10];const g=`
              flex h-10 w-10 items-center justify-center rounded-lg
              ${r?"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-400 dark:bg-gray-800 dark:text-gray-500"}
            `;let k;e[11]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(de,{className:"h-5 w-5"}),e[11]=k):k=e[11];let h;e[12]!==g?(h=t.jsx("div",{className:g,children:k}),e[12]=g,e[13]=h):h=e[13];let y;e[14]!==s.name?(y=t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.name}),e[14]=s.name,e[15]=y):y=e[15];let p;e[16]!==s.id?(p=t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-[150px]",children:s.id}),e[16]=s.id,e[17]=p):p=e[17];let _;e[18]!==y||e[19]!==p?(_=t.jsxs("div",{children:[y,p]}),e[18]=y,e[19]=p,e[20]=_):_=e[20];let v;e[21]!==h||e[22]!==_?(v=t.jsxs("div",{className:"flex items-center gap-3",children:[h,_]}),e[21]=h,e[22]=_,e[23]=v):v=e[23];let w;e[24]!==s.is_paused?(w=s.is_paused&&t.jsx(H,{variant:"warning",size:"sm",children:t.jsx(re,{className:"h-3 w-3"})}),e[24]=s.is_paused,e[25]=w):w=e[25];let M;e[26]!==s.status?(M=t.jsx(pt,{status:s.status}),e[26]=s.status,e[27]=M):M=e[27];let S;e[28]!==w||e[29]!==M?(S=t.jsxs("div",{className:"flex items-center gap-2",children:[w,M]}),e[28]=w,e[29]=M,e[30]=S):S=e[30];let $;e[31]!==v||e[32]!==S?($=t.jsx(I.Header,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[v,S]})}),e[31]=v,e[32]=S,e[33]=$):$=e[33];let C;e[34]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assigned Queues"}),e[34]=C):C=e[34];let z;e[35]!==s.queues?(z=s.queues.map(Nt),e[35]=s.queues,e[36]=z):z=e[36];let D;e[37]!==z?(D=t.jsxs("div",{children:[C,t.jsx("div",{className:"flex flex-wrap gap-1.5",children:z})]}),e[37]=z,e[38]=D):D=e[38];let P;e[39]!==r||e[40]!==s.cpu_usage||e[41]!==s.memory_usage?(P=r&&t.jsxs("div",{className:"space-y-3",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Resource Usage"}),t.jsx(ue,{label:"CPU",value:s.cpu_usage??0,max:100,icon:ye}),t.jsx(ue,{label:"Memory",value:s.memory_usage??0,max:100,icon:ke})]}),e[39]=r,e[40]=s.cpu_usage,e[41]=s.memory_usage,e[42]=P):P=e[42];let F;e[43]!==s.current_task_id||e[44]!==s.current_task_name?(F=s.current_task_id&&t.jsx("div",{className:"rounded-lg bg-cyan-50 dark:bg-cyan-900/20 p-3 border border-cyan-200 dark:border-cyan-800",children:t.jsxs("div",{className:"flex items-center gap-2 text-cyan-700 dark:text-cyan-400",children:[t.jsx(ge,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm truncate",children:t.jsx("code",{className:"font-mono",children:s.current_task_name})})]})}),e[43]=s.current_task_id,e[44]=s.current_task_name,e[45]=F):F=e[45];let R;e[46]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Tasks Processed"}),e[46]=R):R=e[46];let V;e[47]!==s.tasks_processed?(V=s.tasks_processed.toLocaleString(),e[47]=s.tasks_processed,e[48]=V):V=e[48];let B;e[49]!==V?(B=t.jsxs("div",{className:"rounded-lg bg-gray-50 dark:bg-gray-800/50 p-3",children:[R,t.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:V})]}),e[49]=V,e[50]=B):B=e[50];let K;e[51]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Success Rate"}),e[51]=K):K=e[51];let A;e[52]!==s.success_rate?(A=s.success_rate.toFixed(1),e[52]=s.success_rate,e[53]=A):A=e[53];let W;e[54]!==A?(W=t.jsxs("div",{className:"rounded-lg bg-gray-50 dark:bg-gray-800/50 p-3",children:[K,t.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[A,"%"]})]}),e[54]=A,e[55]=W):W=e[55];let U;e[56]!==B||e[57]!==W?(U=t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[B,W]}),e[56]=B,e[57]=W,e[58]=U):U=e[58];const Z=`text-sm ${r?"text-green-600 dark:text-green-400":"text-gray-400"}`;let T;e[59]!==s.last_heartbeat?(T=Pe(new Date(s.last_heartbeat),{addSuffix:!0}),e[59]=s.last_heartbeat,e[60]=T):T=e[60];let q;e[61]!==Z||e[62]!==T?(q=t.jsx("span",{className:Z,children:T}),e[61]=Z,e[62]=T,e[63]=q):q=e[63];let O;e[64]!==u||e[65]!==r||e[66]!==c||e[67]!==f||e[68]!==s.is_paused?(O=r&&t.jsx(E,{variant:"ghost",size:"sm",onPress:u,isDisabled:c||f,children:c||f?t.jsx(X,{size:"sm"}):s.is_paused?t.jsxs(t.Fragment,{children:[t.jsx(ce,{className:"h-3 w-3 mr-1"}),"Resume"]}):t.jsxs(t.Fragment,{children:[t.jsx(re,{className:"h-3 w-3 mr-1"}),"Pause"]})}),e[64]=u,e[65]=r,e[66]=c,e[67]=f,e[68]=s.is_paused,e[69]=O):O=e[69];let Q;e[70]!==q||e[71]!==O?(Q=t.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-700 pt-3",children:[q,O]}),e[70]=q,e[71]=O,e[72]=Q):Q=e[72];let L;e[73]!==D||e[74]!==P||e[75]!==F||e[76]!==U||e[77]!==Q?(L=t.jsxs(I.Content,{className:"space-y-4",children:[D,P,F,U,Q]}),e[73]=D,e[74]=P,e[75]=F,e[76]=U,e[77]=Q,e[78]=L):L=e[78];let te;return e[79]!==x||e[80]!==$||e[81]!==m||e[82]!==L?(te=t.jsxs(I,{className:"hover:border-gray-300 dark:hover:border-gray-600 transition-colors cursor-pointer",onClick:x,onMouseEnter:m,children:[$,L]}),e[79]=x,e[80]=$,e[81]=m,e[82]=L,e[83]=te):te=e[83],te}function Nt(l){return t.jsx(H,{variant:"default",size:"sm",children:l},l)}function vt(l){const e=b.c(42),{workers:s}=l;let i;e[0]!==s?(i=s.filter(zt),e[0]=s,e[1]=i):i=e[1];const r=i.length;let a;e[2]!==s?(a=s.filter(St),e[2]=s,e[3]=a):a=e[3];const n=a.length;let c;e[4]!==s?(c=s.filter(wt),e[4]=s,e[5]=c):c=e[5];const o=c.length;let f;e[6]!==s?(f=s.reduce(bt,0),e[6]=s,e[7]=f):f=e[7];const j=f;let u;e[8]!==r||e[9]!==n||e[10]!==o||e[11]!==j||e[12]!==s.length?(u={active:r,idle:n,offline:o,total:s.length,totalTasks:j},e[8]=r,e[9]=n,e[10]=o,e[11]=j,e[12]=s.length,e[13]=u):u=e[13];const d=u;let x,m;e[14]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",children:t.jsx(de,{className:"h-5 w-5"})}),m=t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Workers"}),e[14]=x,e[15]=m):(x=e[14],m=e[15]);let g;e[16]!==d.total?(g=t.jsx(I,{children:t.jsx(I.Content,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[x,t.jsxs("div",{children:[m,t.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:d.total})]})]})})}),e[16]=d.total,e[17]=g):g=e[17];let k,h;e[18]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",children:t.jsx(me,{className:"h-5 w-5"})}),k=t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active"}),e[18]=k,e[19]=h):(k=e[18],h=e[19]);let y;e[20]!==d.active?(y=t.jsx(I,{children:t.jsx(I.Content,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[h,t.jsxs("div",{children:[k,t.jsx("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:d.active})]})]})})}),e[20]=d.active,e[21]=y):y=e[21];let p,_;e[22]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400",children:t.jsx(oe,{className:"h-5 w-5"})}),_=t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Idle"}),e[22]=p,e[23]=_):(p=e[22],_=e[23]);let v;e[24]!==d.idle?(v=t.jsx(I,{children:t.jsx(I.Content,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[p,t.jsxs("div",{children:[_,t.jsx("p",{className:"text-xl font-bold text-yellow-600 dark:text-yellow-400",children:d.idle})]})]})})}),e[24]=d.idle,e[25]=v):v=e[25];let w,M;e[26]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400",children:t.jsx(pe,{className:"h-5 w-5"})}),M=t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Offline"}),e[26]=w,e[27]=M):(w=e[26],M=e[27]);let S;e[28]!==d.offline?(S=t.jsx(I,{children:t.jsx(I.Content,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[w,t.jsxs("div",{children:[M,t.jsx("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:d.offline})]})]})})}),e[28]=d.offline,e[29]=S):S=e[29];let $,C;e[30]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400",children:t.jsx(Me,{className:"h-5 w-5"})}),C=t.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tasks Done"}),e[30]=$,e[31]=C):($=e[30],C=e[31]);let z;e[32]!==d.totalTasks?(z=d.totalTasks.toLocaleString(),e[32]=d.totalTasks,e[33]=z):z=e[33];let D;e[34]!==z?(D=t.jsx(I,{children:t.jsx(I.Content,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[$,t.jsxs("div",{children:[C,t.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:z})]})]})})}),e[34]=z,e[35]=D):D=e[35];let P;return e[36]!==y||e[37]!==v||e[38]!==S||e[39]!==D||e[40]!==g?(P=t.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-5",children:[g,y,v,S,D]}),e[36]=y,e[37]=v,e[38]=S,e[39]=D,e[40]=g,e[41]=P):P=e[41],P}function bt(l,e){return l+e.tasks_processed}function wt(l){return l.status==="offline"}function St(l){return l.status==="idle"}function zt(l){return l.status==="active"}function Ot(){const l=b.c(45),[e,s]=se.useState(""),[i,r]=se.useState("all"),[a,n]=se.useState(null),c=i==="all"?void 0:i,o=e||void 0;let f;l[0]!==c||l[1]!==o?(f={status:c,search:o},l[0]=c,l[1]=o,l[2]=f):f=l[2];const j=f;let u;l[3]!==j?(u={filters:j},l[3]=j,l[4]=u):u=l[4];const{data:d,isPending:x,error:m,refetch:g,isFetching:k}=Ae(u);let h;l[5]!==d?.items?(h=d?.items??[],l[5]=d?.items,l[6]=h):h=l[6];const y=h,p=Ge();let _;l[7]===Symbol.for("react.memo_cache_sentinel")?(_=W=>{n(W)},l[7]=_):_=l[7];const v=_;let w;l[8]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{n(null)},l[8]=w):w=l[8];const M=w;let S;l[9]!==p?(S=()=>{p()},l[9]=p,l[10]=S):S=l[10];const $=S;if(m){let W,U;l[11]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(ie,{className:"h-12 w-12 text-red-500 mb-4"}),U=t.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Failed to load workers"}),l[11]=W,l[12]=U):(W=l[11],U=l[12]);const Z=m instanceof Error?m.message:"An error occurred";let T;l[13]!==Z?(T=t.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:Z}),l[13]=Z,l[14]=T):T=l[14];let q;l[15]!==g?(q=()=>g(),l[15]=g,l[16]=q):q=l[16];let O;l[17]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(xe,{className:"h-4 w-4"}),l[17]=O):O=l[17];let Q;l[18]!==q?(Q=t.jsxs(E,{onPress:q,children:[O,"Try Again"]}),l[18]=q,l[19]=Q):Q=l[19];let L;return l[20]!==T||l[21]!==Q?(L=t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[W,U,T,Q]}),l[20]=T,l[21]=Q,l[22]=L):L=l[22],L}let C;l[23]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Workers"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Monitor and manage your task workers"})]}),l[23]=C):C=l[23];let z;l[24]!==g?(z=()=>g(),l[24]=g,l[25]=z):z=l[25];const D=`h-4 w-4 ${k?"animate-spin":""}`;let P;l[26]!==D?(P=t.jsx(xe,{className:D}),l[26]=D,l[27]=P):P=l[27];let F;l[28]!==k||l[29]!==P||l[30]!==z?(F=t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[C,t.jsxs(E,{variant:"outline",onPress:z,isDisabled:k,children:[P,"Refresh"]})]}),l[28]=k,l[29]=P,l[30]=z,l[31]=F):F=l[31];let R;l[32]!==x||l[33]!==e||l[34]!==i||l[35]!==y?(R=x?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(X,{size:"lg"})}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{workers:y}),t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[t.jsx("div",{className:"flex-1 max-w-md",children:t.jsx(Se,{placeholder:"Search workers...",value:e,onChange:s})}),t.jsx("div",{className:"flex gap-2",children:["all","active","idle","offline"].map(W=>t.jsx(E,{variant:i===W?"primary":"outline",size:"sm",onPress:()=>r(W),children:W.charAt(0).toUpperCase()+W.slice(1)},W))})]}),y.length===0?t.jsx(I,{children:t.jsxs(I.Content,{className:"py-12 text-center",children:[t.jsx(je,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"No workers found"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e||i!=="all"?"Try adjusting your search or filter criteria":"No workers are currently registered"})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:y.map(W=>t.jsx(_t,{worker:W,onViewDetails:v},W.id))})]}),l[32]=x,l[33]=e,l[34]=i,l[35]=y,l[36]=R):R=l[36];const V=a??"",B=a!==null;let K;l[37]!==$||l[38]!==V||l[39]!==B?(K=t.jsx(jt,{workerId:V,isOpen:B,onClose:M,onActionPerformed:$}),l[37]=$,l[38]=V,l[39]=B,l[40]=K):K=l[40];let A;return l[41]!==F||l[42]!==R||l[43]!==K?(A=t.jsxs("div",{className:"space-y-6",children:[F,R,K]}),l[41]=F,l[42]=R,l[43]=K,l[44]=A):A=l[44],A}export{Ot as default};
