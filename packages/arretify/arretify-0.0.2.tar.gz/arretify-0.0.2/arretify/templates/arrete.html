<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <link href="https://cdn.jsdelivr.net/npm/@gouvfr/dsfr@1.13.0/dist/dsfr.css" rel="stylesheet" />
        <style>
            :root {
                --spacing-1: 1rem;
                --spacing-0p5: 0.5rem;
                --spacing-2: 2rem;
            }

            header, main, footer {
                max-width: 800px;
                margin: auto;
                padding: var(--spacing-1);
            }

            ul, ol { 
                list-style: none;
            }

            blockquote {
                border-left: 1px solid var(--border-plain-grey);
                padding-left: var(--spacing-1);
            }

            table {
                border-collapse: collapse;
                width: 100%;
            }

            th {
                text-align: left;
            }

            td, th {
                border: solid 1px #cecece;
                padding: 0.5rem;
            }

            a[data-spec="document_reference"], a[data-spec="section_reference"] {
                color: var(--text-action-high-blue-france);
            }

            *[data-error_codes] {
                font-family: monospace;
                background-color: #ffd0d0 !important;
            }

            [data-spec="alinea"]::before, [data-spec="visa"]::before, [data-spec="motifs"]::before {
                color: var(--text-disabled-grey);
                position: absolute;
                top: 0;
                left: -1rem;
            }

            address {
                display: inline;
            }

            /**************** HEADER ****************/
            header {
                padding-bottom: 0;
                margin-bottom: 0;
            }

            [data-spec="emblem"], [data-spec="entity"], [data-spec="identification"], [data-spec="arrete_title"], [data-spec="honorary"] {
                padding: var(--spacing-1);
                background-color: var(--background-alt-grey);
                text-align: center;
            }

            [data-spec="arrete_title"] {
                color: var(--text-title-grey);
                margin-top: var(--spacing-2);
            }

            [data-spec="arrete_title"] h1 {
                margin: 0;
            }

            [data-spec="emblem"], [data-spec="entity"], [data-spec="identification"], [data-spec="honorary"] {
                color: var(--text-title-blue-france);
                font-size: 120%;
            }

            [data-spec="visa"], [data-spec="motifs"], [data-spec="supplementary_motif_info"], [data-spec="table_of_contents"] {
                position: relative;
                margin-top: var(--spacing-1);
                padding-bottom: 0;
            }

            [data-spec="visa"]::before, [data-spec="motifs"]::before {
                content: '⮞';
            }

            header > *:last-child {
                border-bottom: 1px solid var(--background-action-low-blue-france);
                padding-bottom: var(--spacing-1);
            }

            /**************** MAIN CONTENT AND APPENDIX ****************/
            [data-spec="section"] {
                padding: var(--spacing-0p5) 0;
            }

            [data-spec="alinea"] {
                position: relative;
                margin-top: var(--spacing-0p5);
            }

            [data-spec="alinea"]::before {
                content: '¶';
            }

            [data-spec="alinea"] img {
                max-width: 100%;
            }

            [data-spec="operation"] {
                background-color: var(--background-action-low-blue-france);
            }

            /**************** visual_page_separator ****************/
            .visual_page_separator {
                position: absolute;
                left: 0;
                width: 100vw;
                height: 0.3em;
                background-color: var(--grey-950-100);
                z-index: -1;
            }

            a.visual_page_separator > span {
                position: absolute;
                font-size: 75%;
                color: var(--grey-625-425);
            }
        </style>
        <script>
            window.onload = function() {
                // Page separators are inline elements, so they can be anywhere in the tree.
                // To ensure proper layout, we therefore create a separate visual element
                // for each page separator.
                const pageSeparators = Array.from(document.querySelectorAll('[data-spec="page_separator"]'))
                
                const refreshPageSeparator = () => {
                    document.querySelectorAll('.visual_page_separator')
                        .forEach((visualPageSeparator) => visualPageSeparator.remove())
                    pageSeparators.slice(1).forEach(function(pageSeparator) {
                        const boundingBox = pageSeparator.getBoundingClientRect()
                        const position = getPositionRelativeToDocument(pageSeparator)
                        const pageIndex = parseInt(pageSeparator.dataset.page_index, 10)
                        const visualPageSeparator = document.createElement('a')
                        visualPageSeparator.classList.add('visual_page_separator')
                        visualPageSeparator.style.top = `${position.top + boundingBox.height}px`
                        visualPageSeparator.innerHTML = `<span>↓ page ${pageIndex + 1}</span>`
                        document.body.appendChild(visualPageSeparator)
                    })
                }

                refreshPageSeparator()
                window.addEventListener('resize', refreshPageSeparator)
            }

            const getPositionRelativeToDocument = (el) => {
                const rect = el.getBoundingClientRect()
                return {
                    left: rect.left + window.scrollX,
                    top: rect.top + window.scrollY,
                }
            }
        </script>
    </head>
    <body></body>
</html>