"""
maria_summarize_text_ai_assistant.summarize
==========================================

This module provides functions that summarize text using the Groq API.
"""

import os
from groq import GroqClient

# Initialize Groq client
client = GroqClient(api_key=os.getenv("GROQ_API_KEY"))

def summarize_text(text: str) -> str:
    """
    Summarize long text using Groq API.

    Parameters
    ----------
    text : str
        The long input text to summarize.

    Returns
    -------
    str
        A concise summary generated by Groq.

    Raises
    ------
    ValueError
        If input text is empty or API key is missing.
    """

    if not text or text.strip() == "":
        raise ValueError("Input text cannot be empty.")

    prompt = f"Please summarize the following text concisely:\n\n{text}"

    # Groq text generation
    response = client.generate(prompt=prompt, model="llama-3b")  # or llama-3b-chat
    return response.text
