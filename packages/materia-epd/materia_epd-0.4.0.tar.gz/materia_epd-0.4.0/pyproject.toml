[build-system]
requires = ["setuptools>=68", "setuptools_scm[toml]>=8", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "materia-epd"
dynamic = ["version"]
description = "Generic EPD Aggregator"
authors = [{ name = "Paul Baustert", email = "p.m.baustert@gmail.com" }]
readme = { file = "README.md", content-type = "text/markdown" }
requires-python = ">=3.10"
dependencies = [
    "click",
    "numpy",
    "pandas",
    "pycountry",
    "comtradeapicall"
]
license = "MIT"
license-files = ["LICENSE.txt"]
classifiers = [
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Operating System :: OS Independent"
]

[project.optional-dependencies]
dev = [
    "black==23.9.1",
    "flake8==6.1.0",
    "pytest==7.4.2",
    "pytest-cov==4.1.0",
    "pre-commit==3.4.0",
    "deptry",
    "coverage-badge",
    "sphinx"
]

[tool.setuptools_scm]
version_scheme = "no-guess-dev"
local_scheme = "dirty-tag"

[tool.setuptools]
package-dir = {"" = "src"}

[tool.setuptools.packages.find]
include = ["materia_epd*"]
where = ["src"]

[tool.setuptools.package-data]
materia = ["data/*.json"]

[tool.pytest.ini_options]
addopts = "--cov=materia_epd --cov-report=term-missing --cov-fail-under=90"
testpaths = ["tests"]

[tool.deptry]
pep621_dev_dependency_groups = ["dev"]
extend_exclude = ["docs"]

[tool.deptry.per_rule_ignores]
DEP003 = ["materia_epd"]
