Metadata-Version: 2.4
Name: fastapi-redaction
Version: 0.1.0
Summary: Redact secrets in FastAPI requests, responses, and logs.
Author-email: Rakhil KR <rakhil.rahul@gmail.com>
License-Expression: MIT
Keywords: fastapi,logging,security,middleware,redaction
Classifier: Programming Language :: Python :: 3
Classifier: Framework :: FastAPI
Classifier: Operating System :: OS Independent
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: fastapi>=0.95
Requires-Dist: starlette>=0.27
Dynamic: license-file

# ğŸ“¦ fastapi-redaction

> **Automatic secret & sensitive-data redaction for FastAPI (logs, headers, responses)**  
> Prevent AWS keys, Okta tokens, DB passwords, SFTP credentials, SharePoint secrets, JWT secrets, and any sensitive values from leaking into logs or API responses â€” without modifying your FastAPI endpoint code.

---

<p align="center">
  <img src="https://img.shields.io/badge/python-3.9%2B-blue?logo=python&logoColor=white" />
  <img src="https://img.shields.io/badge/FastAPI-Compatible-brightgreen?logo=fastapi" />
  <img src="https://img.shields.io/badge/License-MIT-yellow?logo=open-source-initiative" />
  <img src="https://img.shields.io/pypi/v/fastapi-redaction.svg?logo=pypi" />
  <img src="https://img.shields.io/github/stars/yourusername/fastapi-redaction?style=social" />
</p>

<p align="center">
  <img src="https://media.giphy.com/media/3o7aD2saalBwwftBIY/giphy.gif" width="400" alt="Security Animation"/>
</p>

---

## ğŸš¨ Why this package exists

FastAPI applications often log or return sensitive information during:

- ğŸ Debugging  
- âš ï¸ Exception handling  
- ğŸ”„ Background tasks  
- ğŸ“œ Request logging  
- ğŸ›¡ Middleware traces  
- ğŸ“¤ API responses  

This can unintentionally expose:

- ğŸ”‘ AWS access keys  
- ğŸ” Okta API tokens  
- ğŸ”‘ SFTP / SSH passwords  
- ğŸ“‚ SharePoint / MS Graph secrets  
- ğŸ—„ Database passwords  
- ğŸ”’ JWT secrets & signing keys  
- ğŸŒ Third-party API keys  

ğŸ‘‰ This library **fully prevents such leaks** by automatically redacting secrets at multiple layers.

---

## âœ¨ Features

- ğŸ”¥ **Full-stack secret masking**  
  Redacts secrets from JSON responses, headers, logs, and any string containing sensitive substrings.

- ğŸ” **Automatic secret discovery**  
  Detects environment variables like `*_SECRET`, `*_KEY`, `*_TOKEN`, `*_PASSWORD`, `CREDENTIAL`, `PRIVATE_KEY`.

- ğŸ§  **Substring-based masking**  
  Any secret value is replaced with: `REDACTED`.

- ğŸ›¡ **Configurable JSON key masking**  
  Force-hide fields such as: `password`, `token`, `secret`, `api_key`, `session`.

- ğŸ’¨ **Zero changes to your API endpoints**  
  Just one line:  
  ```python
  redaction.init_app(app)
  ```

## ğŸ“¥ Installation
  ```python
   pip install fastapi-redaction
  ```

## ğŸš€ Quick Start Example

  ```python
   python -m build   
  ```

  ```python
   pip install dist/fastapi_redaction-0.1.0-py3-none-any.whl    
  ```

  ```python
   python .\example_app.py   
  ```


## âš™ï¸ Advanced Usage

ğŸ”§ Explicit environment variables

  ```python
    config = RedactionConfig(
        explicit_env_keys=[
            "SFTP_PASSWORD",
            "SHAREPOINT_CLIENT_SECRET",
            "MY_SERVICE_TOKEN",
        ]
    )
  ```

## ğŸ” Security Notes

This package prevents secret leakage to:

- ğŸŒ API clients  
- ğŸ–¥ Browser DevTools  
- â˜ï¸ Cloud logs  
- ğŸ”„ Reverse proxies  
- ğŸ¤– AI tools in IDEs (Copilot, Cursor, Windsurf)  
- ğŸ’» Local console output  

âš ï¸ It does **not** modify your internal logic â€” handlers still receive the real values.
