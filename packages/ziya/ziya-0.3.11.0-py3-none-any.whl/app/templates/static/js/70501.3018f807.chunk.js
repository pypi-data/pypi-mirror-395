"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[70501],{70501:(e,i,s)=>{s.r(i),s.d(i,{default:()=>ne});var r=s(89379),n=s(65043),t=s(42261),l=s(37490),o=s(15492),a=s(89073),c=s(32513),d=s(11645),p=s(97326),h=s(20691),x=s(8354),v=s(99472),j=s(95645),y=s(6658),u=s(54522),A=s(22019),g=s(46909),m=s(96603),f=s(47419),b=s(98080),w=s(91957),I=s(91686),S=s(26612),C=s(12624),k=s(98105),T=s(76399),R=s(94828),_=s(61494),E=s(30119),B=s(29792),z=s(1259),L=s(61966),D=s(89330),U=s(41334),N=s(61118),P=s(70492),O=s(10454),F=s(37755),M=s(69380),q=s(94786),W=s(73847),V=s(90617),J=s(24228),H=s(14524),G=s(59654),K=s(74017),Q=s(95240),Z=s(70579);const{Search:Y}=y.A,{Text:X,Title:$,Paragraph:ee}=_.A,{Option:ie}=b.A,{Panel:se}=p.A,{TabPane:re}=k.A,ne=e=>{let{visible:i,onClose:s}=e;const[_,$]=(0,n.useState)([]),[ne,te]=(0,n.useState)(0),[le,oe]=(0,n.useState)([]),[ae,ce]=(0,n.useState)([]),[de,pe]=(0,n.useState)([]),[he,xe]=(0,n.useState)(!1),[ve,je]=(0,n.useState)({}),[ye,ue]=(0,n.useState)(""),[Ae,ge]=(0,n.useState)("browse"),[me,fe]=(0,n.useState)([]),[be,we]=(0,n.useState)(!0),[Ie,Se]=(0,n.useState)({}),[Ce,ke]=(0,n.useState)(null),[Te,Re]=(0,n.useState)("all"),[_e,Ee]=(0,n.useState)("all"),[Be,ze]=(0,n.useState)("name"),[Le,De]=(0,n.useState)(null),[Ue,Ne]=(0,n.useState)(!1),[Pe,Oe]=(0,n.useState)(!1),[Fe,Me]=(0,n.useState)([]),[qe,We]=(0,n.useState)(!1),[Ve,Je]=(0,n.useState)({}),[He,Ge]=(0,n.useState)(!1),[Ke]=j.A.useForm(),[Qe,Ze]=(0,n.useState)([]),[Ye,Xe]=(0,n.useState)({}),[$e,ei]=(0,n.useState)(1),[ii,si]=(0,n.useState)(10),ri=(0,n.useRef)(null),[ni,ti]=(0,n.useState)(!1),[li,oi]=(0,n.useState)(null);(0,n.useEffect)(()=>{i&&(ai(),di(),pi(),gi(),mi(),ci())},[i]);const ai=async()=>{try{const e=await fetch("/api/mcp/registry/providers");if(e.ok){const i=await e.json(),s={id:"builtin",name:"Ziya Builtin",isInternal:!0,supportsSearch:!1,enabled:!0,stats:{totalServices:Object.keys(i.builtinTools||{}).length,lastFetched:(new Date).toISOString()}};ce([s,...i.providers]),fe([s,...i.providers].map(e=>e.id)),console.log("Loaded providers:",i.providers)}}catch(e){console.error("Error loading providers:",e)}},ci=async()=>{try{const e=await fetch("/api/mcp/registry/services");if(e.ok){const i=await e.json(),s={};i.services.forEach(e=>{const i=e.provider.id;s[i]=(s[i]||0)+1,e.provider.availableIn&&e.provider.availableIn.forEach(e=>{e!==i&&(s[e]=(s[e]||0)+1)})});const r={};Object.entries(s).forEach(e=>{let[i,s]=e;r[i]={totalServices:s,lastFetched:(new Date).toISOString()}}),Je(r)}}catch(e){console.error("Error loading registry stats:",e)}};(0,n.useEffect)(()=>{i&&"registries"===Ae&&(async()=>{try{const e=await fetch("/api/mcp/registry/services?max_results=10000");if(e.ok){const i=await e.json(),s={};i.services.forEach(e=>{(e.provider.availableIn||[e.provider.id]).forEach(i=>{s[i]||(s[i]=[]),s[i].push(e.serviceName)})}),Xe(s)}}catch(e){console.error("Error loading registry service names:",e)}})()},[i,Ae]);const di=async()=>{xe(!0);try{const e=await fetch("/api/mcp/registry/services");if(e.ok){const i=await e.json();$(i.services),te(i.services.length);const s={},r={};i.services.forEach(e=>{s[e.installationType||"unknown"]=(s[e.installationType||"unknown"]||0)+1,r[e.supportLevel]=(r[e.supportLevel]||0)+1}),ke({total:i.services.length,byType:s,bySupport:r})}else A.Ay.error("Failed to load available services")}catch(e){console.error("Error loading services:",e),A.Ay.error("Error loading services")}finally{xe(!1)}},pi=async()=>{try{const e=await fetch("/api/mcp/registry/services/installed");if(e.ok){const i=await e.json();oe(i.services)}}catch(e){console.error("Error loading installed services:",e)}},hi=async e=>{if(!e.trim())return pe([]),void ue("");if(ue(e),e.trim()){xe(!0);try{const i=await fetch("/api/mcp/registry/tools/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,maxTools:20,providers:me.length>0?me:null})});if(i.ok){const e=await i.json();pe(e.results)}else A.Ay.error("Failed to search tools")}catch(i){console.error("Error searching tools:",i),A.Ay.error("Error searching tools")}finally{xe(!1)}}else pe([])};(0,n.useEffect)(()=>{"browse"!==Ae&&ye&&(ue(""),pe([]))},[Ae]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{ye.trim()&&"browse"===Ae&&hi(ye)},500);return()=>clearTimeout(e)},[ye,Ae,me]);const xi=async()=>{try{const e=await fetch("/api/mcp/registry/check-binary");if(e.ok){return!0===(await e.json()).available}return!1}catch(e){return console.error("Error checking mcp-registry binary:",e),!1}},vi=()=>{ti(!1),oi(null),je(e=>(0,r.A)((0,r.A)({},e),{},{[li]:!1}))},ji=async e=>{try{const i=await fetch("/api/mcp/registry/services/install",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:e,provider_id:null})});if(i.ok){const s=await i.json();if("success"===s.status){const i=s.server_name||s.service_id||e;A.Ay.success("Successfully installed ".concat(i))}else A.Ay.error("Installation failed: ".concat(s.error||"Unknown error"));await pi(),window.dispatchEvent(new Event("mcpStatusChanged"))}else{const e=await i.json();A.Ay.error("Installation failed: ".concat(e.error||e.detail||"Unknown error"))}}catch(i){console.error("Installation error:",i),A.Ay.error("Installation failed")}finally{je(i=>(0,r.A)((0,r.A)({},i),{},{[e]:!1}))}},yi=async e=>{if((e=>{var i;const s=_.find(i=>i.serviceId===e);return s&&("amazon-internal"===s.provider.id||(null===(i=s.provider.availableIn)||void 0===i?void 0:i.includes("amazon-internal")))||!1})(e)){if(!await xi())return oi(e),void ti(!0)}if(e.startsWith("builtin_")){const s=e.replace("builtin_","");if("time"===s||"shell"===s){try{(await fetch("/api/mcp/toggle-server",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_name:s,enabled:!0})})).ok?(A.Ay.success("Enabled ".concat(s," server")),await pi(),window.dispatchEvent(new Event("mcpStatusChanged"))):A.Ay.error("Failed to enable ".concat(s," server"))}catch(i){A.Ay.error("Failed to enable ".concat(s," server"))}return}try{(await fetch("/api/mcp/builtin-tools/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:s,enabled:!0})})).ok?(A.Ay.success("Enabled ".concat(s," builtin tools")),await di(),window.dispatchEvent(new Event("mcpStatusChanged"))):A.Ay.error("Failed to enable builtin tools")}catch(i){A.Ay.error("Failed to enable builtin tools")}return}je(i=>(0,r.A)((0,r.A)({},i),{},{[e]:!0}));try{await ji(e)}finally{je(i=>(0,r.A)((0,r.A)({},i),{},{[e]:!1}))}},ui=e=>{if(null!==e&&void 0!==e&&e.startsWith("builtin_")){const i=e.replace("builtin_","");return("time"===i||"shell"===i)&&le.some(e=>e.serverName===i)}return le.some(i=>i.serviceId===e)},Ai=e=>{switch(e){case"Recommended":return"green";case"Supported":return"blue";case"Under assessment":return"orange";case"In development":return"red";case"Community":return"cyan";case"Experimental":return"purple";default:return"default"}},gi=async()=>{},mi=async()=>{try{const e=await fetch("/api/mcp/registry/favorites");if(e.ok){const i=await e.json();Me(i.favorites||[])}}catch(e){console.error("Error loading favorites:",e)}},fi=async e=>{const i=Fe.includes(e)?Fe.filter(i=>i!==e):[...Fe,e];Me(i);try{await fetch("/api/mcp/registry/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({favorites:i})})}catch(s){console.error("Error updating favorites:",s)}},bi=async(e,i)=>{Ne(!0),Oe(!0);try{const s=i?"/api/mcp/registry/services/".concat(encodeURIComponent(e),"/preview?provider_id=").concat(i):"/api/mcp/registry/services/".concat(encodeURIComponent(e),"/preview"),r=await fetch(s);if(r.ok){const e=await r.json();De(e)}else A.Ay.error("Failed to load service preview"),Oe(!1)}catch(s){console.error("Error loading preview:",s),A.Ay.error("Error loading preview"),Oe(!1)}finally{Ne(!1)}},wi=e=>{Se(i=>(0,r.A)((0,r.A)({},i),{},{[e]:!i[e]}))},Ii=function(e){var i;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=e.serviceId.startsWith("builtin_"),n=le.find(i=>i.serviceId===e.serviceId),l=!!n,c=!0===(null===n||void 0===n?void 0:n._manually_configured),p=s.find(i=>i.service.serviceId===e.serviceId),h=(null===p||void 0===p?void 0:p.matchingTools)||e._matchingTools||[];return(0,Z.jsx)(a.A,{style:{marginBottom:16},hoverable:!0,actions:[!r&&(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(N.A,{}),onClick:()=>bi(e.serviceId,e.provider.id),children:"Preview"},"preview"),(0,Z.jsx)(R.A,{title:Fe.includes(e.serviceId)?"Remove from favorites":"Add to favorites",children:(0,Z.jsx)(o.Ay,{icon:Fe.includes(e.serviceId)?(0,Z.jsx)(F.A,{style:{color:"#ff4d4f"}}):(0,Z.jsx)(M.A,{}),onClick:()=>fi(e.serviceId)})},"favorite"),(0,Z.jsx)(o.Ay,{type:r?"default":"primary",icon:(0,Z.jsx)(D.A,{}),loading:ve[e.serviceId],disabled:l,onClick:()=>yi(e.serviceId),children:r?l?"Enabled":"Enable":l?c?"Configured":"Installed":"Install"},"install"),!r&&e.repositoryUrl&&(0,Z.jsx)(R.A,{title:"View Repository",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(P.A,{}),onClick:()=>window.open(e.repositoryUrl,"_blank")})},"repo"),!r&&e.securityReviewLink&&(0,Z.jsx)(R.A,{title:"Security Review",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(J.A,{}),onClick:()=>window.open(e.securityReviewLink,"_blank")},"security")},"security"),l&&!r&&(0,Z.jsx)(R.A,{title:"Uninstall service",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(L.A,{}),danger:!0,onClick:()=>(async e=>{try{const i=await fetch("/api/mcp/registry/services/uninstall",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({server_name:e})});if(i.ok)A.Ay.success("Service uninstalled successfully"),await pi(),await di(),await ci(),window.dispatchEvent(new Event("mcpStatusChanged"));else{const e=await i.json();A.Ay.error("Uninstall failed: ".concat(e.detail))}}catch(i){console.error("Uninstall error:",i),A.Ay.error("Uninstall failed")}})(n.serverName)})},"uninstall"),(0,Z.jsx)(R.A,{title:Ie[e.serviceId]?"Show less":"Show more",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(q.A,{}),onClick:()=>wi(e.serviceId)})},"info")].filter(Boolean),children:(0,Z.jsx)(a.A.Meta,{title:(0,Z.jsxs)(w.A,{wrap:!0,children:[(0,Z.jsx)("span",{children:e.serviceName}),(0,Z.jsx)(T.A,{color:Ai(e.supportLevel),children:e.supportLevel}),c&&(0,Z.jsx)(T.A,{color:"orange",icon:(0,Z.jsx)(K.A,{}),children:"Manually Configured"}),r?(0,Z.jsxs)(T.A,{color:"purple",children:[(0,Z.jsx)(U.A,{})," Builtin"]}):e.provider.availableIn&&e.provider.availableIn.length>1?(0,Z.jsx)(R.A,{title:"Available in: ".concat(e.provider.availableIn.join(", ")),children:(0,Z.jsxs)(T.A,{color:"purple",children:[e.provider.availableIn.length," sources"]})}):(0,Z.jsx)(T.A,{color:e.provider.isInternal?"gold":"blue",children:e.provider.name}),e.installationType&&(0,Z.jsx)(T.A,{color:"geekblue",children:e.installationType}),r&&!1===e._dependencies_available&&(0,Z.jsx)(T.A,{color:"orange",icon:(0,Z.jsx)(Q.A,{}),children:"Dependencies Required"})]}),description:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(ee,{ellipsis:!Ie[e.serviceId]&&{rows:2},style:{marginBottom:8},children:e.serviceDescription}),h&&h.length>0&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Matching Tools: "}),h.map(e=>(0,Z.jsx)(T.A,{icon:(0,Z.jsx)(K.A,{}),color:"blue",children:e.toolName},e.toolName))]}),r&&e._available_tools&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Z.jsx)(T.A,{color:"cyan",children:e},e))]}),r&&!1===e._dependencies_available&&(0,Z.jsx)(t.A,{message:"Dependencies Required",description:(0,Z.jsxs)("div",{children:["Install with: ",(0,Z.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),Ie[e.serviceId]&&(0,Z.jsxs)("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,Z.jsxs)(f.A,{gutter:16,style:{marginBottom:12},children:[e.downloadCount&&(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(S.A,{title:"Downloads",value:e.downloadCount,prefix:(0,Z.jsx)(D.A,{}),valueStyle:{fontSize:"16px"}})}),e.starCount&&(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(S.A,{title:"Stars",value:e.starCount,prefix:(0,Z.jsx)(G.A,{}),valueStyle:{fontSize:"16px"}})}),(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(S.A,{title:"Updated",value:new Date(e.lastUpdatedAt).toLocaleDateString(),prefix:(0,Z.jsx)(E.A,{}),valueStyle:{fontSize:"14px"}})})]}),e.author&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Author: "}),(0,Z.jsx)(X,{children:e.author})]}),e.provider.availableIn&&e.provider.availableIn.length>1&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Available in: "}),e.provider.availableIn.map(e=>(0,Z.jsx)(T.A,{color:"blue",children:e},e))]})]}),(0,Z.jsx)("div",{style:{marginBottom:8},children:null===(i=e.tags)||void 0===i?void 0:i.map(e=>(0,Z.jsx)(T.A,{color:"default",children:e},e))}),(0,Z.jsxs)(X,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[(0,Z.jsxs)("span",{children:["ID: ",e.serviceId]}),e.version&&(0,Z.jsxs)("span",{children:["v",e.version]})]})]})})},e.serviceId)},Si=async e=>{try{(await fetch("/api/mcp/registry/providers/".concat(e,"/refresh"),{method:"POST"})).ok&&(A.Ay.success("Registry refreshed successfully"),await ci(),await di())}catch(i){console.error("Error refreshing registry:",i),A.Ay.error("Failed to refresh registry")}};return(0,Z.jsxs)(g.A,{title:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(B.A,{}),(0,Z.jsx)("span",{children:"MCP Registry"})]}),open:i,onCancel:s,footer:[(0,Z.jsx)(o.Ay,{onClick:s,children:"Close"},"close")],width:800,style:{top:20},bodyStyle:{height:"70vh",overflow:"auto",display:"flex",flexDirection:"column"},destroyOnClose:!1,children:[(0,Z.jsxs)(k.A,{activeKey:Ae,onChange:ge,style:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,Z.jsx)(re,{tab:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(O.A,{}),(0,Z.jsx)("span",{children:"Registries"}),(0,Z.jsx)(l.A,{count:ae.length})]}),children:(0,Z.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Z.jsx)(a.A,{size:"small",style:{marginBottom:16},bodyStyle:{padding:"12px 16px"},children:(0,Z.jsxs)(f.A,{gutter:16,align:"middle",children:[(0,Z.jsx)(d.A,{span:6,children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(S.A,{title:"Registries",value:ae.length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#52c41a"},prefix:(0,Z.jsx)(O.A,{})}),(0,Z.jsxs)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:[(0,Z.jsxs)("div",{children:["\u21b3 Internal: ",ae.filter(e=>e.isInternal).length]}),(0,Z.jsxs)("div",{children:["\u21b3 External: ",ae.filter(e=>!e.isInternal).length]})]})]})}),(0,Z.jsx)(d.A,{span:6,children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(S.A,{title:"Services",value:ne,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#1890ff"}}),(0,Z.jsxs)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:[(0,Z.jsxs)("div",{children:["\u21b3 Installed: ",le.length]}),(0,Z.jsxs)("div",{children:["\u21b3 Available: ",ne-le.length]})]})]})}),(0,Z.jsx)(d.A,{span:6,children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(S.A,{title:"Support Levels",value:Object.keys((null===Ce||void 0===Ce?void 0:Ce.bySupport)||{}).length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#faad14"}}),(0,Z.jsx)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:Ce&&Object.entries(Ce.bySupport).slice(0,2).map(e=>{let[i,s]=e;return(0,Z.jsxs)("div",{children:["\u21b3 ",i,": ",s]},i)})})]})}),(0,Z.jsx)(d.A,{span:6,children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(S.A,{title:"Install Types",value:Object.keys((null===Ce||void 0===Ce?void 0:Ce.byType)||{}).length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#722ed1"}}),(0,Z.jsx)("div",{style:{marginTop:"8px",paddingLeft:"10px",fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:Ce&&Object.entries(Ce.byType).slice(0,2).map(e=>{let[i,s]=e;return(0,Z.jsxs)("div",{children:["\u21b3 ",i,": ",s]},i)})})]})})]})}),(0,Z.jsx)(a.A,{style:{marginBottom:16},title:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(W.A,{}),(0,Z.jsx)("span",{children:"Add Custom Registry"})]}),children:He?(0,Z.jsxs)(j.A,{form:Ke,onFinish:async e=>{try{const i=await fetch("/api/mcp/registry/providers/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(i.ok)A.Ay.success("Custom registry added successfully"),Ge(!1),Ke.resetFields(),await ai();else{const e=await i.json();A.Ay.error("Failed to add registry: ".concat(e.detail))}}catch(i){console.error("Error adding registry:",i),A.Ay.error("Failed to add registry")}},layout:"vertical",children:[(0,Z.jsxs)(f.A,{gutter:16,children:[(0,Z.jsx)(d.A,{span:12,children:(0,Z.jsx)(j.A.Item,{label:"Registry Name",name:"name",rules:[{required:!0,message:"Please enter a name"}],children:(0,Z.jsx)(y.A,{placeholder:"e.g., Company Internal Registry"})})}),(0,Z.jsx)(d.A,{span:12,children:(0,Z.jsx)(j.A.Item,{label:"Base URL",name:"baseUrl",rules:[{required:!0,message:"Please enter a URL"},{type:"url",message:"Please enter a valid URL"}],children:(0,Z.jsx)(y.A,{placeholder:"https://registry.example.com"})})})]}),(0,Z.jsxs)(f.A,{gutter:16,children:[(0,Z.jsx)(d.A,{span:12,children:(0,Z.jsx)(j.A.Item,{label:"Authentication",name:"authType",children:(0,Z.jsxs)(b.A,{defaultValue:"none",children:[(0,Z.jsx)(ie,{value:"none",children:"None"}),(0,Z.jsx)(ie,{value:"bearer",children:"Bearer Token"}),(0,Z.jsx)(ie,{value:"basic",children:"Basic Auth"})]})})}),(0,Z.jsx)(d.A,{span:12,children:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(o.Ay,{type:"primary",htmlType:"submit",children:"Add Registry"}),(0,Z.jsx)(o.Ay,{onClick:()=>{Ge(!1),Ke.resetFields()},children:"Cancel"})]})})]})]}):(0,Z.jsx)(o.Ay,{type:"dashed",icon:(0,Z.jsx)(W.A,{}),onClick:()=>Ge(!0),style:{width:"100%"},children:"Add Custom Registry Endpoint"})}),(0,Z.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:he?(0,Z.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Z.jsx)(I.A,{size:"large",tip:"Loading registry providers..."})}):0===ae.length?(0,Z.jsx)(v.A,{description:"No registry providers found"}):(0,Z.jsx)(u.A,{dataSource:ae,renderItem:e=>{const i=Ve[e.id]||{totalServices:0},s=!1!==e.enabled,n=he,t=Ye[e.id]||[];return(0,Z.jsx)(a.A,{style:{marginBottom:16,opacity:s?1:.6,border:e.isInternal?"1px solid #faad14":void 0},actions:[(0,Z.jsx)(R.A,{title:"Refresh registry data",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(V.A,{}),onClick:()=>Si(e.id),loading:n,disabled:!s})},"refresh"),(0,Z.jsx)(R.A,{title:"Registry settings",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(H.A,{}),onClick:()=>A.Ay.info("Registry settings coming soon")})},"settings"),!e.isInternal&&(0,Z.jsx)(R.A,{title:"Remove custom registry",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(L.A,{}),danger:!0,onClick:()=>A.Ay.info("Remove registry coming soon")})},"remove")].filter(Boolean),hoverable:!0,children:(0,Z.jsx)(a.A.Meta,{title:(0,Z.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)("span",{children:e.name}),e.isInternal&&(0,Z.jsx)(T.A,{color:"gold",children:"Internal"}),e.supportsSearch&&(0,Z.jsx)(T.A,{color:"blue",children:"Search"}),(0,Z.jsx)(T.A,{color:"default",style:{fontSize:"11px"},children:e.id}),i.errorCount&&i.errorCount>0&&(0,Z.jsxs)(T.A,{color:"red",children:[i.errorCount," errors"]})]}),(0,Z.jsx)(C.A,{checked:s,onChange:i=>(async(e,i)=>{ce(s=>s.map(s=>s.id===e?(0,r.A)((0,r.A)({},s),{},{enabled:i}):s));try{(await fetch("/api/mcp/registry/providers/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider_id:e,enabled:i})})).ok?(A.Ay.success("".concat(i?"Enabled":"Disabled"," registry")),i&&await di()):(ce(s=>s.map(s=>s.id===e?(0,r.A)((0,r.A)({},s),{},{enabled:!i}):s)),A.Ay.error("Failed to toggle registry"))}catch(s){ce(s=>s.map(s=>s.id===e?(0,r.A)((0,r.A)({},s),{},{enabled:!i}):s)),console.error("Error toggling registry:",s),A.Ay.error("Failed to toggle registry")}})(e.id,i)})]}),description:(0,Z.jsx)("div",{children:(0,Z.jsxs)(w.A,{direction:"vertical",style:{width:"100%"},children:[(0,Z.jsxs)(f.A,{gutter:16,children:[(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(p.A,{ghost:!0,size:"small",activeKey:Qe,onChange:e=>Ze(Array.isArray(e)?e:[e]),children:(0,Z.jsx)(se,{header:(0,Z.jsx)(S.A,{title:"Services",value:i.totalServices,prefix:(0,Z.jsx)(z.A,{}),valueStyle:{fontSize:"18px",color:s?"#1890ff":"#bfbfbf"}}),showArrow:t.length>0,children:t.length>0?(0,Z.jsx)("div",{style:{maxHeight:"200px",overflow:"auto",paddingLeft:"10px"},children:t.map(e=>(0,Z.jsxs)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",padding:"2px 0",color:"#666"},children:["\u2022 ",e]},e))}):(0,Z.jsx)(X,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:"No services available"})},e.id)})}),(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsxs)("div",{style:{textAlign:"center"},children:[(0,Z.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c",marginBottom:"4px"},children:"Status"}),(0,Z.jsx)(T.A,{color:s?"green":"default",children:s?"Active":"Disabled"})]})}),(0,Z.jsx)(d.A,{span:8,children:i.lastFetched&&(0,Z.jsxs)("div",{style:{textAlign:"center"},children:[(0,Z.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c",marginBottom:"4px"},children:"Last Updated"}),(0,Z.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:new Date(i.lastFetched).toLocaleTimeString()})]})})]}),(0,Z.jsxs)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:[(0,Z.jsx)(X,{code:!0,children:e.id}),i.fetchTime&&(0,Z.jsxs)("span",{style:{marginLeft:8},children:["\u2022 Fetch time: ",i.fetchTime,"ms"]}),i.errorCount&&i.errorCount>0&&(0,Z.jsxs)("span",{style:{marginLeft:8,color:"#ff4d4f"},children:["\u2022 ",i.errorCount," errors"]})]})]})})})},e.id)}})})]})},"registries"),(0,Z.jsx)(re,{tab:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(K.A,{}),(0,Z.jsx)("span",{children:"Browse Services"})]}),children:(0,Z.jsxs)("div",{ref:ri,style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(()=>{let e=ye&&de.length>0?de.map(e=>e.service).filter(e=>e.serviceId):_;me.length>0&&(e=e.filter(e=>e.provider&&(me.includes(e.provider.id)||e.provider.availableIn&&e.provider.availableIn.some(e=>me.includes(e)))));const i=e.length;return i!==ne||ye||me.length!==ae.length?(0,Z.jsx)(t.A,{message:"Showing ".concat(i," of ").concat(ne," services"),description:ye?'Search: "'.concat(ye,'"'):"Filters applied",type:"info",style:{marginBottom:16},showIcon:!0}):null})(),Ce&&(0,Z.jsx)(a.A,{style:{marginBottom:16},bodyStyle:{padding:"12px 16px"},children:(0,Z.jsxs)(f.A,{gutter:16,align:"middle",children:[(0,Z.jsx)(d.A,{span:6,children:(0,Z.jsx)(S.A,{title:"Available",value:Ce.total,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#1890ff"},prefix:(0,Z.jsx)(B.A,{})})}),(0,Z.jsx)(d.A,{span:6,children:(0,Z.jsx)(S.A,{title:"Registries",value:ae.length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#52c41a"}})}),(0,Z.jsx)(d.A,{span:6,children:(0,Z.jsx)(S.A,{title:"Installed",value:le.length,valueStyle:{fontSize:"24px",fontWeight:"bold",color:"#722ed1"}})}),(0,Z.jsx)(d.A,{span:6,children:(0,Z.jsxs)("div",{style:{textAlign:"left"},children:[(0,Z.jsx)("div",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c",marginBottom:"4px"},children:"Top Type"}),(0,Z.jsx)("div",{children:(0,Z.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:(()=>{const e=Object.entries(Ce.byType).sort((e,i)=>i[1]-e[1])[0];return(null===e||void 0===e?void 0:e[0])||"N/A"})()})}),(0,Z.jsx)("div",{children:(0,Z.jsx)("span",{style:{fontSize:"12px",display:"flex",justifyContent:"space-between",color:"#8c8c8c"},children:(()=>{const e=Object.entries(Ce.byType).sort((e,i)=>i[1]-e[1])[0],i=(null===e||void 0===e?void 0:e[1])||0;return"(".concat(i," servers)")})()})})]})})]})}),(0,Z.jsx)(a.A,{size:"small",style:{marginBottom:16},children:(0,Z.jsxs)("div",{style:{marginBottom:12},children:[(0,Z.jsx)(X,{strong:!0,children:"Search & Filter:"}),(0,Z.jsx)(Y,{placeholder:"Search services or describe tools you need (e.g., 'file operations')",enterButton:"Search",size:"middle",value:ye,onChange:e=>ue(e.target.value),onSearch:hi,loading:he,style:{marginTop:4}}),(0,Z.jsx)(X,{type:"secondary",style:{fontSize:"12px",display:"block",marginTop:4},children:"Search by name, description, or tool functionality"})]})}),(0,Z.jsx)(a.A,{size:"small",style:{marginBottom:16},children:(0,Z.jsxs)(f.A,{gutter:16,children:[(0,Z.jsx)(d.A,{span:24,style:{marginBottom:12},children:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(c.A,{checked:be,onChange:e=>{we(e.target.checked),setTimeout(di,100)},children:"Include Amazon Internal"}),(0,Z.jsx)(x.A,{type:"vertical"}),(0,Z.jsxs)(X,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[ae.length," registries active"]}),(0,Z.jsx)(x.A,{type:"vertical"}),(0,Z.jsx)(c.A,{checked:qe,onChange:e=>We(e.target.checked),children:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(F.A,{style:{color:"#ff4d4f"}}),(0,Z.jsx)("span",{children:"Favorites only"}),Fe.length>0&&(0,Z.jsx)(l.A,{count:Fe.length})]})})]})}),(0,Z.jsxs)(d.A,{span:8,children:[(0,Z.jsx)(X,{strong:!0,children:"Registries: "}),(0,Z.jsx)(b.A,{mode:"multiple",placeholder:"Select registries",style:{width:"100%",marginTop:4},value:me,onChange:fe,children:ae.map(e=>(0,Z.jsxs)(ie,{value:e.id,children:[e.name," ",e.isInternal?"(Internal)":""]},e.id))})]}),(0,Z.jsxs)(d.A,{span:8,children:[(0,Z.jsx)(X,{strong:!0,children:"Sort by: "}),(0,Z.jsxs)(m.Ay.Group,{value:Be,onChange:e=>ze(e.target.value),style:{display:"block",marginTop:4},children:[(0,Z.jsx)(m.Ay.Button,{value:"name",children:"A-Z"}),(0,Z.jsx)(m.Ay.Button,{value:"updated",children:"Recent"}),(0,Z.jsx)(m.Ay.Button,{value:"support",children:"Quality"})]})]}),(0,Z.jsxs)(d.A,{span:8,children:[(0,Z.jsx)(X,{strong:!0,children:"Support Level: "}),(0,Z.jsxs)(b.A,{value:Te,onChange:Re,style:{width:"100%",marginTop:4},children:[(0,Z.jsx)(ie,{value:"all",children:"All Levels"}),(0,Z.jsx)(ie,{value:"Recommended",children:"\u2b50 Recommended"}),(0,Z.jsx)(ie,{value:"Supported",children:"\u2713 Supported"}),(0,Z.jsx)(ie,{value:"Community",children:"\ud83d\udc65 Community"}),(0,Z.jsx)(ie,{value:"Under assessment",children:"\ud83d\udd0d Under Review"}),(0,Z.jsx)(ie,{value:"Experimental",children:"\ud83e\uddea Experimental"})]})]}),(0,Z.jsxs)(d.A,{span:8,children:[(0,Z.jsx)(X,{strong:!0,children:"Install Type: "}),(0,Z.jsxs)(b.A,{value:_e,onChange:Ee,style:{width:"100%",marginTop:4},children:[(0,Z.jsx)(ie,{value:"all",children:"All Types"}),(0,Z.jsx)(ie,{value:"npm",children:"\ud83d\udce6 NPM"}),(0,Z.jsx)(ie,{value:"pypi",children:"\ud83d\udc0d Python"}),(0,Z.jsx)(ie,{value:"docker",children:"\ud83d\udc33 Docker"}),(0,Z.jsx)(ie,{value:"remote",children:"\u2601\ufe0f Remote"}),(0,Z.jsx)(ie,{value:"git",children:"\ud83d\udcc2 Git Clone"})]})]})]})}),(0,Z.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:he?(0,Z.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Z.jsx)(I.A,{size:"large",tip:ye?"Searching services...":"Loading MCP servers from all registries..."})}):0===_.length?(0,Z.jsx)(v.A,{description:"No services found. Try adjusting filters or check your connection.",image:v.A.PRESENTED_IMAGE_SIMPLE}):(()=>{let e=ye&&de.length>0?de.map(e=>(0,r.A)((0,r.A)((0,r.A)({},e.service),_.find(i=>i.serviceId===e.service.serviceId)),{},{_matchingTools:e.matchingTools})).filter(e=>e.serviceId):_;me.length>0&&(e=e.filter(e=>me.includes(e.provider.id)||e.provider.availableIn&&e.provider.availableIn.some(e=>me.includes(e)))),"all"!==Te&&(e=e.filter(e=>e.supportLevel===Te)),"all"!==_e&&(e=e.filter(e=>e.installationType===_e)),qe&&(e=e.filter(e=>Fe.includes(e.serviceId)));const i=[...e].sort((e,i)=>{if("name"===Be)return e.serviceName.localeCompare(i.serviceName);if("updated"===Be)return new Date(i.lastUpdatedAt).getTime()-new Date(e.lastUpdatedAt).getTime();{const s=["Recommended","Supported","Community","Under assessment","Experimental"];return s.indexOf(e.supportLevel)-s.indexOf(i.supportLevel)}});return(0,Z.jsxs)("div",{children:[ye&&(0,Z.jsxs)("div",{style:{marginBottom:16,padding:"8px 0",borderBottom:"1px solid #f0f0f0"},children:[(0,Z.jsx)(X,{type:"secondary",children:de.length>0?"Found ".concat(i.length," service").concat(1!==i.length?"s":"",' matching "').concat(ye,'"'):"Showing ".concat(i.length," service").concat(1!==i.length?"s":"",' (no tool matches for "').concat(ye,'")')}),i.length!==ne&&(0,Z.jsxs)(X,{type:"secondary",style:{marginLeft:8},children:["\u2022 Filtered from ",ne," total"]})]}),(0,Z.jsx)(u.A,{dataSource:i,renderItem:e=>Ii(e,ye?de:[]),pagination:{current:$e,pageSize:ii,showSizeChanger:!0,showTotal:(e,i)=>"".concat(i[0],"-").concat(i[1]," of ").concat(e," filtered (").concat(ne," total servers)"),onChange:(e,i)=>{ei(e),ri.current&&(ri.current.scrollTop=0),i!==ii&&(si(i),ei(1))}}})]})})()})]})},"browse"),(0,Z.jsx)(re,{tab:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(B.A,{}),(0,Z.jsx)("span",{children:"Installed Services"}),(0,Z.jsx)(l.A,{count:le.length})]}),children:(0,Z.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Z.jsx)(t.A,{message:"Manage your installed MCP services",description:"These services are currently installed and configured in your system.",type:"success",showIcon:!0,style:{marginBottom:16}}),(0,Z.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:0===le.length?(0,Z.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Z.jsx)(X,{type:"secondary",children:"No registry services installed"})}):(0,Z.jsx)(u.A,{dataSource:le,renderItem:e=>{var i,s,r,n,l,c;if(!e||!e.serviceId)return null;const p=(null===(i=e.serviceId)||void 0===i?void 0:i.startsWith("builtin_"))||!1,h=!0===e._manually_configured;return(0,Z.jsx)(a.A,{style:{marginBottom:16},hoverable:!0,actions:[!p&&(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(N.A,{}),onClick:()=>{var i;return bi(e.serviceId,null===(i=e.provider)||void 0===i?void 0:i.id)},children:"Preview"},"preview"),(0,Z.jsx)(R.A,{title:Fe.includes(e.serviceId)?"Remove from favorites":"Add to favorites",children:(0,Z.jsx)(o.Ay,{icon:Fe.includes(e.serviceId)?(0,Z.jsx)(F.A,{style:{color:"#ff4d4f"}}):(0,Z.jsx)(M.A,{}),onClick:()=>fi(e.serviceId)})},"favorite"),(0,Z.jsx)(o.Ay,{type:p?"default":"primary",icon:(0,Z.jsx)(D.A,{}),loading:ve[e.serviceId],disabled:ui(e.serviceId),onClick:()=>yi(e.serviceId),children:p?ui(e.serviceId)?"Enabled":"Enable":ui(e.serviceId)?"Installed":"Install"},"install"),!p&&e.repositoryUrl&&(0,Z.jsx)(R.A,{title:"View Repository",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(P.A,{}),onClick:()=>window.open(e.repositoryUrl,"_blank")})},"repo"),!p&&e.securityReviewLink&&(0,Z.jsx)(R.A,{title:"Security Review",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(J.A,{}),onClick:()=>window.open(e.securityReviewLink,"_blank")},"security")},"security"),(0,Z.jsx)(R.A,{title:Ie[e.serviceId]?"Show less":"Show more",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(q.A,{}),onClick:()=>wi(e.serviceId)})},"info")].filter(Boolean),children:(0,Z.jsx)(a.A.Meta,{title:(0,Z.jsxs)(w.A,{wrap:!0,children:[(0,Z.jsx)("span",{children:e.serviceName}),(0,Z.jsx)(T.A,{color:Ai(e.supportLevel||"Community"),children:e.supportLevel||"Community"}),h&&(0,Z.jsx)(T.A,{color:"orange",icon:(0,Z.jsx)(K.A,{}),children:"Manually Configured"}),p?(0,Z.jsxs)(T.A,{color:"purple",children:[(0,Z.jsx)(U.A,{})," Builtin"]}):null!==(s=e.provider)&&void 0!==s&&s.availableIn&&e.provider.availableIn.length>1?(0,Z.jsx)(R.A,{title:"Available in: ".concat(e.provider.availableIn.join(", ")),children:(0,Z.jsxs)(T.A,{color:"purple",children:[e.provider.availableIn.length," sources"]})}):(0,Z.jsx)(T.A,{color:null!==(r=e.provider)&&void 0!==r&&r.isInternal?"gold":"blue",children:(null===(n=e.provider)||void 0===n?void 0:n.name)||"Unknown"}),e.installationType&&(0,Z.jsx)(T.A,{color:"geekblue",children:e.installationType}),p&&!1===e._dependencies_available&&(0,Z.jsx)(T.A,{color:"orange",icon:(0,Z.jsx)(Q.A,{}),children:"Dependencies Required"})]}),description:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(ee,{ellipsis:!Ie[e.serviceId]&&{rows:2},style:{marginBottom:8},children:e.serviceDescription||e.serviceName}),p&&e._available_tools&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Z.jsx)(T.A,{color:"cyan",children:e},e))]}),p&&!1===e._dependencies_available&&(0,Z.jsx)(t.A,{message:"Dependencies Required",description:(0,Z.jsxs)("div",{children:["Install with: ",(0,Z.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),p&&e._available_tools&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Z.jsx)(T.A,{color:"cyan",children:e},e))]}),p&&!1===e._dependencies_available&&(0,Z.jsx)(t.A,{message:"Dependencies Required",description:(0,Z.jsxs)("div",{children:["Install with: ",(0,Z.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),Ie[e.serviceId]&&(0,Z.jsxs)("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,Z.jsxs)(f.A,{gutter:16,style:{marginBottom:12},children:[e.downloadCount&&(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(S.A,{title:"Downloads",value:e.downloadCount,prefix:(0,Z.jsx)(D.A,{}),valueStyle:{fontSize:"16px"}})}),e.starCount&&(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(S.A,{title:"Stars",value:e.starCount,prefix:(0,Z.jsx)(G.A,{}),valueStyle:{fontSize:"16px"}})}),(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(S.A,{title:"Updated",value:e.lastUpdatedAt?new Date(e.lastUpdatedAt).toLocaleDateString():"N/A",prefix:(0,Z.jsx)(E.A,{}),valueStyle:{fontSize:"14px"}})})]}),e.author&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Author: "}),(0,Z.jsx)(X,{children:e.author})]}),(null===(l=e.provider)||void 0===l?void 0:l.availableIn)&&e.provider.availableIn.length>1&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Available in: "}),e.provider.availableIn.map(e=>(0,Z.jsx)(T.A,{color:"blue",children:e},e))]})]}),(0,Z.jsx)("div",{style:{marginBottom:8},children:null===(c=e.tags)||void 0===c?void 0:c.map(e=>(0,Z.jsx)(T.A,{color:"default",children:e},e))}),(0,Z.jsxs)(X,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[(0,Z.jsxs)("span",{children:["ID: ",e.serviceId]}),e.version&&(0,Z.jsxs)("span",{children:["v",e.version]})]})]})})},e.serviceId)}})})]})},"installed"),(0,Z.jsx)(re,{tab:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(M.A,{}),(0,Z.jsx)("span",{children:"Favorites"}),(0,Z.jsx)(l.A,{count:Fe.length})]}),children:(0,Z.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,Z.jsx)(t.A,{message:"Your favorite MCP servers",description:"Quickly access servers you've marked as favorites for easy installation.",type:"info",showIcon:!0,style:{marginBottom:16}}),(0,Z.jsx)("div",{style:{flex:1,overflow:"auto",minHeight:0},children:0===Fe.length?(0,Z.jsx)(v.A,{description:"No favorites yet. Click the heart icon on any server to add it!",image:v.A.PRESENTED_IMAGE_SIMPLE}):(0,Z.jsx)(u.A,{dataSource:_.filter(e=>Fe.includes(e.serviceId)),renderItem:e=>{var i;const s=e.serviceId.startsWith("builtin_"),r=le.find(i=>i.serviceId===e.serviceId),n=!!r,l=!0===(null===r||void 0===r?void 0:r._manually_configured);return(0,Z.jsx)(a.A,{style:{marginBottom:16},hoverable:!0,actions:[!s&&(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(N.A,{}),onClick:()=>bi(e.serviceId,e.provider.id),children:"Preview"},"preview"),(0,Z.jsx)(R.A,{title:Fe.includes(e.serviceId)?"Remove from favorites":"Add to favorites",children:(0,Z.jsx)(o.Ay,{icon:Fe.includes(e.serviceId)?(0,Z.jsx)(F.A,{style:{color:"#ff4d4f"}}):(0,Z.jsx)(M.A,{}),onClick:()=>fi(e.serviceId)})},"favorite"),(0,Z.jsx)(o.Ay,{type:s?"default":"primary",icon:(0,Z.jsx)(D.A,{}),loading:ve[e.serviceId],disabled:n,onClick:()=>yi(e.serviceId),children:s?n?"Enabled":"Enable":n?l?"Configured":"Installed":"Install"},"install"),!s&&e.repositoryUrl&&(0,Z.jsx)(R.A,{title:"View Repository",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(P.A,{}),onClick:()=>window.open(e.repositoryUrl,"_blank")})},"repo"),!s&&e.securityReviewLink&&(0,Z.jsx)(R.A,{title:"Security Review",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(J.A,{}),onClick:()=>window.open(e.securityReviewLink,"_blank")},"security")},"security"),(0,Z.jsx)(R.A,{title:Ie[e.serviceId]?"Show less":"Show more",children:(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(q.A,{}),onClick:()=>wi(e.serviceId)})},"info")].filter(Boolean),children:(0,Z.jsx)(a.A.Meta,{title:(0,Z.jsxs)(w.A,{wrap:!0,children:[(0,Z.jsx)("span",{children:e.serviceName}),(0,Z.jsx)(T.A,{color:Ai(e.supportLevel),children:e.supportLevel}),l&&(0,Z.jsx)(T.A,{color:"orange",icon:(0,Z.jsx)(K.A,{}),children:"Manually Configured"}),s?(0,Z.jsxs)(T.A,{color:"purple",children:[(0,Z.jsx)(U.A,{})," Builtin"]}):e.provider.availableIn&&e.provider.availableIn.length>1?(0,Z.jsx)(R.A,{title:"Available in: ".concat(e.provider.availableIn.join(", ")),children:(0,Z.jsxs)(T.A,{color:"purple",children:[e.provider.availableIn.length," sources"]})}):(0,Z.jsx)(T.A,{color:e.provider.isInternal?"gold":"blue",children:e.provider.name}),e.installationType&&(0,Z.jsx)(T.A,{color:"geekblue",children:e.installationType}),s&&!1===e._dependencies_available&&(0,Z.jsx)(T.A,{color:"orange",icon:(0,Z.jsx)(Q.A,{}),children:"Dependencies Required"})]}),description:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(ee,{ellipsis:!Ie[e.serviceId]&&{rows:2},style:{marginBottom:8},children:e.serviceDescription}),s&&e._available_tools&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Available Tools: "}),e._available_tools.map(e=>(0,Z.jsx)(T.A,{color:"cyan",children:e},e))]}),s&&!1===e._dependencies_available&&(0,Z.jsx)(t.A,{message:"Dependencies Required",description:(0,Z.jsxs)("div",{children:["Install with: ",(0,Z.jsx)("code",{children:"pip install scapy dpkt"})]}),style:{marginBottom:8}}),Ie[e.serviceId]&&(0,Z.jsxs)("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,Z.jsxs)(f.A,{gutter:16,style:{marginBottom:12},children:[e.downloadCount&&(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(S.A,{title:"Downloads",value:e.downloadCount,prefix:(0,Z.jsx)(D.A,{}),valueStyle:{fontSize:"16px"}})}),e.starCount&&(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(S.A,{title:"Stars",value:e.starCount,prefix:(0,Z.jsx)(G.A,{}),valueStyle:{fontSize:"16px"}})}),(0,Z.jsx)(d.A,{span:8,children:(0,Z.jsx)(S.A,{title:"Updated",value:new Date(e.lastUpdatedAt).toLocaleDateString(),prefix:(0,Z.jsx)(E.A,{}),valueStyle:{fontSize:"14px"}})})]}),e.author&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Author: "}),(0,Z.jsx)(X,{children:e.author})]}),e.provider.availableIn&&e.provider.availableIn.length>1&&(0,Z.jsxs)("div",{style:{marginBottom:8},children:[(0,Z.jsx)(X,{strong:!0,children:"Available in: "}),e.provider.availableIn.map(e=>(0,Z.jsx)(T.A,{color:"blue",children:e},e))]})]}),(0,Z.jsx)("div",{style:{marginBottom:8},children:null===(i=e.tags)||void 0===i?void 0:i.map(e=>(0,Z.jsx)(T.A,{color:"default",children:e},e))}),(0,Z.jsxs)(X,{type:"secondary",style:{fontSize:"12px",display:"flex",justifyContent:"space-between"},children:[(0,Z.jsxs)("span",{children:["ID: ",e.serviceId]}),e.version&&(0,Z.jsxs)("span",{children:["v",e.version]})]})]})})},e.serviceId)}})})]})},"favorites")]}),(0,Z.jsx)(g.A,{title:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(N.A,{}),(0,Z.jsx)("span",{children:"Service Preview"}),Le&&(0,Z.jsx)(T.A,{color:Ai(Le.supportLevel),children:Le.supportLevel})]}),open:Pe,onCancel:()=>Oe(!1),width:700,footer:[(0,Z.jsx)(o.Ay,{icon:Le&&Fe.includes(Le.serviceId)?(0,Z.jsx)(F.A,{}):(0,Z.jsx)(M.A,{}),onClick:()=>Le&&fi(Le.serviceId),children:Le&&Fe.includes(Le.serviceId)?"Remove from Favorites":"Add to Favorites"},"favorite"),(0,Z.jsx)(o.Ay,{type:"primary",icon:(0,Z.jsx)(D.A,{}),loading:Le&&ve[Le.serviceId],disabled:Le&&ui(Le.serviceId),onClick:()=>Le&&yi(Le.serviceId),children:Le&&ui(Le.serviceId)?"Already Installed":"Install Now"},"install"),(0,Z.jsx)(o.Ay,{onClick:()=>Oe(!1),children:"Close"},"close")],children:Ue?(0,Z.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,Z.jsx)(I.A,{size:"large",tip:"Loading service details..."})}):Le?(0,Z.jsxs)(w.A,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,Z.jsxs)(a.A,{size:"small",title:"Service Information",children:[(0,Z.jsxs)(h.A,{column:1,size:"small",children:[(0,Z.jsx)(h.A.Item,{label:"Name",children:Le.serviceName}),(0,Z.jsx)(h.A.Item,{label:"ID",children:Le.serviceId}),(0,Z.jsx)(h.A.Item,{label:"Type",children:(0,Z.jsx)(T.A,{color:"geekblue",children:Le.installationType})}),(0,Z.jsx)(h.A.Item,{label:"Support Level",children:(0,Z.jsx)(T.A,{color:Ai(Le.supportLevel),children:Le.supportLevel})})]}),(0,Z.jsx)(x.A,{style:{margin:"12px 0"}}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(X,{strong:!0,children:"Description:"}),(0,Z.jsx)(ee,{style:{marginTop:8},children:Le.serviceDescription})]}),Le.tags&&Le.tags.length>0&&(0,Z.jsxs)("div",{style:{marginTop:12},children:[(0,Z.jsx)(X,{strong:!0,children:"Tags: "}),Le.tags.map(e=>(0,Z.jsx)(T.A,{children:e},e))]})]}),(0,Z.jsxs)(a.A,{size:"small",title:"Installation Details",children:[(0,Z.jsxs)(h.A,{column:1,size:"small",children:[(0,Z.jsx)(h.A.Item,{label:"Method",children:(0,Z.jsx)(T.A,{color:"blue",children:Le.installationType})}),Le.installationInstructions.package&&(0,Z.jsx)(h.A.Item,{label:"Package",children:(0,Z.jsx)("code",{children:Le.installationInstructions.package})}),Le.installationInstructions.image&&(0,Z.jsx)(h.A.Item,{label:"Docker Image",children:(0,Z.jsx)("code",{children:Le.installationInstructions.image})}),Le.installationInstructions.url&&(0,Z.jsx)(h.A.Item,{label:"Remote URL",children:(0,Z.jsx)("code",{children:Le.installationInstructions.url})})]}),Le.requiredEnvVars&&Le.requiredEnvVars.length>0&&(0,Z.jsx)("div",{style:{marginTop:16},children:(0,Z.jsx)(t.A,{message:"Required Environment Variables",description:(0,Z.jsx)(u.A,{dataSource:Le.requiredEnvVars,renderItem:e=>(0,Z.jsx)(u.A.Item,{children:(0,Z.jsxs)(w.A,{direction:"vertical",style:{width:"100%"},children:[(0,Z.jsx)(X,{strong:!0,children:e.name}),(0,Z.jsx)(X,{type:"secondary",children:e.description}),e.isRequired&&(0,Z.jsx)(T.A,{color:"red",children:"Required"}),e.isSecret&&(0,Z.jsx)(T.A,{color:"orange",children:"Secret"})]})})}),type:"warning",showIcon:!0})})]}),(Le.repositoryUrl||Le.securityReviewUrl)&&(0,Z.jsx)(a.A,{size:"small",title:"Links",children:(0,Z.jsxs)(w.A,{direction:"vertical",style:{width:"100%"},children:[Le.repositoryUrl&&(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(P.A,{}),onClick:()=>window.open(Le.repositoryUrl,"_blank"),block:!0,children:"View Repository"}),Le.securityReviewUrl&&(0,Z.jsx)(o.Ay,{icon:(0,Z.jsx)(J.A,{}),onClick:()=>window.open(Le.securityReviewUrl,"_blank"),block:!0,children:"Security Review"})]})}),Le.preview&&(0,Z.jsx)(a.A,{size:"small",title:"What Will Be Installed",children:(0,Z.jsx)(t.A,{message:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(X,{children:"This service will be installed as: "}),(0,Z.jsx)(X,{code:!0,children:Le.preview.service_name})]}),description:Le.preview.description,type:"info",showIcon:!0})})]}):null}),(0,Z.jsx)(g.A,{title:(0,Z.jsxs)(w.A,{children:[(0,Z.jsx)(Q.A,{style:{color:"#faad14"}}),(0,Z.jsx)("span",{children:"MCP Registry Required"})]}),open:ni,onCancel:vi,footer:[(0,Z.jsx)(o.Ay,{onClick:vi,children:"Cancel"},"cancel"),(0,Z.jsx)(o.Ay,{type:"primary",onClick:async()=>{if(ti(!1),!li)return;await xi()?(await ji(li),oi(null)):ti(!0)},children:"Retry"},"retry")],width:500,children:(0,Z.jsx)(t.A,{message:"Installation Blocked",description:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("p",{children:["To install Amazon internal MCP servers, you need to install the ",(0,Z.jsx)("code",{children:"mcp-registry"})," tool locally using Toolbox."]}),(0,Z.jsx)("p",{style:{marginTop:"12px",marginBottom:"8px"},children:"Please run:"}),(0,Z.jsx)("pre",{style:{backgroundColor:"#f5f5f5",padding:"8px",borderRadius:"4px",fontSize:"13px"},children:(0,Z.jsx)("code",{children:"toolbox install mcp-registry"})}),(0,Z.jsxs)("p",{style:{marginTop:"12px"},children:["After installation, click ",(0,Z.jsx)("strong",{children:"Retry"})," to continue."]})]}),type:"warning",showIcon:!0})})]})}}}]);
//# sourceMappingURL=70501.3018f807.chunk.js.map