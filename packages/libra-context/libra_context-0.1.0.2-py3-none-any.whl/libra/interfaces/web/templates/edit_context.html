{% extends "base.html" %}

{% block title %}Edit Context{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Edit Context</h1>
    <p>ID: {{ context.id }}</p>
</div>

<div class="card">
    <div class="card-body">
        <form method="POST" action="{{ url_for('edit_context_submit', context_id=context.id) }}">
            <div class="form-group">
                <label>Context Type</label>
                <p><span class="type-badge type-{{ context.type }}">{{ context.type }}</span></p>
                <p class="form-hint">Type cannot be changed after creation</p>
            </div>

            <div class="form-group">
                <label for="content">Content</label>
                <textarea name="content" id="content" required>{{ context.content }}</textarea>
            </div>

            <div class="form-group">
                <label for="tags">Tags</label>
                <input type="text" name="tags" id="tags" placeholder="coding, api, python" value="{{ context.tags|join(', ') }}">
                <p class="form-hint">Comma-separated labels for organization</p>
            </div>

            <div style="margin-top: 1.5rem;">
                <button type="submit" class="btn btn-primary">Save Changes</button>
                <a href="{{ url_for('context_detail', context_id=context.id) }}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
