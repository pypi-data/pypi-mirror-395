{% extends "admin/base_site.html" %}
{% load i18n admin_urls %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
&rsaquo; <a href="{% url opts|admin_urlname:'changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
&rsaquo; <a href="{% url opts|admin_urlname:'change' object.pk %}">{{ object|truncatewords:"18" }}</a>
&rsaquo; {% trans 'History' %}
</div>
{% endblock %}

{% block content %}
<div id="content-main">
<div class="module">
<table style="width: 100%;">
    <thead>
        <tr>
            <th>{% trans 'Date/Time' %}</th>
            <th>{% trans 'User' %}</th>
            <th>{% trans 'Action' %}</th>
            <th>{% trans 'Changes' %}</th>
        </tr>
    </thead>
    <tbody>
        {% for record in history %}
        <tr>
            <td>{{ record.history_date }}</td>
            <td>{{ record.history_user|default:"-" }}</td>
            <td>
                {% if record.history_type == '+' %}Created
                {% elif record.history_type == '~' %}Changed
                {% elif record.history_type == '-' %}Deleted
                {% endif %}
            </td>
            <td>
                {# We could list changed fields here if we computed diffs #}
                {# For now just show all fields or something simple #}
                <a href="#">{% trans 'View Details' %}</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>
</div>
{% endblock %}
