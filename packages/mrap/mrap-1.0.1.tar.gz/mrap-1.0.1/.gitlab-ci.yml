default:
  image: python:3.10

testing:
  stage: test
  before_script:
    - python -m pip install --upgrade pip
    - pip install coverage[toml]
    - pip install scipy
    - pip install scikit-learn
  script:
    - pip install .
    - coverage run -m unittest discover -s tests -p "*.py" -v
    - coverage report -m
  coverage: '/TOTAL.+ ([0-9]{1,3}%)/'
