[supervisord]
nodaemon=true
user=root
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

[program:gunicorn]
command=gunicorn core.wsgi:application --bind 0.0.0.0:8000 --workers 4 --threads 4
directory=/opt/projects/xmov/
stdout_logfile=/opt/logs/xmov/stdout.log
autostart=true
autorestart=true
redirect_stderr=true
stopsignal=INT
environment=DJANGO_SETTINGS_MODULE="core.settings"

# [program:celery]
# command=celery -A core worker -l info
# directory=/app
# autostart=true
# autorestart=true
# stdout_logfile=/var/log/celery.log
# stderr_logfile=/var/log/celery.err.log

# [program:celery-beat]
# command=celery -A core beat -l info
# directory=/app
# autostart=true
# autorestart=true
# stdout_logfile=/var/log/celery-beat.log
# stderr_logfile=/var/log/celery-beat.err.log