Metadata-Version: 2.3
Name: askandyz-house-location-analyst
Version: 1.0.6
Summary: 房产选址分析师
Author: Andy Zhang
Author-email: Andy Zhang <andyz@cdata.com>
Requires-Dist: fastmcp>=2.13.3
Requires-Dist: pybars3>=0.9.7
Requires-Dist: sqlalchemy>=2.0.44
Requires-Python: >=3.12
Description-Content-Type: text/markdown

。# 房产选址分析师

一个基于FastMCP协议的智能房产选址分析工具，帮助用户评估和比较不同小区的居住价值和周边配套设施。

## 功能特性

- 🏠 **小区分析**：全面分析单个小区的各项指标
- 📊 **多小区对比**：同时对比多个小区的优劣势
- 📍 **地理位置信息**：基于高德地图API获取精确地理信息
- 🛍️ **生活配套评估**：评估周边商业、教育、医疗、交通等配套设施
- 📈 **综合评分**：基于多项指标给出综合评分和建议
- 📄 **HTML报告**：生成专业的分析报告

## 安装依赖

```bash
pip install -r requirements.txt
```

## 运行方式

### 1. 标准模式运行

```bash
python mcp_server.py
```

### 2. 作为MCP服务运行

```bash
uv run house-location-analyst
```

或者使用FastMCP CLI:

```bash
fastmcp run house-location-analyst
```

### 3. Docker部署

构建镜像：

```bash
docker build -t house-location-analyst .
```

运行容器：

```bash
docker run -d -p 9000:9000 house-location-analyst
```

## 使用方法

在支持MCP协议的聊天界面中，您可以这样提问：

```
分析一下北京市朝阳区万科公园五号的居住环境
```

或者进行多个小区的对比：

```
比较一下北京市朝阳区万科公园五号和北京市海淀区华润橡树湾的配套设施
```

## API工具

### analyze_single_community

分析单个小区的周边配套设施情况

参数：

- `community_name` (str): 小区名称
- `city` (str, 可选): 城市名称，如果不提供则自动通过IP定位获取

返回：

- 包含分析结果和HTML报告的字典

### compare_communities

对比多个小区的周边配套设施情况

参数：

- `community_names` (List[str]): 小区名称列表
- `city` (str, 可选): 城市名称，如果不提供则自动通过IP定位获取

返回：

- 包含对比分析结果和HTML报告的字典

## 项目结构

```
house_location_analyst/
├── README.md
├── cache.py
├── config.py
├── llm_tool.py
├── localtion_analyzer.py
├── map_client.py
├── map_tool.py
├── mcp_server.py
├── modal.py
├── pyproject.toml
└── report_generator.py
```

## 依赖项

- fastmcp
- 高德地图API访问权限
- requests

## 配置说明

在使用前需要配置以下环境变量：

```bash
export AMAP_KEY="your_amap_api_key"
```

您可以在[高德开放平台](https://console.amap.com/)申请API Key。

## 分析维度

系统会从以下正负面维度对小区进行全面分析：

### 正面设施（加分项）

1. **交通设施**：地铁站、公交站、长途汽车站、火车站等（权重18%）
2. **教育资源**：幼儿园、小学、中学、高中、国际学校、培训机构等（权重15%）
3. **医疗资源**：医院、三甲医院、诊所、社区卫生服务中心等（权重13%）
4. **商业配套**：超市、商场、购物中心、便利店等（权重10%）
5. **生活服务**：银行、ATM、邮局、菜市场、快递站等（权重8%）
6. **餐饮设施**：餐厅、快餐、美食广场、咖啡厅等（权重7%）
7. **儿童设施**：儿童游乐场、早教中心、托育中心等（权重9%）
8. **养老设施**：养老院、老年活动中心、康复中心等（权重5%）
9. **环境设施**：公园、绿地、湿地公园、森林公园等（权重8%）
10. **运动健身**：健身房、体育馆、游泳馆、篮球场等（权重3%）
11. **文化娱乐**：电影院、剧院、博物馆、KTV等（权重2%）
12. **公共服务**：派出所、社区服务中心、政务中心等（权重2%）

### 负面设施（减分项）

1. **环境污染源**：垃圾站、垃圾处理站、垃圾焚烧厂、污水处理厂等（负权重15%）
2. **电磁辐射源**：变电站、高压线、输电塔等（负权重12%）
3. **噪音污染源**：高架桥、高速公路、铁路、机场等（负权重10%）
4. **安全隐患**：加油站、液化气站、危险品仓库等（负权重8%）
5. **殡葬设施**：殡仪馆、火葬场、公墓等（负权重12%）
6. **治安问题区**：看守所、拘留所、监狱等（负权重8%）
7. **空气污染源**：养殖场、屠宰场、食品加工厂等（负权重10%）
8. **视觉污染**：废品回收站、汽修厂、洗车场聚集区等（负权重5%）

## 注意事项

1. 本系统提供的分析结果仅供参考，实际购房决策还需结合个人需求和实地考察
2. 数据来源于公开信息，可能与实际情况存在一定差异
3. 建议在做出重要决策前咨询专业人士