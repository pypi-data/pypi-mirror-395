---
description: Fundamental rules for all jbcom repos
globs: "**/*"
alwaysApply: true
---

# Fundamentals

## Critical: GitHub Authentication

```bash
# ALWAYS use GITHUB_JBCOM_TOKEN for jbcom repos
GH_TOKEN="$GITHUB_JBCOM_TOKEN" gh <command>
```

## Before Acting

1. **Read before modifying** - Always read files before editing
2. **Run tests after changes** - `uv run pytest tests/ -v`
3. **Check git status** - Know what you're committing
4. **Read AGENTS.md** - Understand the architecture

## Development Commands

```bash
# Install
uv sync --extra dev --extra tests

# Test
uv run pytest tests/ -v

# Lint
uvx ruff check src/ tests/ --fix
uvx ruff format src/ tests/

# Type check
uv run mypy src/
```

## Making Changes

1. **One concern per commit** - Keep commits focused
2. **Run linters locally** before pushing
3. **Update AGENTS.md** if architecture changes
4. **Add tests** for new functionality

## When Copying/Moving Files

1. Read the file first
2. Check if content is relevant to destination
3. Update paths and references
4. Remove tool-specific cruft that doesn't apply

## Session Management

```bash
# Start of session
cat memory-bank/activeContext.md 2>/dev/null || echo "No memory bank"

# End of session
echo "## Session: $(date +%Y-%m-%d)" >> memory-bank/activeContext.md
```
