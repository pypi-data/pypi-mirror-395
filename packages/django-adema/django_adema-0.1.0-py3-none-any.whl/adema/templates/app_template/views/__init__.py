"""
Views for {{ app_name }}
=========================

This package contains all views organized by type:
- __init__.py: Main views and function-based views
- dashboard.py: Dashboard and reporting views
- api.py: API views (if not using DRF viewsets)

Generated by ADEMA Framework.
"""
from django.shortcuts import render, get_object_or_404, redirect
from django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView
from django.contrib.auth.decorators import login_required
from django.contrib.auth.mixins import LoginRequiredMixin
from django.contrib import messages
from django.urls import reverse_lazy

# from ..models import YourModel
# from ..services import YourService


# =============================================================================
# FUNCTION-BASED VIEWS
# =============================================================================

def index(request):
    """
    Index/Dashboard view for {{ app_name }}.
    
    Shows the main dashboard or landing page for this module.
    """
    context = {
        'title': '{{ app_name|title }}',
        'section': '{{ app_name }}',
    }
    return render(request, '{{ app_name }}/index.html', context)


# =============================================================================
# CLASS-BASED VIEWS
# =============================================================================

# Example ListView:
# class ItemListView(LoginRequiredMixin, ListView):
#     """List all active items."""
#     model = YourModel
#     template_name = '{{ app_name }}/item_list.html'
#     context_object_name = 'items'
#     paginate_by = 20
#     
#     def get_queryset(self):
#         return super().get_queryset().filter(is_active=True)


# Example DetailView:
# class ItemDetailView(LoginRequiredMixin, DetailView):
#     """Show item details."""
#     model = YourModel
#     template_name = '{{ app_name }}/item_detail.html'
#     context_object_name = 'item'


# Example CreateView:
# class ItemCreateView(LoginRequiredMixin, CreateView):
#     """Create a new item."""
#     model = YourModel
#     template_name = '{{ app_name }}/item_form.html'
#     fields = ['name', 'description', 'code']
#     success_url = reverse_lazy('{{ app_name }}:item_list')
#     
#     def form_valid(self, form):
#         messages.success(self.request, 'Item created successfully!')
#         return super().form_valid(form)


# Example UpdateView:
# class ItemUpdateView(LoginRequiredMixin, UpdateView):
#     """Update an existing item."""
#     model = YourModel
#     template_name = '{{ app_name }}/item_form.html'
#     fields = ['name', 'description']
#     
#     def get_success_url(self):
#         return reverse_lazy('{{ app_name }}:item_detail', kwargs={'pk': self.object.pk})
#     
#     def form_valid(self, form):
#         messages.success(self.request, 'Item updated successfully!')
#         return super().form_valid(form)


# Example DeleteView:
# class ItemDeleteView(LoginRequiredMixin, DeleteView):
#     """Delete (soft) an item."""
#     model = YourModel
#     template_name = '{{ app_name }}/item_confirm_delete.html'
#     success_url = reverse_lazy('{{ app_name }}:item_list')
#     
#     def form_valid(self, form):
#         # Soft delete instead of hard delete
#         self.object.soft_delete()
#         messages.success(self.request, 'Item deleted successfully!')
#         return redirect(self.success_url)
