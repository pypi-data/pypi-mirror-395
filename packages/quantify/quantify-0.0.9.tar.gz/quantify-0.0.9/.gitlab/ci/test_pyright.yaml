pyright:
  extends:
    - .pip_cache_template
  stage: Test
  image: $CI_IMAGE
  needs:
    - job: build-ci-image
    - job: build-package
      artifacts: true
  variables:
    PYRIGHT_PYTHON_FORCE_NODEENV: "0"
  before_script:
    - mkdir -p .cache/pip
    - python -m pip install "pip>=25.3" "setuptools>=80.9.0" "wheel>=0.45.1"
    - python -m pip install dist/*.whl
    - python -m pip install "pyright>=1.1.407"
  script:
    - pyright --project pyrightconfig.json
