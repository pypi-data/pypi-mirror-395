{"version":3,"file":"searchable-select-8QB8UQao.js","sources":["../../src/components/ui/searchable-select.tsx"],"sourcesContent":["\nimport * as React from \"react\"\nimport { Check, Search, X, ChevronDown } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Badge } from \"@/components/ui/badge\"\n\ninterface SearchableMultiSelectProps {\n  options: string[]\n  value?: string[]\n  onValueChange?: (value: string[]) => void\n  placeholder?: string\n  searchPlaceholder?: string\n  emptyText?: string\n  className?: string\n  disabled?: boolean\n  showClearButton?: boolean\n}\n\nexport function SearchableMultiSelect({\n  options,\n  value = [],\n  onValueChange,\n  placeholder = \"Select options...\",\n  searchPlaceholder = \"Search...\",\n  emptyText = \"No options found.\",\n  className,\n  disabled = false,\n  showClearButton = true,\n}: SearchableMultiSelectProps) {\n  const [open, setOpen] = React.useState(false)\n  const [searchValue, setSearchValue] = React.useState(\"\")\n  const dropdownRef = React.useRef<HTMLDivElement>(null)\n\n  const filteredOptions = React.useMemo(() => {\n    if (!searchValue) return options\n    return options.filter((option) =>\n      option.toLowerCase().includes(searchValue.toLowerCase())\n    )\n  }, [options, searchValue])\n\n  const handleSelect = (selectedValue: string) => {\n    const newValue = value.includes(selectedValue)\n      ? value.filter((item) => item !== selectedValue)\n      : [...value, selectedValue]\n    onValueChange?.(newValue)\n    setSearchValue(\"\")\n  }\n\n  const handleClear = (e: React.MouseEvent) => {\n    e.stopPropagation()\n    onValueChange?.([])\n    setSearchValue(\"\")\n  }\n\n  const handleRemoveItem = (itemToRemove: string) => {\n    onValueChange?.(value.filter((item) => item !== itemToRemove))\n  }\n\n  // Close dropdown when clicking outside\n  React.useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setOpen(false)\n        setSearchValue(\"\")\n      }\n    }\n\n    document.addEventListener(\"mousedown\", handleClickOutside)\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside)\n    }\n  }, [])\n\n  return (\n    <div className=\"relative\" ref={dropdownRef}>\n      <Button\n        type=\"button\"\n        variant=\"outline\"\n        role=\"combobox\"\n        aria-expanded={open}\n        className={cn(\n          \"w-full justify-between bg-background border-border text-foreground hover:bg-muted min-h-10 h-auto\",\n          className\n        )}\n        disabled={disabled}\n        onClick={() => setOpen(!open)}\n      >\n        <div className=\"flex items-center gap-1 min-h-6 flex-1 overflow-hidden\">\n          {value.length > 0 ? (\n            <div className=\"flex items-center gap-1 overflow-x-auto overflow-y-hidden max-h-16 scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent\">\n              {value.map((item) => (\n                <Badge\n                  key={item}\n                  variant=\"secondary\"\n                  className=\"text-[10px] px-1.5 py-0.5 flex items-center gap-1 flex-shrink-0 whitespace-nowrap\"\n                >\n                  <span className=\"truncate max-w-16\">{item}</span>\n                  <X\n                    className=\"h-2.5 w-2.5 cursor-pointer hover:opacity-70 flex-shrink-0\"\n                    onClick={(e) => {\n                      e.stopPropagation()\n                      handleRemoveItem(item)\n                    }}\n                  />\n                </Badge>\n              ))}\n            </div>\n          ) : (\n            <span className=\"truncate text-muted-foreground text-sm\">\n              {placeholder}\n            </span>\n          )}\n        </div>\n        <div className=\"flex items-center gap-1\">\n          {showClearButton && value.length > 0 && (\n            <X\n              className=\"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer\"\n              onClick={handleClear}\n            />\n          )}\n          <ChevronDown className=\"h-4 w-4 shrink-0 opacity-50\" />\n        </div>\n      </Button>\n\n      {open && (\n        <div className=\"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-md\">\n          <div className=\"p-2 border-b border-border\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                placeholder={searchPlaceholder}\n                value={searchValue}\n                onChange={(e) => setSearchValue(e.target.value)}\n                className=\"pl-8 h-8 text-sm\"\n                onClick={(e) => e.stopPropagation()}\n              />\n            </div>\n          </div>\n          <div className=\"max-h-60 overflow-y-auto\">\n            {filteredOptions.length === 0 ? (\n              <div className=\"py-6 text-center text-sm text-muted-foreground\">\n                {emptyText}\n              </div>\n            ) : (\n              filteredOptions.map((option) => (\n                <div\n                  key={option}\n                  className=\"flex items-center px-3 py-2 text-sm cursor-pointer hover:bg-muted\"\n                  onClick={() => handleSelect(option)}\n                >\n                  <Check\n                    className={cn(\n                      \"mr-2 h-4 w-4\",\n                      value.includes(option) ? \"opacity-100\" : \"opacity-0\"\n                    )}\n                  />\n                  <span className=\"truncate\">{option}</span>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":["SearchableMultiSelect","options","value","onValueChange","placeholder","searchPlaceholder","emptyText","className","disabled","showClearButton","open","setOpen","React.useState","searchValue","setSearchValue","dropdownRef","React.useRef","filteredOptions","React.useMemo","option","handleSelect","selectedValue","newValue","item","handleClear","handleRemoveItem","itemToRemove","React.useEffect","handleClickOutside","event","jsxs","Button","cn","jsx","Badge","X","e","ChevronDown","Search","Input","Check"],"mappings":"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"}