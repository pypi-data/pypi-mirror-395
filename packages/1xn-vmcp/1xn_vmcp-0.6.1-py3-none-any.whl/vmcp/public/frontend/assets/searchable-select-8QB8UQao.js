import{j as r}from"./ui-BzkW_zSA.js";import{r as a}from"./vendor-Dje7enk0.js";import{B as C,p,X as x,y as S,I as E}from"./index-CxHQsSmh.js";import{B}from"./badge-B4R87TdU.js";import{C as L}from"./chevron-down-Cj0HsQ0D.js";import{C as R}from"./check-D22Mrj8T.js";function X({options:c,value:s=[],onValueChange:l,placeholder:u="Select options...",searchPlaceholder:f="Search...",emptyText:b="No options found.",className:j,disabled:v=!1,showClearButton:w=!0}){const[i,m]=a.useState(!1),[o,n]=a.useState(""),d=a.useRef(null),h=a.useMemo(()=>o?c.filter(e=>e.toLowerCase().includes(o.toLowerCase())):c,[c,o]),N=e=>{const t=s.includes(e)?s.filter(k=>k!==e):[...s,e];l?.(t),n("")},g=e=>{e.stopPropagation(),l?.([]),n("")},y=e=>{l?.(s.filter(t=>t!==e))};return a.useEffect(()=>{const e=t=>{d.current&&!d.current.contains(t.target)&&(m(!1),n(""))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),r.jsxs("div",{className:"relative",ref:d,children:[r.jsxs(C,{type:"button",variant:"outline",role:"combobox","aria-expanded":i,className:p("w-full justify-between bg-background border-border text-foreground hover:bg-muted min-h-10 h-auto",j),disabled:v,onClick:()=>m(!i),children:[r.jsx("div",{className:"flex items-center gap-1 min-h-6 flex-1 overflow-hidden",children:s.length>0?r.jsx("div",{className:"flex items-center gap-1 overflow-x-auto overflow-y-hidden max-h-16 scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",children:s.map(e=>r.jsxs(B,{variant:"secondary",className:"text-[10px] px-1.5 py-0.5 flex items-center gap-1 flex-shrink-0 whitespace-nowrap",children:[r.jsx("span",{className:"truncate max-w-16",children:e}),r.jsx(x,{className:"h-2.5 w-2.5 cursor-pointer hover:opacity-70 flex-shrink-0",onClick:t=>{t.stopPropagation(),y(e)}})]},e))}):r.jsx("span",{className:"truncate text-muted-foreground text-sm",children:u})}),r.jsxs("div",{className:"flex items-center gap-1",children:[w&&s.length>0&&r.jsx(x,{className:"h-4 w-4 opacity-50 hover:opacity-100 cursor-pointer",onClick:g}),r.jsx(L,{className:"h-4 w-4 shrink-0 opacity-50"})]})]}),i&&r.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-md",children:[r.jsx("div",{className:"p-2 border-b border-border",children:r.jsxs("div",{className:"relative",children:[r.jsx(S,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(E,{placeholder:f,value:o,onChange:e=>n(e.target.value),className:"pl-8 h-8 text-sm",onClick:e=>e.stopPropagation()})]})}),r.jsx("div",{className:"max-h-60 overflow-y-auto",children:h.length===0?r.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:b}):h.map(e=>r.jsxs("div",{className:"flex items-center px-3 py-2 text-sm cursor-pointer hover:bg-muted",onClick:()=>N(e),children:[r.jsx(R,{className:p("mr-2 h-4 w-4",s.includes(e)?"opacity-100":"opacity-0")}),r.jsx("span",{className:"truncate",children:e})]},e))})]})]})}export{X as S};
//# sourceMappingURL=searchable-select-8QB8UQao.js.map
