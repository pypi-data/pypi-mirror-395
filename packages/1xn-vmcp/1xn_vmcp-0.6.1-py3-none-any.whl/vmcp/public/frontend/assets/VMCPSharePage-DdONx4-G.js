import{j as e}from"./ui-BzkW_zSA.js";import{f as I,r as a}from"./vendor-Dje7enk0.js";import{u as T,d as R,a as U,C as x,G as V,B as h,S as u}from"./index-CxHQsSmh.js";import{C as c,d as n,b as d,c as j,a as m}from"./card-BfWTGDCc.js";import{B as N}from"./badge-B4R87TdU.js";import{C as B}from"./circle-check-big-Ca-XExcj.js";import{C as F}from"./copy-CiKpxty8.js";import{Z as L}from"./zap-BQC4oCcW.js";import{D as b}from"./download-Dl9G88Pi.js";function J(){const l=I(),o=T(),{success:y,error:p}=R(),[C,w]=a.useState(""),[s,f]=a.useState(null),[_,v]=a.useState(!0),[P,g]=a.useState(!1);a.useEffect(()=>{l.vmcp_id&&(w(l.vmcp_id),M(l.vmcp_id))},[l.vmcp_id]);const M=async t=>{try{v(!0);const r=localStorage.getItem("access_token");if(r)try{const i=await U.getPublicVMCPDetails(t,r);if(i.success&&i.data){f(i.data);return}}catch{console.log("Not a public vMCP, trying to get as shared")}f({id:t,name:"Shared vMCP",description:"This vMCP has been shared with you",creator_username:"Unknown",install_count:0,total_tools:0,total_resources:0,total_prompts:0,tags:["shared"],vmcp_config:{selected_servers:[],selected_tools:{},selected_resources:{},selected_prompts:{}}})}catch{p("Failed to load shared vMCP"),o.push("/vmcp")}finally{v(!1)}},S=()=>{o.push(`/vmcp/install/${C}`)},k=async()=>{try{const t=window.location.href;await navigator.clipboard.writeText(t),g(!0),y("Share URL copied to clipboard!"),setTimeout(()=>g(!1),2e3)}catch{p("Failed to copy share URL")}};return _?e.jsx("div",{className:"min-h-screen text-foreground flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading shared vMCP..."})]})}):s?e.jsx("div",{className:"min-h-screen text-foreground bg-background",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(x,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Shared vMCP"}),e.jsxs("p",{className:"text-muted-foreground",children:["View and install ",s.name]})]})]})}),e.jsxs(c,{className:"mb-8",children:[e.jsx(n,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-16 w-16 rounded-xl bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center",children:e.jsx(x,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{children:[e.jsx(d,{className:"text-2xl",children:s.name}),e.jsx(j,{className:"text-lg mt-2",children:s.description||"No description available"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:"secondary",className:"text-sm",children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Shared"]}),e.jsx(h,{variant:"outline",size:"sm",onClick:k,className:"flex items-center gap-2",children:P?e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-4 w-4"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"h-4 w-4"}),"Copy URL"]})})]})]})}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[e.jsx(u,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-2xl font-bold",children:s.vmcp_config?.selected_servers?.length||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Servers"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[e.jsx(L,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-2xl font-bold",children:s.total_tools||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Tools"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[e.jsx(x,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-2xl font-bold",children:s.total_resources||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Resources"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[e.jsx(b,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("div",{className:"text-2xl font-bold",children:s.install_count||0}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Installs"})]})]}),e.jsx("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Shared by"}),e.jsx("p",{className:"font-medium",children:s.creator_username||"Unknown"})]})})]})]}),s.tags&&s.tags.length>0&&e.jsxs(c,{className:"mb-8",children:[e.jsx(n,{children:e.jsx(d,{children:"Tags"})}),e.jsx(m,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((t,r)=>e.jsx(N,{variant:"outline",className:"text-sm",children:t},r))})})]}),s.vmcp_config?.selected_servers&&s.vmcp_config.selected_servers.length>0&&e.jsxs(c,{className:"mb-8",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"Included Servers"]}),e.jsx(j,{children:"MCP servers that will be installed with this vMCP"})]}),e.jsx(m,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.vmcp_config.selected_servers.map((t,r)=>e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-muted/50 flex items-center justify-center",children:e.jsx(u,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"No description available"})]})]})},r))})})]}),e.jsxs(c,{className:"mb-8",children:[e.jsxs(n,{children:[e.jsx(d,{children:"Installation Instructions"}),e.jsx(j,{children:"Follow these steps to install this vMCP to your account"})]}),e.jsx(m,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 text-primary text-sm font-medium flex items-center justify-center flex-shrink-0 mt-0.5",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Click Install"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:'Click the "Install vMCP" button above to start the installation process'})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 text-primary text-sm font-medium flex items-center justify-center flex-shrink-0 mt-0.5",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Resolve Conflicts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Review and resolve any server naming conflicts with your existing setup"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/20 text-primary text-sm font-medium flex items-center justify-center flex-shrink-0 mt-0.5",children:"3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Complete Installation"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"The vMCP will be installed and available in your account"})]})]})]})})]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(h,{variant:"outline",onClick:()=>o.push("/vmcp"),size:"lg",children:"Back to vMCPs"}),e.jsxs(h,{onClick:S,size:"lg",className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"Install vMCP"]})]})]})}):e.jsx("div",{className:"min-h-screen text-foreground flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-destructive",children:"vMCP not found or access denied"})})})}export{J as default};
//# sourceMappingURL=VMCPSharePage-DdONx4-G.js.map
