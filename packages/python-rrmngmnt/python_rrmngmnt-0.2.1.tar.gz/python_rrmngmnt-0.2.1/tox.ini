[tox]
envlist = py3{9,10,11,12,13,14},pep8
[testenv]
deps = uv
set_env =
    py39: UV_PYTHON=3.9
    py310: UV_PYTHON=3.10
    py311: UV_PYTHON=3.11
    py312: UV_PYTHON=3.12
    py313: UV_PYTHON=3.13
    py314: UV_PYTHON=3.14
commands=
  uv python pin {env:UV_PYTHON}
  uv sync --locked --all-extras --dev --group tests
  uv run pytest -n auto \
    --basetemp={envtmpdir} \
    --cov rrmngmnt \
    --cov-report term \
    --cov-report html \
    {posargs} tests
[testenv:pep8]
deps=uv
commands=uvx flake8 --max-line-length=120 rrmngmnt tests
