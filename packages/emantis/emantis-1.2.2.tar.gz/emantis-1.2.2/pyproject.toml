[project]
authors = [
    { name = "Iñigo Sáez Casares", email = "inigo.saez-casares@obspm.fr" },
]
requires-python = "<3.15,>=3.10"
dependencies = [
    "h5py <4.0,>=3.8",
    "scikit-learn <2,>=1",
    "numpy <3.0,>=1.24",
    "pydantic <3.0,>=2.6",
    "tomli <3,>=2; python_version < '3.11'",
    "joblib <2.0.0,>=1.3.2",
]
name = "emantis"
version = "1.2.2"
description = "A cosmological emulator for nonlinear large-scale structure formation studies in alternative dark energy and gravity theories."
readme = "README.rst"
classifiers = [
    "Programming Language :: Python :: 3",
    "License :: OSI Approved :: GNU General Public License v3 (GPLv3)",
    "Operating System :: OS Independent",
    "Intended Audience :: Science/Research",
    "Topic :: Scientific/Engineering :: Physics",
]
keywords = [
    "cosmology",
    "emulator",
    "large-scale structure",
    "dark energy",
    "modified gravity",
]

[project.license]
text = "GPL-3.0-or-later"

[project.urls]
repository = "https://gitlab.obspm.fr/e-mantis/e-mantis.git"
documentation = "https://e-mantis.pages.obspm.fr/e-mantis/index.html"

[project.scripts]
emantis-train = "emantis._cli:train_all_emulators"

[tool.pdm.build]
includes = []
excludes = [
    "src/emantis/data/emulator_storage*",
]

[tool.uv]
default-groups = [
    "dev",
    "docs",
]

[tool.pytest.ini_options]
addopts = "-vv --cov"

[tool.pydocstyle]
convention = "numpy"

[build-system]
requires = [
    "pdm-backend",
]
build-backend = "pdm.backend"

[dependency-groups]
dev = [
    "ipython",
    "matplotlib",
    "jupyterlab <4.0,>=3.6",
    "pytest>=8.4.1",
    "pytest-cov>=6",
    "pytest-pydocstyle>=2.4.0",
    "pre-commit>=4.5.0",
]
docs = [
    "sphinx",
    "sphinx-copybutton",
    "sphinx-rtd-theme",
    "myst-nb",
    "sphinx-multiversion>=0.2.4",
]
