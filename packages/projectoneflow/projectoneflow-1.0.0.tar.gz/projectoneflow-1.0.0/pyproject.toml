[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[project]
name = "projectoneflow"
description = "This Project is data engineering framework which implements all data engineering ingestion patterns"
dynamic = ["version","readme","dependencies"]
requires-python = ">=3.10"

authors = [
  {name = "Mukhesh Narra", email = "narramukhesh@gmail.com"}
]
maintainers = [
  {name = "Mukhesh Narra", email = "narramukhesh@gmail.com"}
]
classifiers = [
  "Development Status :: 5 - Production/Stable",
  "Natural Language :: English",
  "Intended Audience :: Developers",
  "Topic :: Software Development",
]
keywords = [
  "dataengineering",
  "projectoneflow",
  "pyspark",
  "delta-lake",
  "Python"
]
license = "MIT"

[tool.setuptools.dynamic]
version = {attr = "projectoneflow.core.__version__"}
readme = {file = "README.md"}
dependencies= {file ="environment/requirements.txt"}

[project.urls]
bugs = "https://github.com/narramukhesh/projectone/issues"
changelog = "https://github.com/narramukhesh/projectone/tree/main/projectoneflow/HISTORY.md"
homepage = "https://github.com/narramukhesh/projectone/tree/main/projectoneflow"

[tool.setuptools]
package-dir = {"" = "src/"}

[tool.setuptools.packages.find]
where = ["src/"]
include = ["projectoneflow.*"]

[project.scripts]
projectoneflow = "projectoneflow.core.cli.cli:main"

[project.entry-points.projectoneflow_group]
task = "projectoneflow.core.task.cli:main"

[tool.semantic_release]
version_variables = ["src/projectoneflow/core/__init__.py:__version__"]
build_command = "python -m build --wheel"
commit_message = "chore: (projectoneflow){version}\n\nAutomatically generated by python-semantic-release"
tag_format = "v{version}-projectoneflow"
no_git_verify = true

[tool.semantic_release.changelog.default_templates]
changelog_file = "HISTORY.md"

[tool.semantic_release.remote]
name="origin"
type="github"
ignore_token_for_push = false
insecure = false

[tool.semantic_release.branches.main]
match = "(main|master|prod)"


[tool.pytest.ini_options]
addopts = [
    "--import-mode=importlib",
    "--cov=projectoneflow",
    '--log-format="%(asctime)s %(levelname)s %(message)s"',
    '--log-date-format="%Y-%m-%d %H:%M:%S"',
]
pythonpath = "src"